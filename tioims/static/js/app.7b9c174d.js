(function(t){function e(e){for(var i,o,n=e[0],c=e[1],l=e[2],u=0,h=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],i=!0,n=1;n<s.length;n++){var c=s[n];0!==a[c]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var i={},a={app:0},r=[];function o(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=i,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(s,i,function(e){return t[e]}.bind(null,i));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var d=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0032":function(t,e,s){"use strict";s("5163")},"043d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA4UlEQVRIiWMYBaOAdsDY2NgRhCm1gAWP3BworQwTMDY2ZhUWFmbbtWvXV2ItYMImqKKiws7AwKAExcjg5Nu3b185ODiIUGQBDw8PJzZxRkZGkIVcP3784IGJmZubtxkYGLSTZAEp4M+fP5XMzMwVNLOAEBj6FuBLpkSB////L2ZnYMLpUKwWCAgI/Pj8+TOG+L9//54xMjJyMTExfYOJnTt3Lg6fQ7DafODAgR////9/CsLI4j9+/DBjZ2eXOXbs2CtifYgziNjZ2XPRxa5du/aFgYHhC7GGj4JRQAXAwMAAAOocO+cZWPQmAAAAAElFTkSuQmCC"},"04e8":function(t,e,s){"use strict";s("c411")},"0626":function(t,e,s){},"06b7":function(t,e,s){t.exports=s.p+"static/img/success-icon.2be4a114.png"},"07cf":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAD+0lEQVRoQ+1YTVIaURD+erQSXKknUDdJ4UY4gQzuElOFJ4iulYqeQDhBTJGsoycIqaA7BU4Q2EglG7lBdKVJ6XSqH29gwNGZN4NFSPGqKKji/fT39df9+jVhzAeNuf2YABi1BycemHggJgMTCbkEVi94jn9jlRk5AhbR+8iUtnwYaBOhTM9Rt5foMib5anlsD1RbvOgA+wRsmhjEwKEFFO0kCbjIIzIAYdy5xj4Rdj2n15lRtggNYdw1rvqTU7jDnMNIESmgK+4aAgpI4ENUj0QCoORyjSoIKW3IkRgSlk3xGovhwFu1ntGgGdhRQBgDEDb5Vhk/B6BJU9i0X5AwbjxkL+cWZSIsgHFJ07BN9zICoJm/0MbXKYFcFNa8SNWeNygDWFUgZrBksmdoAAOyqWeTlPGj/E2Jc2xhBYwMWEtMYoJQcxiNkx366rfurMU1DcJITqEBnJ7zARHeKdkkkBlk6dUnThHjM6EbF76SYqDBhK2T7X7Z6aTQEDkxUFxLksRI4AgFQAfdhcq7U0gP6nS9xAUQ9gNP804gFCrbVOyTk8TXHb7r/L4UJimEAnDW4kOdMY6ySerL95GM11YzsHe8QwdeEI+d5UdQIAAdZL/8WBHZWNxhLOpwCGmvnPq8ncB8UEAHA/jBOXbwBcC9wF0vsQRn91KKAkJi4niH0gNekLS8QhY27JckGerBEQjAdSkz9taWe+5W2YYUsNiDGBvf8j1DT895lwjvAdyT7OBhYQCo9EaAbSdJfqsRR/v3EDOKlXwv61RbnGGg6ud1YwCn5ywV5AIBfVlhvcQ1EFZj0y8bMOqVfO9eUbe9ZCNGI7vcLy9jAGctZlmUTVKft15/5EsCZocE4LKSp/mBOPA9958EwMDV8Q5JbdUdDxFnDGCkEgKa2SS5Fa+vs///IB77NFp94osMjGYl3y+TsxYP7yIb+1JCImesizkB8BTltF8l2r3AOu2S4ZXTAuK0xQWCqvnblEDa70FjOTgMLO4YTcfCpt+Dhm9UZSsP/uE+aJQXOm9XqYWk+qxlk2T7JWZV5HVeZRnWXQti1WapEdDwFm0DF5cK3IdefA/d+IH3gHehevbdoK1LiBolsBFUrweVGpoYqWqlgLuyElg02dMIgPKEtELuFJuzqp8zjS3TVogLSmtejBfZXFlTyJjuZQzAR04wbRP6tCN9GwVB3pP/IwFwQTg32NWB3TlLPGLhkOV7Clcum5rpWSKk2MGmp6Mn4ItWAgcmsvECiwygK4PBNmEY2jpzjNqRQwnix2yTYMQfZNhBTrfWpTx238tNANJOb5OFMp6hFpVx43I6PKGjmRlbQqMxu3fqBMDEAzEZmEgoJoGxl4+9B/4Cdn00T06uQ98AAAAASUVORK5CYII="},"08b7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABi0lEQVRIS+2UMS8FQRDH/7MnTqFQKBQK6otkb9cHoFSh14gSNa0gPgJCQiMhkShQKR6FiGLmbfG+gkKiUCi8xN3IFu/lFeJE3lOZ6jI7md/8/zu3hB4H9bg//gGVDv+tRdbasSRJZlV1qGo0VX03xtwy8+N3tW0F1lprjLkAcA7grQpARAMAFlR1XUROWvXOOU9EI8x8HXNtgPf+oCiKxxDCYVXz1nme55PGmCNmnoi5PM+XjDFbUV1ZloshhNtOQK0oio2Y/CkgWmqMqYnIuPd+B8AcgHlVXQNwJyLH3QDEgR6IaDQ2Z+YX59xRNwFCRE/MnAP4iOq7DagTUWDm6Y6L7qqCewD9AFZE5KwXCmpENAPgRlX3RGT7S4ucc5cA9kXk6jdblGXZSJqml6oaiGhYVc/q9fppe4ucc8tENNVsNlcajcZzFcRaO5QkyY6qDojIYqzPsmwwTdNdIhprbVTnW9Tnvd+MfyeAuHLfhqq+Argqy3I1hBC/v4y/feyqpv7N+b+CStd6btEnuIvdGUX8hdoAAAAASUVORK5CYII="},"093b":function(t,e,s){"use strict";(function(t){var i=s("a7fe"),a=s("c50e"),r=s("7401"),o=(s("4e22"),s("4e08")),n=s("3a23"),c=s("3707");const l={data(){return{lastSelection:{range:null,selection:null},remindshow:!1,remindsearch:"",atMemList:[],pcarshow:!1,gcarshow:!1,isFriend:!1,isforbidden:!1,joinshow:!1,cardData:{},loading:!1,showmediaform:!1,imageSendConfirmshow:!1,imageUrl:""}},methods:{uploadMedia(t,e){let s=this;s.upLoadAjax(t,e)},uploadImg(t){this.uploadCom(t,"/chat/img")},uploadVideo(t){this.uploadCom(t,"/chat/video")},uploadDix(t){this.uploadCom(t,"/chat/file")},uploadCom(t,e){Object(a["i"])();let s=this,r=t.currentTarget.files[0],o=new FileReader;o.readAsDataURL(r),o.onload=function(o){let n=Object(i["b"])(this.result),c=new FormData;if(void 0==n)return Object(a["j"])(r.name+"是个空文件，无法发送，请重新选择。"),setTimeout(()=>{Object(a["h"])()},1500),void(t.target.value="");c.append("uploadFile",n,r.name),c.append("chatlinkid",s.chatOn),s.upLoadAjax(e,c),t.target.value=""}},upLoadAjax(t,e,s){Object(r["b"])(t,e).then(t=>{Object(a["h"])(),t.ok?s&&s(t):Object(a["j"])(t.msg)})},async wxCallInvite(e){if(this.chatOn){if(this.callShow)return t(".iconVideocall").removeClass("icon_select"),t(".iconvoicecall").removeClass("icon_select"),void Object(a["j"])("您正在通话中，请挂断后再拨");this.setCallType(e),Object(c["a"])(e,this.bizId)}},chooseEmoji(){this.showEmoji=!0,this.$nextTick(()=>{Object(i["d"])(t("#tm-emoji-body"))}),this.$setAddEventListener("showEmoji")},appendMessage(e){document.documentElement.click();let s=t(e.currentTarget).attr("alt");this.$chatEditor.focus(),this.lastSelection.range||this.getSelecRange();let{range:i,selection:a}=this.lastSelection,r=document.createElement("span");r.innerHTML=s;let o=document.createDocumentFragment(),n=r.firstChild,c=o.appendChild(n);i.insertNode(o);let l=i.cloneRange();l.setStartAfter(c),l.collapse(!0),a.removeAllRanges(),a.addRange(l),t(".iconIMweb_expression").removeClass("icon_select")},wxTextKey(t){if(!this.chatOn)return;let e=t.keyCode;if(13==e&&t.ctrlKey){let t=getSelection(),e=t.getRangeAt(0),r=document.createElement("div");r.innerHTML="<br/>";let o=document.createElement("span");o.innerHTML="&nbsp;";let n=document.createDocumentFragment(),c=r.firstChild;n.appendChild(c);let l=n.appendChild(o.firstChild);e.insertNode(n),t.extend(l,0),t.collapseToEnd();var s=getSelection(),i=s.getRangeAt(0),a=i.startContainer;a.nextSibling&&a.nextSibling.length>0&&(i.setStart(a,i.endOffset),i.setEnd(a,i.endOffset+1),i.deleteContents())}else 13==e&&this.chatSendMessage()},pasteSend(e){let s=this;e.preventDefault(),this.getSelecRange();var a=e.clipboardData.items;t.each(a,(t,e)=>{if(0==t&&"file"==e.kind&&e.type.match("^image/")){var a=e.getAsFile();if(a){var r=new FileReader;r.readAsDataURL(a),r.onload=function(){Object(i["b"])(this.result);var t=this.result;s.imageUrl=t,s.imageSendConfirmshow=!0}}}else if("string"==e.kind&&e.type.match("^text/plain")){let{selection:t,range:i}=s.lastSelection;e.getAsString((function(e){var s=document.createElement("pre");s.innerHTML=e;var a=document.createDocumentFragment();let r=a.appendChild(s);i.insertNode(a);let o=i.cloneRange();o.setStartAfter(r),o.collapse(!0),t.removeAllRanges(),t.addRange(o)}))}})},getSelecRange(){let t=getSelection(),e=t.getRangeAt(0);this.lastSelection={range:e,selection:t}},cancleSendImg(){this.imageSendConfirmshow=!1},sureSendImg(){this.imageSendConfirmshow=!1;let t=Object(i["b"])(this.imageUrl),e=new FormData;e.append("uploadFile",t,"wxchatimg.jpg"),e.append("chatlinkid",this.chatOn),this.upLoadAjax("/chat/img",e)},listenRemind(t){this.isGroup&&"@"==t.data&&this.showAtContent()},chatSendMessage(){let e=this.$chatEditor.html();if(""==e)return void Object(a["j"])("请输入正文内容");let s=[];if(this.isGroup){let e=t("#chat-editor .setatbutton");e.length>0&&t.each(e,(function(e,i){s.push(t(i).attr("atuid"))})),s=Array.from(new Set(s))}this.$chatEditor.html(""),e=e.replace(/<br>/gm,"\n");var i=/<[^>]*>|<\/[^>]*>/gm;if(e=e.replace(i,""),e=e.replace(/&nbsp;/gm,"  "),e=e.substring(0,2e3),this.isGroup)if(null==this.$chatEditor.referenceMessageModel){let t={c:e,chatlinkid:this.chatOn};s.length>0&&(t.at=s.join(",")),Object(o["a"])(n["c"].WxGroupChatReq,t)}else{let t={c:e,chatlinkid:this.chatOn,referenceMsgId:this.$chatEditor.referenceMessageModel.mid};s.length>0&&(t.at=s.join(",")),Object(o["a"])(n["c"].WxGroupChatReq,t)}else if(null==this.$chatEditor.referenceMessageModel){let t={c:e,chatlinkid:this.chatOn};Object(o["a"])(n["c"].WxFriendChatReq,t)}else{let t={c:e,chatlinkid:this.chatOn,referenceMsgId:this.$chatEditor.referenceMessageModel.mid};Object(o["a"])(n["c"].WxFriendChatReq,t)}this.$bus.$emit("referenceMsgClose","我来啦！！！")},hideRemind(){this.remindshow=!1},showAtContent(){document.documentElement.click(),this.remindsearch="",this.remindshow=!0,this.$setAddEventListener("remindshow"),this.atGroupUserList(),this.$nextTick(()=>{Object(i["d"])(t("#remindfriends"))});let e=t(window).height();var s=this.$chatEditor.caret("offset");t("#remindContent").offset({left:s.left+30,top:s.top-e/2}),setTimeout(()=>{t("#remindsearch").focus()},300)},atGroupUserList(){let t={groupid:this.bizId,searchkey:this.remindsearch};a["g"].atGroupUserList(t).then(t=>{if(t.ok){let e=t.data;e.map(t=>{t.avatar=Object(i["l"])(t.avatar)}),this.atMemList=e}})},debounce(t,e){null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(t,e)},remindSearch(){let t=this;this.debounce((function(){t.atGroupUserList()}),300)},getRemindContent(){if(document.documentElement.click(),!this.lastSelection.range){this.$chatEditor.focus();let t=getSelection(),e=t.getRangeAt(0);this.lastSelection={range:e,selection:t}}let{selection:t,range:e}=this.lastSelection,s=document.createElement("span");s.innerHTML="@";var i=document.createDocumentFragment();let a=i.appendChild(s.firstChild);e.insertNode(i);let r=e.cloneRange();r.setStartAfter(a),r.collapse(!0),t.removeAllRanges(),t.addRange(r),this.showAtContent()},rightRemind(){if(!this.lastSelection.range){this.$chatEditor.focus();let t=getSelection(),e=t.getRangeAt(0);this.lastSelection={range:e,selection:t}}let t={uid:this.contextmenu.data.uid,nick:this.contextmenu.data.remindnick};this.rangeAdd(t)},cancleRemind(){this.remindshow=!1,$whiteMask.hide();let t=this.lastSelection.selection,e=this.lastSelection.range,s=e.cloneRange();s.collapse(!0),t.removeAllRanges(),t.addRange(s)},addReMind(t){this.remindshow=!1,this.$chatEditor.focus();t.nick;let{selection:e,range:s}=this.lastSelection,i=s.startContainer;s.setStart(i,s.endOffset-1),s.setEnd(i,s.endOffset),s.deleteContents(),this.rangeAdd(t)},rangeAdd(t){let{selection:e,range:s}=this.lastSelection;var i=document.createElement("button");i.setAttribute("contenteditable","false"),i.setAttribute("atuid",t.uid),i.innerHTML="@"+t.nick+"&nbsp ",i.className="setatbutton";var a=document.createDocumentFragment();let r=a.appendChild(i);s.insertNode(a);let o=s.cloneRange();o.setStartAfter(r),o.collapse(!0),e.removeAllRanges(),e.addRange(o)},async chatContextMenu(t,e,s){if(this.cmenutype=s,"msg"==s){if(1==e.ct){let t=document.getElementById("copy"+e.mid),s=new Range;s.setStartBefore(t),s.setEndAfter(t);let i=window.getSelection();i.removeAllRanges(),i.addRange(s)}if(this.isGroup){log(e);let t=e.uid,s=(this.bizId,await a["g"].getWxGroupInfo(this.bizId,1));e.grouprole=s.groupuser.grouprole}}if("avatar"==s){if(log("msgmixin"),!this.isGroup)return;log(e);let t=e.uid,s={uid:t,groupid:this.bizId};this.isFriend=await a["e"].isMyFriend(t);let i=await a["g"].chatForbiddenFlag(s);i.ok&&(this.isforbidden=i.data,e.forbiddenInfo=i.data);let r=await a["g"].getWxGroupInfo(this.bizId,1),o={uid:t,groupid:this.bizId},n=await a["g"].checkGroupUser(o);n.ok&&(e.isInGroup=n.data),e.remindnick=e.name,e.selfGrouprole=r.groupuser.grouprole,e.friendflag=r.group.friendflag,log(e)}let r=Object(i["m"])(t,130,100);this.contextmenu={top:r.otop,left:r.oleft,data:e},this.contextmenushow=!0,this.$setAddEventListener("contextmenushow")},shareFriend(){document.documentElement.click(),this.pcarshow=!0,this.$setAddEventListener("pcarshow")},showMedia(){document.documentElement.click(),this.showmediaform=!0,this.$setAddEventListener("showmediaform")},stopProp(){},shareGroup(){document.documentElement.click(),this.gcarshow=!0,this.$setAddEventListener("gcarshow")},chatPersonSet(t){this.chatOn&&this.showUserCard(t,this.bizId)},async sendApply(){document.documentElement.click();let t=await this.getUserInfo(this.bizId);t.avatar=Object(i["l"])(t.avatar),this.userCard.data=t,this.$refs.usercard.msgApply()},cardClick(t,e){let s=e.bodyData,i=s.cardtype;if(this.cardData=s,1==i&&this.showUserCard(t,s.bizid),2==i){let t={groupid:s.bizid,applyuid:s.shareFromUid,sendtime:s.sendtime};a["g"].checkCardJoinGroup(t).then(async e=>{if(e.ok){var i=e.data;if(1==i){s.bizid;let i=await r["a"].chatActChat(t);if(i.ok){let t=i.data.chat;this.applyThis.$refs.chatlist.chatColClick(t)}else Object(a["j"])(e.msg)}else this.joinshow=!0}else Object(a["j"])(e.msg)})}},cancleJoin(){this.joinshow=!1},sureJoinGroup(){this.loading=!0;let t={uids:this.curruid,groupid:this.cardData.bizid,applyuid:this.cardData.shareFromUid};a["g"].directInvite(t).then(async e=>{if(this.loading=!1,e.ok){this.joinshow=!1;let e=await r["a"].chatActChat(t);if(e.ok){let t=e.data.chat;this.applyThis.$refs.chatlist.chatColClick(t)}Object(a["j"])("进群成功")}else Object(a["j"])(e.msg)})}}};e["a"]=l}).call(this,s("1157"))},"0b42":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQkAAAArCAYAAABre33tAAAEM0lEQVR4Xu1dUbITMQxrTspwAo7AcAROwHDSMJ3Xx5R2d6PIdhIH8depY8eSrE13S1+56d+t1vrtDkMp5afgEAJC4F8EigC53U3i+8MkfggPISAEZBJvGpBJaCyEwDkCOkncdJLQgAiBKwRkEjIJTYgQuERAJiGT0IgIAZlESwO6J9FCaN/39WSrza1OEjpJtFWycYQuEG1yZRIyibZKNo6QSbTJlUksZhK7HH+z9CGTkEm0EQgwCcuA7CLaLH0c7dPCHyS4D82l+ZavThIxJkF/gzPLcLWGYXQf7NCdmATNXwuXz/dH44Pu6ygupUmwgrgDcLTW+2piEYBlrUUI3mtH98HW8zYJVJvsfr15QvJlNQna6VFRWEictRYhfFSMBYPnPUYPHaoHFDe0bzQOrRsZJ5M4+bhhOV1YBGBZGymU3txefaB50LjXPmQSbWZlEn0mAZ1gUMGiH33aNM6NiOyjA0uImxkmEYnPCOaXNwkLwOha9GriLVi07gghWGpE9uGN+SSTeDMwtC8LL15rM5gEBPAIQ0CJtcSha70E4JFntEmgXCO9oXs/qfn2GLMjH3XyQXryjtnJJFAz8Y6DhHJEHCoob9K980X2geZmzdWS33utNy9e+Uqt9Usp5fdnwgVfew/1rHyQmZwIbwuO7hoj9EXzBdaj80eYBIFPvDZqrbWU8vdEseDrZUj0FkVHvi04egxtby80/2A9On8Hf1ANcL+9+NnjFzSF16YggL0JWyyfnejYCwHEETkEUO6zjxuAvun83hoh8YnXBgBi/CauBbwMid6i6Mg3m4NWfYgjcgig3DKJjxsGIfNca/1VSvn6dE9itde0SDqGcPUaq3Hyuh8Iv4eIe3uBcl+YRKsend9bXyQ+rf7s73vdAY3K403ExHz0jcsobL3yopgy9dDcerrBoIut2ekRKD2EFiFantmjdTEq50VF9oHmlknE8b+NSVi+h+AtRFSwaN04+n0yR/Zxkhu6ICDdoXvXl6kQNCfFGK/UkJg6hAJ9S04m4fe3TCxYIpJFuUdyPe4p0Pc40Bqj45Y/SaAnBBQ4VBRonGV/FgNE+x0RF9nHJiYBXaxGcMXUkEn0/S9Q6CfHUGFbDIYhe+QaCwbP+9TvSYxk7bhWVpOAhhUdQsupAa2BUu01XGi9qLjRfbD1AriHtMnuN4qvq7wpTcICFHo0Rq9gMoljNkYPAVvP2yRQbbL7RfN7xv13JuE91N75MonnSoij+2BNfaJJQCcOz2Fnc8kkYn4tmxYAK3ZWAFHrsvSBPmKNwilDXplEgElkIF57/EBg9IknI+4yCQklo27d9iyTaEMpk5BJtFWycUSWj0UzKZBJyCRm6k+1EyAgk5BJJJCptjgTAZmETGKm/lQ7AQIyCZlEAplqizMRkEnIJGbqT7UTICCTOPlL4wm40xaFwBAE/gBTuLefICErrQAAAABJRU5ErkJggg=="},"0f53":function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("c50e"),r=s("bab4"),o=s.n(r),n=(s("6107"),s("a7fe"));e["a"]={props:["infoshow","userinfo","type"],data(){return{sexList:[{label:"男",value:1},{label:"女",value:2},{label:"保密",value:3}],searchflag:1,fdvalidtype:1,loading:!1,txcropper:{show:!1,cropper:null,flagX:!0,height:0,width:0}}},watch:{infoshow(t,e){t&&(1==this.type&&(this.searchflag=1==this.userinfo.searchflag,this.fdvalidtype=1==this.userinfo.fdvalidtype),2==this.type&&this.initCropper())}},computed:{...Object(i["d"])({curruser:t=>t.User.currUser})},methods:{...Object(i["c"])(["setCurrUser"]),...Object(i["b"])(["getCurrUser"]),hideUpdateInfo(){this.$emit("update:infoshow",!1)},saveUpdateUser(){this.loading=!0;let{nick:t,sign:e,sex:s}=this.userinfo;if(this.userinfo.fdvalidtype=this.fdvalidtype,this.userinfo.searchflag=this.searchflag,""==t)return void Object(a["j"])("昵称不能为空");let i={nick:t,sign:e,sex:s,fdvalidtype:this.fdvalidtype?1:2,searchflag:this.searchflag?1:2};a["l"].updatUser(i).then(t=>{t.ok?(this.hideUpdateInfo(),this.setCurrUser({...this.userinfo}),Object(a["j"])("保存成功")):Object(a["j"])(t.msg),this.loading=!1})},initCropper(){let t=this;var e={aspectRatio:1,preview:".previewImg",aspectRatio:1,viewMode:1,crop:function(e){var s=e.detail;t.txcropper.width=Math.round(s.width)+"px",t.txcropper.height=Math.round(s.height)+"px"}};this.txcropper.width=0,this.txcropper.height=0,this.txcropper.cropper&&this.txcropper.cropper.destroy(),this.txcropper.cropper=new o.a(document.getElementById("tailoringImg"),e)},cropperRotate(){this.txcropper.cropper.rotate(45)},cropperReset(){this.txcropper.cropper.reset()},cropperflagX(){this.txcropper.flagX?this.txcropper.cropper.scaleX(-1):this.txcropper.cropper.scaleX(1),this.txcropper.flagX=!this.txcropper.flagX},closeCropper(){this.hideUpdateInfo(),this.txcropper.cropper.destroy()},changeAvatar(e){var s=e.currentTarget.files[0];if(!s)return;let i=this;var a=new FileReader;a.onload=function(t){var e=t.target,s=e.result;i.txcropper.cropper.replace(s,!1)},a.readAsDataURL(s),t("#tailoringImg").attr("name",s.name)},sureCut(){if(!t("#tailoringImg").attr("src"))return Object(a["j"])("请选择图片"),!1;{let s=this;var e=this.txcropper.cropper.getCroppedCanvas();e=this.txcropper.cropper.getCroppedCanvas({minWidth:1,minHeight:1}),e.toBlob((function(e){var i=new FormData;i.append("uploadFile",e,t("#tailoringImg").attr("name")+".jpg"),a["l"].updateAvatar(i).then(async t=>{s.closeCropper(),t.ok?(await s.getCurrUser(),s.curruser.avatar=Object(n["l"])(s.curruser.avatar)):Object(a["j"])(t.msg)})}),"image/jpeg",1)}}}}}).call(this,s("1157"))},"0f9a":function(t,e,s){"use strict";(function(t){var i=s("eca5"),a=s("a7fe"),r=(s("a18c"),s("c50e"));const o={currUser:null,isLogined:!1,isSuper:!1,isNormal:!1,currUid:"",isonlineuid:"",roles:{adminNormal:1,adminSuper:99,normal:2,uploadvideo:6,allow_read_doc:7,paid_doc:8,paid_sitecode_qijian:94,paid_sitecode_baijin:95,paid_tiochat_base:96},appcode:{NOTLOGIN:1001,TIMEOUT:1002,KICKTED:1003,NOTPERMISSION:1004,REFUSE:1005,NEED_ACCESS_TOKEN:1006,CAPTCHA_ERROR:1007,KICKTED_H5:1010,NO_GRANT:1099},friendErrorCode:{SYS_ERROR:20001,BLACK:20002,NO_LINK:20003,Invalid_USER:20004,SYS_ERROR_CODE:20006},GroupErrorCode:{SYS_ERROR:30001,NO_LINK:30002},loginModel:{show:!1,msg:"登录异常"}},n={async getComView({state:t,commit:e}){let s,i=await Object(r["c"])();return i.ok&&(s=i.data,sessionStorage.setItem("tiocomconfig",JSON.stringify(s))),s},async getCurrUser({state:e,commit:s}){let i=await Object(r["d"])();if(i.code!=e.appcode.KICKTED)if(i.ok){let r=i.data;t.extend(!0,r,r,r["ipInfo"]),e.currUser=r,e.currUid=r.id,e.currUser.avatar=Object(a["l"])(e.currUser.avatar);let o=r.roles;e.isNormal=s("judgeRoles",{userRoles:o,type:e.roles.normal}),e.isSuper=s("judgeRoles",{userRoles:o,type:e.roles.adminSuper}),r.xx&&1==r.xx?e.isLogined=!1:e.isLogined=!0}else e.isLogined=!1;else e.isLogined=!1},getUserInfo({state:e},s){if(!s)return null;if(s==e.currUid){var r={};return t.extend(!0,r,e.currUser),r}var o="/user/info";e.isSuper&&(o="/user/info1");let n=s;return Object(a["j"])(o,n,8,(async function(){var t=null;return await Object(i["b"])(o,{uid:s}).then(e=>{e.ok&&(t=e.data)}),t}))}},c={judgeRoles(t,e){let s=e.userRoles,i=e.type;if(!s||0==s.length)return!1;for(var a=0;a<s.length;a++)if(s[a]==i)return!0;return!1},setLoginModel(t,e){t.loginModel=e},setCurrUser(t,e){t.currUser=e},setIsonlineuid(t,e){t.isonlineuid=e}};e["a"]={state:o,actions:n,mutations:c}}).call(this,s("1157"))},1:function(t,e){},10:function(t,e){},11:function(t,e){},"11d6":function(t,e){t.exports="data:image/png;base64,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"},12:function(t,e){},13:function(t,e){},14:function(t,e){},"141c":function(t,e,s){t.exports=s.p+"static/img/icon_wx.78fd4a30.png"},"14b1":function(t,e,s){t.exports=s.p+"static/img/icon_oschina.356f200e.png"},1589:function(t,e){t.exports="data:image/png;base64,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"},"1a9b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAABFElEQVQoU43QvUrEQBQF4HOSgCKaJ9DGRhAlmAkp4gvoS6yCPw8g2FhbWm3rNmplZadlGtkimUzsLAXBUhsLCZJciRgJm4g71cyZ+8HlEK0jInae57tVVZ2QXAYwLsvyOAzDcXuO7YfWep/keTv7ua8qpR6b/BfFcTzvuu57D6ijK6XUoIOSJFmybfu5D4nIQxAEGx2ktZ4j+QZgZhKKyGUQBDsdVAfGmIGIXEygT8dxVjzPe+pFdZhl2RaAu2agKIrFKIpeetszxpyJyCGAhZ71XkkeKKVu6r/v9rIsuwWw/UdzTVySPPJ9f8g0Tfcsyxr9A1rbFmvUWt+T3JwSQUROa/RBcnZaBOCaxpghgPVpEcnRF9uVYkKdW+APAAAAAElFTkSuQmCC"},"1adb":function(t,e,s){"use strict";(function(t){const s={callObj:{localsrc:!1,remotesrc:!1},callInfo:null,remoteReq:{},callRole:1,fullState:!1,talk:{time:"00:00",timer:""},calltype:1,callShow:!1},i={setCallInfo(t,e){t.callInfo=e},setCallShow(t,e){t.callShow=e},setCallRole(t,e){t.callRole=e},setCallType(t,e){t.calltype=e},setFullState(t,e){t.fullState=e},setRemoteReq(t,e){e.key?t.remoteReq[e.key]=e.val:t.remoteReq=e},resetCallObj(t){t.callObj.localsrc=!1,t.callObj.remotesrc=!1},exitFullScreen(t){t.fullState=!1;var e=document;e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.cancelFullScreen?e.cancelFullScreen():e.exitFullscreen&&e.exitFullscreen(),this.commit("removeListen")},listenFull(){let e=this;t(window).on("resize",(function(){var t=document.webkitIsFullScreen||window.fullScreen;void 0===t&&(t=!1),t||e.commit("exitFullScreen")}))},removeListen(){t(window).unbind("resize")},setTalkTimer(t){let e=0,s=0,i=0,a=0;t.talk.timer&&(t.talk.time="00:00",clearInterval(t.talk.timer)),t.talk.timer=setInterval((function(){e=Math.floor(a/60/60),s=Math.floor(a/60%60),i=Math.floor(a%60),s<10&&(s="0"+s),i<10&&(i="0"+i),t.talk.time=s+":"+i,a+=1}),1e3)}};e["a"]={state:s,mutations:i}}).call(this,s("1157"))},"1b3f":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-container",on:{click:function(e){return e.stopPropagation(),t.stopProp(e)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.pcarshow,expression:"pcarshow"}],staticClass:"remindContent send-card"},[i("p",{staticClass:"remind-title"},[i("span",[t._v("选择推荐的好友")]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel closeicon",on:{click:t.closeDialog}})]),i("p",{staticClass:"tm-search-friend"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.pcardsearch,expression:"pcardsearch"}],staticClass:"tm-search-input",attrs:{type:"text",autocomplete:"off",placeholder:"请输入好友名称"},domProps:{value:t.pcardsearch},on:{input:[function(e){e.target.composing||(t.pcardsearch=e.target.value)},t.friendQuerylist]}})]),i("div",{staticClass:"remindbody cardlist",attrs:{id:"friendListCard"}},[i("ul",{staticClass:"remindfriends card-content"},[0==t.myFriendFilter.length?i("div",{staticClass:"nodata-content"},[i("img",{staticClass:"search-nodata",attrs:{src:s("1e27")}}),i("p",{staticClass:"search-nodata_tips"},[t._v("抱歉，没有找到相关信息")])]):t._e(),t._l(t.myFriendFilter,(function(e){return i("div",{key:e.index},[i("p",{staticClass:"letter-index"},[t._v(t._s(e.index))]),i("p"),t._l(e.data,(function(e){return i("li",{key:e.uid,staticClass:"remind-col",on:{click:function(s){return t.showCard(e,1)}}},[i("el-image",{staticClass:"remind-col_img",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{staticClass:"flexauto",domProps:{innerHTML:t._s(t.brightenKeyword(e.remarkname||e.nick,t.pcardsearch))}})],1)}))],2)}))],2)])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.tocardshow,expression:"tocardshow"}]},[i("div",{staticClass:"modelbody sharebody"},[i("p",{staticClass:"title"},[t._v(t._s(1==t.sharetype?"好友推荐":"群聊推荐"))]),i("div",{staticClass:"share-content"},[i("div",{staticClass:"card-info"},[i("div",{staticClass:"card-main"},[i("el-image",{staticClass:"card-avatar",attrs:{src:t.cardInfo.toavatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{staticClass:"share-name"},[t._v(t._s(t.cardInfo.name))])],1),i("p",{staticClass:"share-tips"},[t._v(t._s(1==t.sharetype?"个人名片":"群名片"))])]),i("p",{staticClass:"to-title"},[t._v("将名片分享给"+t._s(t.isGroup?"该群聊":"该用户"))]),i("div",{staticClass:"to-content"},[i("el-image",{staticClass:"to-avatar",attrs:{src:t.chatinfo.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{staticClass:"to-name"},[t._v(t._s(t.chatinfo.name))])],1)]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleToShare}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.sureSendCard}},[t._v("发送名片")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.gcarshow,expression:"gcarshow"}],staticClass:"remindContent send-card"},[i("p",{staticClass:"remind-title"},[i("span",[t._v("选择推荐的群聊")]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel closeicon",on:{click:t.closeDialog}})]),i("p",{staticClass:"tm-search-friend"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.gcardsearch,expression:"gcardsearch"}],staticClass:"tm-search-input",attrs:{type:"text",autocomplete:"off",placeholder:"请输入群聊名称"},domProps:{value:t.gcardsearch},on:{input:[function(e){e.target.composing||(t.gcardsearch=e.target.value)},t.groupQuerylist]}})]),i("div",{staticClass:"remindbody cardlist",attrs:{id:"groupListCard"}},[i("ul",{staticClass:"remindfriends card-content"},[0==t.groupCardFilter.length?i("div",{staticClass:"nodata-content"},[i("img",{staticClass:"search-nodata",attrs:{src:s("1e27")}}),i("p",{staticClass:"search-nodata_tips"},[t._v("抱歉，没有找到相关信息")])]):t._e(),t._l(t.groupCardFilter,(function(e){return i("li",{key:e.groupid,staticClass:"remind-col flexbox cursor",on:{click:function(s){return t.showCard(e,2)}}},[i("el-image",{staticClass:"remind-col_img",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{staticClass:"flexauto",domProps:{innerHTML:t._s(t.brightenKeyword(e.name,t.gcardsearch))}})],1)}))],2)])])],1)},a=[],r=s("efa8"),o=r["a"],n=(s("6e8d"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,"55ad62a4",null);e["a"]=c.exports},"1c0e":function(t,e,s){"use strict";(function(t){var i=s("a18c"),a=s("4360"),r=s("4e08"),o=s("3a23"),n=s("a7fe"),c=s("c50e"),l=function(e,s,l,d,u){log("收到服务器消息",l,u);var h=u.oper;let p=a["a"].state,g=p.Ws,m=p.User.currUid,{applyThis:f,chatList:A,chatinfo:v,MessageList:C,allNotRead:b,chatOn:w,bizId:y,chatInfo:k}=g,x=i["a"].history.current.path,I=u.chatlinkid,O=w==I,M=u.chatItems;switch(h){case 1:case 5:case 11:let e=A.find(t=>t.id==I);if("/home"==x&&e){let t=[...A],e=t.findIndex(t=>t.id==I);t.splice(e,1),a["a"].commit("setChatList",t),O&&f.$refs.chatlist.chatColClick()}if(e){let t=b-e.notreadcount;a["a"].commit("setAllNotRead",t)}break;case 4:u.t=Object(n["e"])(u.t,"yyyy-MM-dd HH:mm:ss"),"/home"==x&&t("#tioim-chat-list").length>0&&a["a"].commit("changeChatList",u);break;case 7:if(y==m)return;O&&1==k.chatmode&&(C.map(t=>{2==t.readflag&&(t.readflag=1)}),c["b"].chatReadAck({chatlinkid:I}).then(t=>{t.ok?log(t):msgTips(t.msg||"系统错误")})),"/home"==x&&A.map(t=>{t.id==I&&2==t.toreadflag&&(t.toreadflag=1)});break;case 9:if(O){let t=C.findIndex(t=>t.mid==u.operbizdata);-1!=t&&C.splice(t,1)}break;case 10:if(O){let t=C.findIndex(t=>t.mid==u.operbizdata);-1!=t&&C.splice(t,1)}let s=A.find(t=>t.id==I);s.lastmsgid==u.operbizdata&&Object(r["a"])(o["c"].WxChatItemInfoReq,{chatlinkid:I});break;case 21:let i=A.findIndex(t=>t.id==I);if(-1==i)return;if(A[i].topflag=1,0!=i){let t=A.splice(i,1);A.splice(0,0,t[0])}break;case 22:let l=A.findIndex(t=>t.id==I);if(-1==l)return;let d=0;t.each(A,(function(t,e){1==e.topflag&&d++})),A[l].topflag=2;let h=A.splice(l,1);A.splice(d-1,0,h[0]);break;case 25:let p=A.findIndex(t=>t.chatlinkid==I);if(-1==p)return;let g=u.chatItems.msgfreeflag;A[p].msgfreeflag=g;break}if("/home"==x&&M){let t=A.find(t=>t.id==M.id);t&&(M.avatar&&(M.avatar=Object(n["l"])(M.avatar)),Object.assign(t,M),O&&a["a"].commit("setChatInfo",M))}};e["a"]=l}).call(this,s("1157"))},"1e27":function(t,e,s){t.exports=s.p+"static/img/nodata.58544e80.png"},"1eb7":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",on:{click:function(e){return e.stopPropagation(),t.stopProp(e)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showmediaform,expression:"showmediaform"}],staticClass:"remindContent send-card"},[s("p",{staticClass:"remind-title"},[s("span",[t._v("选择要发送的图片或者视频")]),s("i",{staticClass:"iconfont iconIMweb_cancel_cancel closeicon",on:{click:t.closeDialog}})]),s("div",{staticClass:"send-card-input"},[s("div",{staticClass:"send-card-input-title"},[t._v("聊天内容： "),s("i",{staticClass:"iconfont iconIMweb_expression",attrs:{title:"选择表情"},on:{click:[function(e){return t.IconColor("iconIMweb_expression")},function(e){return e.stopPropagation(),t.chooseEmoji(e)}]}})]),s("el-input",{attrs:{id:"chat-input",placeholder:"请输入聊天内容",clearable:""},model:{value:t.msgdata,callback:function(e){t.msgdata=e},expression:"msgdata"}})],1),s("div",{staticClass:"send-card-upload"},[s("el-upload",{attrs:{action:"","list-type":"picture-card","http-request":t.handleUpload,"auto-upload":!0,"on-change":t.handleChange,"before-upload":t.beforeUploadFn,"on-preview":t.handlePictureCardPreview,"file-list":t.fileList,"on-remove":t.handleRemove}},[s("i",{staticClass:"el-icon-plus"})]),s("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),s("div",{staticClass:"send-card-btn"},[s("el-button",{attrs:{type:"primary"},on:{click:t.submitMediaForm}},[t._v("提交"),s("i",{staticClass:"el-icon-upload el-icon--right"})])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showEmoji,expression:"showEmoji"}],staticClass:"tm-emoji-container"},[s("i",{staticClass:"iconfont iconIMweb_cancel_cancel closeicon",on:{click:t.closeEmojiDialog}}),s("div",{attrs:{id:"tm-emoji-body"}},[s("ul",{staticClass:"tm-emoji-body flexbox"},t._l(t.emojiList,(function(e,i){return s("li",{key:i,attrs:{alt:e.alt},on:{click:t.appendMessages}},[s("img",{staticClass:"small-emoji",staticStyle:{width:"24px"},attrs:{src:t.staticUrl+"static/emoji/emoji/"+e.url}})])})),0)]),s("ul",{staticClass:"tm-emoji-btngroup flexbox"},[s("li",{staticClass:"on"},[s("img",{attrs:{src:t.staticUrl+"static/emoji/emoji/"+t.emojiList[0].url}})])])])])])},a=[],r=s("fc8e"),o=r["a"],n=(s("04e8"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,"703805bb",null);e["a"]=c.exports},2:function(t,e){},2064:function(t,e,s){t.exports=s.p+"static/img/swiper5.e35d8e70.png"},"20ff":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.infoQrCode,expression:"infoQrCode"}]},[i("div",{staticClass:"info-modelbody modelbody"},[i("i",{staticClass:"iconfont iconIMweb_cancel_cancel cancel cursor",attrs:{size:"14px"},on:{click:t.hideInfoQrCode}}),i("div",{staticClass:"user-info"},[i("el-image",{staticClass:"user-avatar",attrs:{src:t.user_avatar,crossorigin:"anonymous"}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{staticClass:"user-nick"},[t._v(t._s(t.qrNick))])],1),i("div",{staticClass:"qrCode-img"},[i("vue-qr",{ref:"Qrcode",attrs:{logoSrc:t.logo,margin:5,text:t.codeValue,size:198}}),i("span",{staticStyle:{"letter-spacing":"5px"}},[t._v("使用APP扫一扫")]),i("span",{staticStyle:{"letter-spacing":"5px"}},[t._v(t._s(t.qrmsg))])],1),i("div",{staticClass:"user-dowm cursor"},[i("div",{on:{click:function(e){return t.saveImage("capture","tio-user")}}},[i("img",{attrs:{src:s("70ba"),alt:"",srcset:""}}),i("span",[t._v("保存到电脑")])])]),i("div",{staticClass:"qrCode-mask"}),i("div",{ref:"capture",staticClass:"save_qrCode",attrs:{id:"save_qrCode_box"}},[i("div",{},[i("div",{staticClass:"user-info"},[i("el-image",{staticClass:"user-avatar",attrs:{src:t.user_avatar,crossorigin:"anonymous"}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{staticClass:"user-nick"},[t._v(t._s(t.qrNick))])],1),i("div",{staticClass:"qrCode-img"},[i("vue-qr",{ref:"Qrcode",attrs:{logoSrc:t.logo,margin:5,text:t.codeValue,size:198}}),i("span",{staticStyle:{"letter-spacing":"5px"}},[t._v("使用APP扫一扫")]),i("span",{staticStyle:{"letter-spacing":"5px"}},[t._v(t._s(t.qrmsg))])],1)])])])])],1)},a=[],r=(s("3c5d"),s("3f7a")),o=s("658f"),n=s.n(o),c=s("c0e9"),l=s.n(c),d=s("a7fe"),u={props:["infoQrCode","codeValue","user_avatar","currUser","qrmsg"],data(){return{logo:s("4419"),qrNick:"",user_avatar_1:""}},components:{Dialog:r["a"],vueQr:n.a},watch:{infoQrCode(t){this.currUser.name?(this.qrNick=this.currUser.name.length>18?this.currUser.name.substring(0,18)+"...":this.currUser.name,this.user_avatar_1=Object(d["l"])(this.currUser.avatar)):(this.qrNick=this.currUser.nick.length>18?this.currUser.nick.substring(0,18)+"...":this.currUser.nick,this.user_avatar_1=Object(d["l"])(this.currUser.avatarbig))}},methods:{dataURLToBlob(t){let e=t.split(","),s=e[0].match(/:(.*?);/)[1],i=atob(e[1]),a=i.length,r=new Uint8Array(a);while(a--)r[a]=i.charCodeAt(a);return new Blob([r],{type:s})},saveImage(t,e){let s=this.$refs[t],i=this,a=document.createElement("a");var r={useCORS:!0,scale:2,height:459,width:366,windowWidth:0,windowHeight:0,x:-180,y:-280};window.pageYOffset=0,document.documentElement.scrollTop=0,document.body.scrollTop=0,setTimeout((function(){l()(s,r).then(t=>{let s=document.body.appendChild(t);s.style.display="none",a.style.display="none",log(t);let r=i.dataURLToBlob(s.toDataURL("image/png"));a.setAttribute("href",URL.createObjectURL(r)),a.setAttribute("download",e+".png"),document.body.appendChild(a),a.click(),URL.revokeObjectURL(r),document.body.removeChild(a)})}),500)},debounce(t,e){null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(t,e)},hideInfoQrCode(){this.$emit("hideInfoQrCode")}}},h=u,p=(s("b309"),s("2877")),g=Object(p["a"])(h,i,a,!1,null,"7c706e5a",null);e["a"]=g.exports},"218d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABHCAYAAAC+h+EcAAAGYklEQVR4XtWcUVLkNhCG1Z4qz2PYEwROEDhB4ASBEwRekOdplxMsnCDwNBYv7J4g7AkCJ1hygiUnyPAGPEhb7ZKnzFhSt2Ys27iKoijLkvW5u9X6JQHiHV5lWf4hhDgUQmzjDwDgb2GMucPfAPAAAF9PT08fYrsHsQ8MVf7m5mbr9fX1oxDinPsOxphHAPiS5/nVycnJgvPcuwBSluVHAEAQW5xOOcogjEsp5QX1/OiBlGV5AwDHVEeY99GVTkKuNFog1kX+EULsMjvLLbYAgAMflFECiYFhjPkXAOr48DuTykJrfTabzb6slh8lEKXU33YUcfbPQjjP8/xuNVjO5/PtLMtwBPokhPg1AMhpKaMDwogZZ1LKS8oSrJUhFPz5xVN+kef5ThPqqIBQMLTWJy4zD8G5vr7etfmJEwreK4rioK5jNEBSwKg7idby8vJyBwC/eeAdSSlvq6SOMr0+7qeEUb+/jS2YubYsBRO4oih2RgGkDxgNKPtZluFQ3rpqdxzUQpRSGPD+8lnhOjGDsmilFA61fzrKfZVSHg8GZD6fH2dZdhPowIWUkj1voUCsuM4PV3ovpfwwCBAGjOprcTsZW64sS0zhWwFWa33QO5ChYSA8pRRa3mcHyLNegYwBBkKYz+e+4HrRG5CxwBgFEJstfvf5ujHmW1EUOP/o5fJZiDHmKrmFWBg49jvFHZyoTafTfa6i1QWxwVzGpszfa81ztTNDwCCCatoYEspCh4JhgaAY3dJOkg67AbNEdbx3N2EkZkJKCcliSCBFfsrzfLvPmNF01bIsLwEA1fvV615KuZ8EiJ1ZutJjfInlVLuLABlTR8hqk07uAplg9RViOtFVWSLA/yelrBa7kliIUsobtGazWbW6Frqs/PfZGIOK++N0Oj3bxMUYovVSlkwFxDg6/CSlZC00KaUwiWsuP7S0TwpqfZ+CgQG+KIplW50D8WWl3Gw04OcPeZ4fxFgKBUMI8aS13p3NZo81wM6BhLJAjr6hlMIUHpchXNetlPKIax0OS3vzqEuAGh0Q+1XxizlVcq6Ktq40OTogNpP0WklTEPZZCjWzDkHtDQg3hjQySq/ESFlJYNjH6oPSZOdA7Bd2jTIPUso9rv9jubIsbwEAN8esXsG6AhZCSpOpgODicysGaK13mhGdghPKeKm6HDBJGOzErLlhBZf+ptPpUWj4C8xjopX0QF3kGq8dsXa11nechJAFxGN+QZMNDJ24DWEv0kqcsSQ2JlHWyMpDQtE6ZLLE0BmVS9i6/nd0KMm8yBtDqKErz/MPhNv4pH7UQ66KosBVO9allGoFac7wy6p8pZATCAWDY65UghUjA/gWllDQWafToWdaFTJgsNWuUBoe84WVUugyrYlhciCM5QI2jPorBEaJSrLjfGGXywgh0seQ0GRoEx3UpY9w3A5hBT5SWiABrXFjUdjGE9yhUyndCNcYc8gZfgNbJqJzGo41ViYbGNrwdksz4FTsKoOZ52Qy2YrZg16W5Q/Xug4uGXCTrZj3rYCEJkMAsBfTgZjGqbIB62Crb1Qbq/drIM4oTs0MYxuLKW/nMSglumTHJO5Spe4BhSvZV6DAUNIflRRS9QfzEJ+7xGaTm7xE81kKRur3gk2XDLoC0chbVhX3ZROrCnnXbVcu4wPCTZq6fClKB+0jwCOQjdZQugJCwaBkw67ewwckSRboe+mxwKhdxin39eUyY4IxeAwZG4wgkBi9Yh3/pWSGvmJGK1MNpMcslToFDCFEsrap98VMFY9kOfd+r542oirj3KcsY0gYlcvYyR2upbrOp3X6pcYOownEKwh3FUveA4wlEMJKgudcOW5CSZNDu0mzD0tNk/iCuMB0tI4gQ+1kHhOMNxaCfwQWlyuIxphPRVFccazCWh1ua8BDQqPZ1k29+xvVm3F6Eet7MMacF0XxzVd5vWnOnpl1FttEtKY6tcn91jIAdc610djCGIPbFfBfUtxprbcAADev4U/wZMNYYbRcpu6shYIqeeio+FofYswwvEDwBtN9YqHc53l+GLOTMLaBTcsHV84a5+dd59Ni2+40yYttnFuetZSI6T0A4KZ51/Ymqq17rfX5OkM2VXGK+ywgdcP1v6IwxhwHztFj8SchBMYg3AtSnal/L1cUkGan0J2en5+rLdFZlu1rrXE+9DiZTBZDLWx1Af0ncbNLTYv4jmQAAAAASUVORK5CYII="},"24e9":function(t,e,s){},"251a":function(t,e,s){t.exports=s.p+"static/img/swiper4.7a635834.png"},26384:function(t,e,s){"use strict";var i=s("a026"),a=(s("0fae"),s("5c96"));i["default"].use(a["Form"]),i["default"].use(a["FormItem"]),i["default"].use(a["Input"]),i["default"].use(a["Carousel"]),i["default"].use(a["CarouselItem"]),i["default"].use(a["Image"]),i["default"].use(a["Select"]),i["default"].use(a["Option"])},2665:function(t,e,s){},"268e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAADa0lEQVRYR+2YX4hUdRTHP+femVVQM1HDByV9MImI1ad8EU1R2UhQg9KEoFAQdKuHJVJfFJXCegjWRcWXRPQtenBcNUrWx3wKlIIsRIXAvyisyu7M/R0593dnd2dm2/mzd9oJ9sfMwzC/e36f+z3new78hBZf0uJ8TAKON0OjKrihWzeq8BnKUoSXx3tIDc/3oRzIdUpf+d4KwATuxxqCpr9FebscsgLw3W7tQ1iZ/uk1RFSu5Dpl1cidlYBHVWsI1ZwtyuNcp8xqXUAgt1tKRGstBScBU6jMCUvxkPWsqMyGEn8q1sQAKqgqC+fAmteFs1fh2aAHLLXEBJjEwGxNySg9W4V5M4UD55RfbwnBRAMW0xo55etN0L5A+PuesvOMks0EBKJImYT/WYoNzn+V7Stg8zKhfwC2nIwYLAgZA0xDQZ8iX9n2tvazvG5GM6/tcwqrX1O61ns7fPx9xO1H0GZwgSBJzJHPN6SgHfbWIqV/QLj+TwI4FqhCBLw6SznynjBjKnzV6/j5D5/aTOiBR3vRugFNBauhi5/6oN/+pFz+097eH1DeKoZNAT0fCvNegt7rjm8uOtqyAZnAai9JShptJgaMYEO7Y9cqqxq49Dt894sSJhIUlSgxxWahfT7cuKvsOB3FymVDIRAZs0TqVtAOLURKPnJxD9vb4SF/uwOHepXneVPR6ziaKT44UWAgCshmErh/SW1RzIYAvYqOwYKycLbSvS3D9Db4675yMAcPnnpIp8rqJdC1zgN/EptCyIYQWt2ZelXGYUOAXh2lEEHeKXOmOQ5vCln8irUO5Ysf4OZ9mxTCsW0eoVZTlPPWDVhM3RCks5S7eDLs6QhZsdgD9fQpHy33jr1wzXHkktKWlaqmSAVwZBBLYxQpBQf5SPlyfUDHm8OJu3FP2X4qih1biylSB4yNgOKcUHCOfN6x9g1h3zthPCneP55n0EyRtXYy3I6qlN7Q3w2luDx4cbo4Z0qaw5W5031PfPjMTCGEyRyrZorUFSwGtAFYbCuRmqIe0EZYJungtYzEpgGWmMd3wRjYpkSc2HqlS0hTSXFlyj2gX2NPimq12BTAaofW839LAyo8Ob9bSu6C/n9XHy1/eWT1EkPC5yosFZhZTw01tFe5Auyv6fqtoQOa+FCD3aqJRGWhJwHHq/UL4mC4OM/t2WUAAAAASUVORK5CYII="},2778:function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("a7fe"),r=s("c50e"),o=s("7401"),n=s("a688");e["a"]={data(){return{transChoosedList:[],transArr:[],friendChatList:[],groupChatList:[],showAll:!0,showFriend:!1,showGroup:!1}},props:["transType","transShow","transData","setid"],computed:{...Object(i["d"])({curruid:t=>t.User.currUid,chatList:t=>t.Ws.chatList,chatOn:t=>t.Ws.chatOn,bizId:t=>t.Ws.bizId,allNotRead:t=>t.Ws.allNotRead,applyThis:t=>t.Ws.applyThis})},mixins:[n["a"]],watch:{transShow(e){e&&(this.searchShow=!1,this.transChoosedList=[],this.transArr=[],this.resetSearchData(),this.$nextTick(()=>{let e=this.setid?this.setid+"trans-message-list":"trans-message-list";Object(a["d"])(t("#"+e))}))}},mounted(){},methods:{getLists(){for(let t of this.chatList)if(console.log("chatmode===",t.chatmode),1===t.chatmode){let e=this.friendChatList.some(e=>e.id===t.id);e||this.friendChatList.push(t)}else{let e=this.groupChatList.some(e=>e.id===t.id);e||this.groupChatList.push(t)}},showAllChat(){this.showAll=!0,this.showFriend=!1,this.showGroup=!1},showFirendChat(){this.getLists(),this.showAll=!1,this.showFriend=!0,this.showGroup=!1},showGroupChat(){this.getLists(),this.showAll=!1,this.showFriend=!1,this.showGroup=!0},hideTrans(){this.$emit("update:transShow",!1)},hideSearchContent(){this.searchVal="",this.searchShow=!1},showTransSearchList(){console.log("this.chatList==",this.chatList),this.searchShow=!0,this.resetSearchData(),this.$nextTick(()=>{t("#"+(this.setid?this.setid:"")+"trans-message-search").focus();let e=this.setid?this.setid+"trans-mail-list":"trans-mail-list";this.searchDom=t("#"+e),Object(a["d"])(this.searchDom)})},checkAll(){if(this.showAll)for(let t of this.chatList)this.transComClick(t.bizid,"bizid","chatList");else if(this.showFriend)for(let t of this.friendChatList)this.transComClick(t.bizid,"bizid","friendChatList");else for(let t of this.groupChatList)this.transComClick(t.bizid,"bizid","groupChatList")},changeCheck(e,s,i,o){let n=this.transArr.findIndex(t=>t==s);if(-1!=n&&this.transArr.length>=10)return this.transArr.pop(),t(e.currentTarget).attr("checked",!1),void Object(r["j"])("最多选择9个会话");if(-1==n){let t=this.transChoosedList.findIndex(t=>t[i]==s);this.transChoosedList.splice(t,1)}else{let e={};this[o].map(t=>{t[i]==s&&(e=t)}),this.transChoosedList.push(e),this.$nextTick(()=>{Object(a["d"])(t("#"+(this.setid?this.setid:"")+"trans-choosed-list"))})}},transComClick(e,s,i){let r=this.transArr.findIndex(t=>t==e);if(-1!=r)this.transChoosedList.splice(r,1),this.transArr.splice(r,1);else{let r={};this[i].map(t=>{t[s]==e&&(r=t)}),this.transChoosedList.push(r),this.$nextTick(()=>{Object(a["d"])(t("#"+(this.setid?this.setid:"")+"trans-choosed-list"))}),this.transArr.push(e)}},transfriendList(t){this.transComClick(t,"uid","fList")},transGroupList(t){this.transComClick(t,"groupid","gList")},transChatList(t){this.transComClick(t,"bizid","chatList")},transDelCoosed(t){let e=this.transArr.findIndex(e=>e==t);this.transArr.splice(e,1),this.transChoosedList.splice(e,1)},sureTransMessage(){let t=[],e=[];this.transChoosedList.map(s=>{let i=s.chatmode;1==i?t.push(s.bizid):2==i?e.push(s.bizid):s.groupid?e.push(s.groupid):t.push(s.uid)}),t=t.join(","),e=e.join(",");let s={};switch(this.transType){case 1:s={chatlinkid:this.chatOn,uids:t,groupids:e,mids:this.transData.mid},this.shareMessage(s);break;case 2:s={chatmode:1,uids:t,groupids:e,cardid:this.transData.uid},this.shareCard(s);break;case 3:s={chatmode:2,uids:t,groupids:e,cardid:this.transData.groupid},this.shareCard(s);break}},shareMessage(t){o["a"].msgForward(t).then(t=>{t.ok?(this.hideTrans(),Object(r["j"])("转发成功")):Object(r["j"])(t.msg)})},shareCard(t){o["a"].shareCard(t).then(t=>{t.ok?(this.hideTrans(),2==this.transType?Object(r["j"])("发送成功"):Object(r["j"])("分享成功")):Object(r["j"])(t.msg)})},stopProp(){}}}}).call(this,s("1157"))},2957:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"friendcard",style:{top:t.userCard.top,left:t.userCard.left},on:{click:function(e){return e.stopPropagation(),t.stopProp(e)}}},[i("div",{staticClass:"user-info-top flexbox",on:{click:function(e){return e.stopPropagation(),t.hideEditIpt(e)}}},[i("div",{staticClass:"top-left"},[i("p",{directives:[{name:"show",rawName:"v-show",value:t.userCard.isfriend&&!t.showRemark,expression:"userCard.isfriend&&!showRemark"}],staticClass:"user-name",on:{click:function(e){return e.stopPropagation(),t.showEditIpt(e)}}},[i("span",{staticClass:"overell"},[t._v(t._s(t.userCard.data.remarkname||t.userCard.data.nick))]),i("i",{directives:[{name:"show",rawName:"v-show",value:t.curruid!=t.userCard.data.id,expression:"curruid!=userCard.data.id"}],staticClass:"iconfont iconttubiao_bianji"})]),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.userCard.isfriend,expression:"!userCard.isfriend"}],staticClass:"user-name"},[t._v(t._s(t.userCard.data.nick))]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showRemark,expression:"showRemark"}],staticClass:"edit-name",on:{click:function(e){return e.stopPropagation(),t.stopProp(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userremark,expression:"userremark"}],attrs:{type:"text",maxlength:"30",placeholder:"请输入备注名"},domProps:{value:t.userremark},on:{mouseup:function(e){return e.stopPropagation(),t.stopProp(e)},input:function(e){e.target.composing||(t.userremark=e.target.value)}}}),i("span",{staticClass:"edit-sure",on:{click:t.sureSaveRemark}})])]),i("el-image",{staticClass:"user-avatar",attrs:{src:t.userCard.data.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])])],1),i("div",{on:{click:function(e){return e.stopPropagation(),t.hideEditIpt(e)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.userCard.isfriend,expression:"userCard.isfriend"}],staticClass:"user-info-center"},[i("label",{staticClass:"flexshrink"},[t._v("昵称")]),i("span",{staticClass:"overell"},[t._v(t._s(t.userCard.data.nick))])]),i("div",{staticClass:"user-info-center"},[i("label",[t._v("地区")]),i("span",[t._v(t._s(t.userCard.data.province?t.userCard.data.province:"")+" "+t._s(t.userCard.data.city?t.userCard.data.city:""))])]),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.userCard.isfriend&&t.userCard.data.greet,expression:"!userCard.isfriend&&userCard.data.greet"}],staticClass:"applyreson"},[t._v(" "+t._s(t.userCard.data.greet)+" ")]),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.userCard.isfriend&&!t.userCard.data.greet,expression:"!userCard.isfriend&&!userCard.data.greet"}],staticClass:"user-opera"},[i("span",{staticClass:"card-opera"},[i("i",{staticClass:"iconfont iconIMweb_addfriends",on:{click:t.applyFriend}})])]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.userCard.isfriend,expression:"userCard.isfriend"}],staticClass:"user-opera"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.userCard.data.id!=t.curruid,expression:"userCard.data.id!=curruid"}],staticClass:"card-opera"},[i("i",{staticClass:"iconfont iconIMweb_deldte",on:{click:t.showDelModel}})])]),i("p",{staticClass:"user-opera"},[i("span",{staticClass:"card-opera"},[i("i",{staticClass:"iconfont iconIMweb_news",on:{click:t.userSendChat}})])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.delshow,expression:"delshow"}],attrs:{zindex:t.zindex}},[i("div",{staticClass:"modelbody deluser nm99"},[i("div",{staticClass:"maintitle"},[i("p",[t._v("确认删除当前好友，")]),i("p",{staticClass:"smtitle"},[t._v("同时删除与该好友的所有聊天记录？")])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleDel}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.userDelFriend}},[t._v("删除")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.addshow,expression:"addshow"}],attrs:{zindex:t.zindex}},[i("div",{staticClass:"modelbody addbody"},[i("p",{staticClass:"title"},[i("label",[t._v("添加好友")]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel",on:{click:t.closeApply}})]),i("div",{staticClass:"add-content"},[i("div",{staticClass:"add-info"},[i("el-image",{staticClass:"add-avatar",attrs:{src:t.userCard.data.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("div",{staticClass:"add-name"},[i("p",{staticClass:"add-nick"},[t._v(t._s(t.userCard.data.nick))]),i("p",{staticClass:"add-area"},[t._v(t._s(t.userCard.data.province?t.userCard.data.province:"")+" "+t._s(t.userCard.data.city?t.userCard.data.city:""))])])],1),i("div",{staticClass:"add-greet"},[i("div",{staticClass:"greet-content"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.greet,expression:"greet"}],attrs:{type:"text",maxlength:"30"},domProps:{value:t.greet},on:{input:function(e){e.target.composing||(t.greet=e.target.value)}}}),i("span",{staticClass:"count"},[t._v(t._s(t.greet.length)+"/30")])]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.sendApply}},[t._v("发送")])])])])])],1)},a=[],r=s("2f62"),o=s("c50e"),n=s("7401"),c=s("a7fe"),l={props:["show","userCard"],data(){return{showRemark:!1,greet:"",applyid:"",userremark:"",delshow:!1,addshow:!1,greet:"",loading:!1,zindex:1999}},watch:{show(t){t&&(Object.assign(this.$data,this.$options.data()),this.setAddEventListener())}},computed:{...Object(r["d"])({bizId:t=>t.Ws.bizId,curruser:t=>t.User.currUser,curruid:t=>t.User.currUid,chatInfo:t=>t.Ws.chatInfo,chatList:t=>t.Ws.chatList,applyThis:t=>t.Ws.applyThis})},methods:{...Object(r["c"])(["setChatInfoKey","setChatOn","setGroupMore"]),...Object(r["b"])(["getUserInfo"]),stopProp(){},setAddEventListener(){let t=this;document.addEventListener("click",(function(e){t.unbindListen(e)}),!1)},unbindListen(t){if(this.showRemark){let t=getSelection();if(1==t.focusNode.nodeType&&-1!=t.focusNode.getAttribute("class").indexOf("edit-name"))return}this.$emit("update:show",!1),document.removeEventListener("click",this.unbindListen,!1)},showEditIpt(){this.curruid!=this.userCard.data.id&&(this.userremark=this.userCard.data.remarkname,this.showRemark=!0)},async sureSaveRemark(){let t=this.userremark,e={remarkname:t,frienduid:this.userCard.data.id},s=await o["e"].modifyRemarkname(e),i=this.$route.path;if(s.ok){this.userCard.data.remarkname=t;let e=this.userCard.data.id;if("/home"==i){""==t&&(t=this.userCard.data.nick),this.chatInfo.bizid==e&&this.setChatInfoKey({key:"name",val:t});let s=this.chatList.find(t=>t.bizid==e);s&&(s.name=t)}this.showRemark=!1,Object(o["j"])("修改成功")}else Object(o["j"])(s.msg)},hideEditIpt(){this.showRemark&&(this.showRemark=!1)},showDelModel(){log(this.zindex),this.delshow=!0},cancleDel(){this.delshow=!1},async userDelFriend(){this.loading=!0;let t=this.userCard.data.id,e={touid:t},s=await o["e"].delFriend(e);this.delshow=!1,this.loading=!1,document.documentElement.click(),s&&(s.ok?this.applyThis.$refs.friendlist.getMyFriendList():Object(o["j"])(s.msg))},afterHomeDelFriend(){let t=this.chatList.findIndex(t=>t.bizid==this.userCard.data.id);-1!=t&&(this.chatList.splice(t,1),this.bizId==this.userCard.data.id&&this.applyThis.$refs.chatlist.chatColClick(this.chatList[0]))},afterListDelFriend(t){let e=this.applyThis.$refs.friendlist,s=e.orgFriendList.find(e=>e.uid==t);if(s){let i=e.friendList,a=i.findIndex(t=>t.index==s.chatindex),r=i[a].data;if(1==r.length)i.splice(a,1);else{let e=r.findIndex(e=>e.uid==t);-1!=e&&r.splice(e,1)}}document.documentElement.click(),t==this.applyThis.friendid&&(this.applyThis.type=1,this.applyThis.friendid=""),Object(o["j"])("删除成功"),e.myFriends.totalRow--},async userSendChat(t){if(this.setGroupMore(!1),this.userCard.isfriend){let e={};e="group"==t?{groupid:this.userCard.data.id}:{touid:this.userCard.data.id};let s=this.$route.path,i=await n["a"].chatActChat(e);if(document.documentElement.click(),i.ok){let t=i.data.chat;switch(s){case"/home":this.applyThis.$refs.chatlist.chatColClick(t);break;case"/friend":this.setChatOn({chatOn:t.id,bizid:t.bizid,isGroup:!1}),this.$router.push({path:"/home"});break;case"/group":this.setChatOn({chatOn:t.id,bizid:t.bizid,isGroup:!0}),this.$router.push({path:"/home"});break}}else Object(o["j"])(i.msg)}else{let t={};t={touid:this.userCard.data.id,uid:this.curruid};let e=await n["a"].chatActStrangerChat(t);if(e.ok){let t=e.data.chat;if("/home"==this.$route.path)this.applyThis.$refs.chatlist.chatColClick(t);else{let{id:e,bizid:s,chatmode:i}=t;this.setChatOn({chatOn:e,bizid:s,isGroup:2==i}),this.$router.push({path:"/home"})}}else Object(o["j"])(e.msg)}},msgApply(){this.greet="我是"+this.curruser.nick,this.addshow=!0},applyFriend(){let t=this.userCard.data.id,e={touid:this.userCard.data.id};o["e"].checkAddFriend(e).then(async s=>{if(s.ok)if(1!=s.data)this.addFriend(e);else{let e=await this.getUserInfo(t);e.avatar=Object(c["l"])(e.avatar),this.userCard.data=e,this.greet="我是"+this.curruser.nick,this.addshow=!0}else Object(o["j"])(s.msg)})},closeApply(){this.addshow=!1},addFriend(t){o["e"].chatAddFriend(t).then(t=>{t.ok?Object(o["j"])("添加好友成功"):Object(o["j"])(t.msg),document.documentElement.click()})},sendApply(){this.loading=!0;let t={touid:this.userCard.data.id,greet:this.greet};o["e"].friendApply(t).then(t=>{this.loading=!1,this.addshow=!1,t.ok?Object(o["j"])("申请成功"):Object(o["j"])(t.msg)})}}},d=l,u=(s("68e0"),s("2877")),h=Object(u["a"])(d,i,a,!1,null,"43aa6fd4",null);e["a"]=h.exports},"2f2d":function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("c50e"),r=s("c126"),o=s("2957"),n=s("a7fe");e["a"]={props:["friendid","type","friendItem"],data(){return{applyshow:!1,applyid:"",loading:!1,remarkname:"",title:"好友请求",friendInfo:{},showRemark:!1,userremark:"",IgnoreApplyshow:!1}},created(){this.getApplyList()},mounted(){this.$nextTick(()=>{Object(n["d"])(t("#apply-list"))})},watch:{type(t){1==t&&(this.title="好友请求",this.getApplyList())},async friendid(t){if(t){let e=await this.getUserInfo(t);this.title=e.remarkname||e.nick,e.avatar=Object(n["l"])(e.avatar),this.friendInfo=e}}},computed:{...Object(i["d"])({curruid:t=>t.User.currUid,applyList:t=>t.Ws.applyList,noReadApply:t=>t.Ws.noReadApply})},mixins:[r["a"]],components:{UserCard:o["a"]},methods:{...Object(i["b"])(["getApplyList","getUserInfo"]),...Object(i["c"])(["setNoReadApply"]),stopProp(){},agreeApply(t){document.documentElement.click(),this.remarkname="",this.applyshow=!0,this.applyid=t},cancleApply(){this.applyshow=!1},sureAgree(){this.loading=!0;let t={applyid:this.applyid,remarkname:this.remarkname};a["e"].dealApply(t).then(t=>{this.loading=!1,t.ok?(this.applyshow=!1,Object(a["j"])("添加成功")):Object(a["j"])(t.msg)})},setAddEventListener(){let t=this;document.addEventListener("click",(function(e){t.unbindListen(e)}),!1)},unbindListen(t){if(this.showRemark){let t=getSelection();if(1==t.focusNode.nodeType&&-1!=t.focusNode.getAttribute("class").indexOf("edit-name"))return}this.showRemark=!1,document.removeEventListener("click",this.$unbindListen,!1)},showEditIpt(){this.setAddEventListener(),this.userremark=this.friendInfo.remarkname,this.showRemark=!0},async sureSaveRemark(){let t=this.userremark,e={remarkname:t,frienduid:this.friendid},s=await a["e"].modifyRemarkname(e);this.$route.path;s.ok?(this.friendInfo.remarkname=t,this.showRemark=!1,Object(a["j"])("修改成功")):Object(a["j"])(s.msg)},delFriend(t){this.userCard.data.id=t,this.$refs.usercard.showDelModel()},sendMessage(t){this.userCard.data.id=t,this.$refs.usercard.userSendChat()},sendCard(){this.friendInfo.uid=this.friendInfo.id,this.$emit("sendCard",this.friendInfo)},ignoreApply(t){this.applyid=t,this.IgnoreApplyshow=!0},sureIgnoreApply(){this.loading=!0;let t={applyid:this.applyid},e=this.applyList.find(t=>t.id==this.applyid),s=this.noReadApply-1;a["e"].friendIgnoreApply(t).then(t=>{this.loading=!1,t.ok?(this.IgnoreApplyshow=!1,e.status=3,this.setNoReadApply(s),Object(a["j"])("已成功忽略该好友")):Object(a["j"])(t.msg)})}}}}).call(this,s("1157"))},3:function(t,e){},"301b":function(t,e,s){},3040:function(t,e,s){"use strict";s("6914")},"35f7":function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("fb19"),r=s("7af6"),o=s("ccec"),n=s("c50e"),c=s("a7fe"),l=s("af8d"),d=s("669e"),u=s("20ff");e["a"]={props:["show"],data(){return{groupid:"",seemorememb:!0,editname:!1,groupname:"",searchshow:!1,searchVal:"",filterMemberList:[],smember:{pagenum:1,totalPage:1,totalRow:1,totalPage:0},tabList:[],tabIndex:0,groupInfo_name:"",groupInfo_avatar:"",prohibitShow:!1,forbiddenListShow:!1,removeInfo:{},searchValue:"",searchResult:!1,search:{pagenum:1,totalPage:0},searchData:[],forbiddenList:!1,setid:"share",searchShow:!1,sendShow:!1,sendShow:!1,sendType:3,data:{},infoQrCode:!1,codeValue:"",user_avatar:"",qrmsg:"扫码加入群聊",isGroupLeader:!1,totalRowCount:0,infoshow:!1,infotype:""}},watch:{async groupmore(t){t?(this.groupid=this.bizId,await this.getGroupInfo(),this.getGroupMembers(),this.groupInfo_avatar=Object(c["l"])(this.groupInfo.avatar),1==this.groupUser.grouprole||3==this.groupUser.grouprole?(this.tabList=[{title:"群信息"},{title:"群成员"},{title:"群管理"}],this.isGroupLeader=!0):(this.tabList=[{title:"群信息"},{title:"群成员"}],this.isGroupLeader=!1),this.groupInfo_name=this.groupInfo.name.length>20?this.groupInfo.name.substring(0,20)+"...":this.groupInfo.name):(this.tabList=[],this.tabIndex=0,this.filterMemberList=[])}},computed:{...Object(i["d"])({groupmore:t=>t.Ws.groupmore,curruid:t=>t.User.currUid,chatOn:t=>t.Ws.chatOn,bizId:t=>t.Ws.bizId,isGroup:t=>t.Ws.isGroup,applyThis:t=>t.Ws.applyThis,commGroupInfo:t=>t.CommonInfo.groupUserInfo})},components:{GroupModel:a["a"],GroupName:o["a"],GroupAvatar:l["a"],TransMsg:d["a"],qrCode:u["a"]},mixins:[r["a"]],methods:{...Object(i["c"])(["setGroupMore"]),closeGroupMore(){this.searchshow=!1,this.seemorememb=!0,this.setGroupMore(!1)},editGroupName(){1!=this.groupUser.grouprole&&3!=this.groupUser.grouprole||(this.editname=!0,this.groupname=this.groupInfo.name)},saveSuccessName(t){this.groupInfo.name=t,this.groupInfo_name=t.length>20?t.substring(0,20)+"...":t},changeInvit(t){log(t),"applyflag"==t?1==this.groupInfo.applyflag?this.showModel("closeinvit"):this.openInvit():"freeflag"==t?1==this.groupUser.msgfreeflag?this.modifyGroupPush(2):this.modifyGroupPush(1):"modifyReview"==t?1==this.groupInfo.joinmode?this.modifyReview(2):this.modifyReview(1):"modifyFriendFlag"==t&&(1==this.groupInfo.friendflag?this.modifyFriendFlag(2):this.modifyFriendFlag(1))},seeMoreMember(t){this.seemorememb=t},showSearchList(){this.smember.pagenum=1,this.filterMemberList=[],this.searchVal="",this.searchshow=!0,this.getGroupMember(),this.$nextTick(()=>{t("#group-search").focus()})},hideSearchList(){this.searchshow=!1},memberQuerylist:Object(c["c"])((function(){this.smember.pagenum=1,this.filterMemberList=[],this.getGroupMember()}),300),async getGroupMember(){let e={groupid:this.groupid,pageNumber:this.smember.pagenum,searchkey:this.searchVal},s=await n["g"].groupMember(e);if(s.ok){let e=s.data;this.smember.totalPage=e.totalPage,this.smember.totalRow=e.totalRow,this.totalRowCount=e.totalRow;let i=e.list;if(log(e.list),i.map(t=>{t.avatar=Object(c["l"])(t.avatar)}),this.filterMemberList=this.filterMemberList.concat(i),1==this.smember.pagenum){let e=this;this.$nextTick(()=>{Object(c["d"])(t("#searchlist"),"",{whileScrolling:function(){95==this.mcs.topPct&&e.smember.pagenum<e.smember.totalPage&&(e.smember.pagenum++,e.getGroupMember())}})})}}else Object(n["j"])(s.msg)},brightenKeyword(t,e){return t+="",-1!==t.indexOf(e)&&""!==e?t.replace(e,'<font class="keywordcolor">'+e+"</font>"):t},tabClick(t){this.tabIndex=t,this.groupid=this.bizId,2===t&&this.searchList()},showUpdateInfo(t){this.show=!1,this.userinfo={...this.groupInfo},this.infotype=t,this.infoshow=!0},allForbidden(){1==this.groupInfo.forbiddenflag?this.showModel("relieveProhibit"):this.showModel("prohibit")},getForbiddenList(){this.forbiddenListShow=!0},removeForbidden(t){this.removeInfo=t,this.forbiddenList=!0},SecondToDate:function(t){var e=t;return 0==e?(e="长期禁言",log("长期禁言")):e>60&&e<3600?e=parseInt(e/60)+"分钟":e>=3600&&e<=86400&&(e=parseInt(e/3600)+"小时"),e},searchFriend(){this.search.pagenum=1,this.searchList()},initSearchUser(){let t={searchValue:"",searchResult:!1,search:{pagenum:1,totalPage:0},searchData:[]};Object.assign(this.$data,t)},searchList(){let e={pageNumber:this.search.pagenum,searchkey:this.searchValue,groupid:this.bizId};n["g"].forbiddenUserList(e).then(e=>{if(e.ok){let s=e.data;if(1==this.search.pagenum&&(this.searchData=[]),!s)return void(this.searchResult=!1);this.search.totalPage=s.totalRow,this.searchResult=!0;let i=s.list;if(i.map(t=>{t.avatar=Object(c["l"])(t.avatar)}),this.searchData=Object.assign([],this.searchData,this.searchData.concat(i)),log(this.searchData),1==this.search.pagenum){let e=this;this.$nextTick(()=>{Object(c["d"])(t("#searchUserList"),"",{whileScrolling:function(){95==this.mcs.topPct&&e.search.pagenum<e.search.totalPage&&(e.search.pagenum++,e.searchList())}})})}}else Object(n["j"])(e.msg)})},remvoeForbidden(){let t={};this.groupInfo.id;t.groupid=this.groupInfo.id,t.uid=this.removeInfo.uid,t.oper=2,t.duration=this.removeInfo.forbiddenduration,t.mode=this.removeInfo.forbiddenflag,n["g"].chatForbidden(t).then(t=>{t.ok?(Object(n["j"])("移除禁言名单成功"),this.forbiddenList=!1,this.searchList()):Object(n["j"])(t.msg)})},async shareGroup(t){let e={groupid:t.id},s=await n["g"].checkSendCard(e);if(s.ok){var i={avatar:Object(c["l"])(t.avatar),name:t.name,groupid:t.id,uid:t.uid};this.data=i,this.sendShow=!0}else Object(n["j"])(s.msg)},showQrCode(){this.infoQrCode=!0,this.user_avatar=Object(c["l"])(this.groupInfo.avatar),this.codeValue=`https://a.app.qq.com/o/simple.jsp?pkgname=com.tiocloud.chat&g=${this.groupInfo.id}&applyuid=${this.groupInfo.uid}`},hideInfoQrCode(){this.infoQrCode=!1},goMemberTab(){this.tabIndex=1},afterDelGroup(t){let e=this.groupMember.findIndex(e=>e.uid==t);this.groupMember.splice(e,1),this.groupInfo.joinnum--,this.applyThis.$refs.grouplist.groupList.find(t=>t.groupid==this.groupid).joinnum=this.groupInfo.joinnum},async showCard(t,e){let s=await n["e"].isMyFriend(e);2==this.groupInfo.friendflag&&(2!=s||1!=this.groupUser.grouprole&&3!=this.groupUser.grouprole)?1==s&&this.showUserCard(t,e):this.showUserCard(t,e)},groupAvatar:function(t){this.groupInfo_avatar=t}}}}).call(this,s("1157"))},3707:function(t,e,s){"use strict";(function(t){var i=s("4e08"),a=s("3a23"),r=s("4360"),o=s("453a"),n=s("a7fe"),c=s("c50e"),l=async function(e,s){if(1==e){let e=await Object(o["c"])();if(!e)return t(".iconvoicecall").removeClass("icon_select"),void Object(c["j"])("您没有音频设备")}if(2==e){let e=await Object(o["d"])();if(!e)return t(".iconVideocall").removeClass("icon_select"),void Object(c["j"])("您没有视频设备")}let{wxCallMeta:l}=r["a"].state.Call;if(l)return t(".iconVideocall").removeClass("icon_select"),t(".iconvoicecall").removeClass("icon_select"),void Object(c["j"])("您正在通话，请挂断后再发起新的通话");let d={type:e,touid:s},u=await r["a"].dispatch("getUserInfo",s);u.avatar=Object(n["l"])(u.avatar),r["a"].commit("setCallInfo",u),r["a"].commit("setCallShow",!0),r["a"].commit("setCallRole",1),Object(o["g"])(),Object(i["a"])(a["c"].WxCall01Req,d)};e["a"]=l}).call(this,s("1157"))},"388f":function(t,e,s){},3967:function(t,e,s){t.exports=s.p+"static/img/swiper2.529ec764.png"},"3a23":function(t,e,s){"use strict";s.d(e,"d",(function(){return i})),s.d(e,"c",(function(){return a})),s.d(e,"b",(function(){return r})),s.d(e,"a",(function(){return o}));var i=5,a={HeartbeatReq:1,HandshakeReq:2,HandshakeResp:3,JoinGroupReq:4,JoinGroupResp:5,JoinGroupNtf:6,LeaveGroupNtf:7,P2pChatReq:8,P2pChatNtf:9,GroupChatReq:10,GroupChatNtf:11,P2pQueryChatRecordReq:12,RunJsNtf:14,ClosePage:15,MsgTip:16,PageOnlineReq:18,PageOnlineResp:19,UpdateTokenReq:20,UpdateTokenResp:21,UnsendMsgReq:22,UnsendMsgNtf:23,UserActionLogReq:24,P2pAlreadyReadReq:25,P2pAlreadyReadNtf:26,P2pRecentChatListReq:27,P2pRecentChatListResp:28,WxHandshakeReq:599,WxHandshakeResp:600,WxApplyFriendNtf:601,WxFriendChatReq:602,WxFriendChatNtf:603,WxFriendMsgReq:604,WxFriendMsgResp:605,WxGroupChatReq:606,WxGroupChatNtf:607,WxFriendAlreadyReadReq:608,WxFriendAlreadyReadNtf:609,WxGroupAlreadyReadReq:610,WxWithdrawMsgReq:612,WxWithdrawMsgNtf:613,WxLeaveGroupNtf:614,WxNotFriendNtf:615,WxGroupMsgReq:620,WxGroupMsgResp:621,WxUserOperNtf:700,WxFriendErrorNtf:701,WxChatItemInfoReq:708,WxChatItemInfoResp:709,WxSessionOperReq:710,WxUserSysNtf:738,WxGroupOperNtf:750,WxFocusReq:776,WxFocusRefReq:775,WxFocusNtf:777,WxCall01Req:800,WxCall02Ntf:801,WxCall03ReplyReq:802,WxCall04ReplyNtf:803,WxCall05OfferSdpReq:804,WxCall06OfferSdpNtf:805,WxCall07AnswerSdpReq:806,WxCall08AnswerSdpNtf:807,WxCall09OfferIceReq:808,WxCall10OfferIceNtf:809,WxCall11AnswerIceReq:810,WxCall12AnswerIceNtf:811,WxCall13EndReq:812,WxCall14EndNtf:813,WxCall02_1CancelReq:814,WxCall02_2CancelNtf:815,WxCallRespNtf:888,xxxxx:99999},r=function(t){var e=t+"";if(e.length<i){for(var s=i-e.length,a="",r=0;r<s;r++)a+="0";e=t<0?"-"+a+e.substring(1):a+e}return e},o={};for(var n in a){var c=a[n];o[r(c)]=n}},"3ae4":function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("c50e"),r=s("bab4"),o=s.n(r),n=(s("6107"),s("a7fe")),c=s("4360");e["a"]={props:["infoshow","userinfo","type"],data(){return{sexList:[{label:"男",value:1},{label:"女",value:2},{label:"保密",value:3}],searchflag:1,fdvalidtype:1,loading:!1,txcropper:{show:!1,cropper:null,flagX:!0,height:0,width:0}}},watch:{infoshow(t,e){t&&(1==this.type&&(this.searchflag=1==this.userinfo.searchflag,this.fdvalidtype=1==this.userinfo.fdvalidtype),2==this.type&&this.initCropper())}},computed:{...Object(i["d"])({curruser:t=>t.User.currUser,commGroupInfo:t=>t.CommonInfo.groupUserInfo})},methods:{...Object(i["c"])(["setCurrUser"]),...Object(i["b"])(["getChatGroupInfo"]),hideUpdateInfo(){this.$emit("update:infoshow",!1)},saveUpdateUser(){this.loading=!0;let{nick:t,sign:e,sex:s}=this.userinfo;if(this.userinfo.fdvalidtype=this.fdvalidtype,this.userinfo.searchflag=this.searchflag,""==t)return void Object(a["j"])("昵称不能为空");let i={nick:t,sign:e,sex:s,fdvalidtype:this.fdvalidtype?1:2,searchflag:this.searchflag?1:2};user.updatUser(i).then(t=>{t.ok?(this.hideUpdateInfo(),this.setCurrUser({...this.userinfo}),Object(a["j"])("保存成功")):Object(a["j"])(t.msg),this.loading=!1})},initCropper(){let t=this;var e={aspectRatio:1,preview:".previewImg",aspectRatio:1,viewMode:1,crop:function(e){var s=e.detail;t.txcropper.width=Math.round(s.width)+"px",t.txcropper.height=Math.round(s.height)+"px"}};this.txcropper.width=0,this.txcropper.height=0,this.txcropper.cropper&&this.txcropper.cropper.destroy(),this.txcropper.cropper=new o.a(document.getElementById("toDataURL_group"),e)},cropperRotate(){this.txcropper.cropper.rotate(45)},cropperReset(){this.txcropper.cropper.reset()},cropperflagX(){this.txcropper.flagX?this.txcropper.cropper.scaleX(-1):this.txcropper.cropper.scaleX(1),this.txcropper.flagX=!this.txcropper.flagX},closeCropper(){this.hideUpdateInfo(),this.txcropper.cropper.destroy()},changeAvatar(e){var s=e.currentTarget.files[0];if(!s)return;let i=this;var a=new FileReader;a.onload=function(t){var e=t.target,s=e.result;i.txcropper.cropper.replace(s,!1)},a.readAsDataURL(s),t("#toDataURL_group").attr("name",s.name)},async getGroupInfo(t){let e=await a["g"].getWxGroupInfo(t,1),s=Object(n["l"])(e.group.avatar);c["a"].commit("setGetGroupAvatar",e.group.avatar),this.$emit("groupAvatar",s)},sureCut(){if(!t("#toDataURL_group").attr("src"))return Object(a["j"])("请选择图片"),!1;{let s=this;var e=this.txcropper.cropper.getCroppedCanvas();e=this.txcropper.cropper.getCroppedCanvas({minWidth:1,minHeight:1}),e.toBlob((function(e){var i=new FormData;i.append("uploadFile",e,t("#toDataURL_group").attr("name")+".jpg"),i.append("groupid",s.userinfo.id),a["g"].modifyAvatar(i).then(async t=>{s.closeCropper(),t.ok?await s.getGroupInfo(s.userinfo.id):Object(a["j"])(t.msg)})}),"image/jpeg",1)}}}}}).call(this,s("1157"))},"3c70":function(t,e,s){},"3dfd":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t._m(0),t._m(1),s("router-view")],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("audio",{attrs:{id:"nofity_audio"}},[i("source",{attrs:{src:s("5550"),type:"audio/mp3"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("audio",{attrs:{id:"group_audio"}},[i("source",{attrs:{src:s("b06f"),type:"audio/mp3"}})])}],r=(s("abe8"),s("2877")),o={},n=Object(r["a"])(o,i,a,!1,null,null,null);e["a"]=n.exports},"3f7a":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dialog",style:{"z-index":t.zindex?t.zindex:990},on:{click:function(e){return e.stopPropagation(),t.stopProp(e)}}},[s("div",{staticClass:"mask"}),t._t("default")],2)},a=[],r={props:["zindex"],methods:{stopProp(){}}},o=r,n=(s("ae31"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,"56b0f106",null);e["a"]=c.exports},4:function(t,e){},4072:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAEdklEQVRYR8WXW2wUdRTGv7NLy4qtXKxaNK3iA6EmuqklxmjUpMT0CbSB+OpbSUjFazVohHARA02rDyYaoyF4ZUuhCrV2WRFM0ARJoNTGNCbVmBYVKa7ttt3LzPyP+c9ld2Z2Z7a7VN2Xbibbmd//O+d83xkCgK6vORwQ6ADQwowaZoZgQP5lhuu7cc24zmAYvzN+b/9e5H/Bk8yIMmP/209WDVNXjBsDwBkQlpR0o2uBMA+oHwA0qxEeoO6THCHGE/8HRFZtoIfe+Ir/YsbyksohS4AyymFXwlZKZsSpO8byM/+eWHgIvdeo64TgeTfmvwQhS0SdUaErUnQ6FhjCfngdZP+gJjn8R9QaS31USxhRj55wQ+il2fel5iqNyyfMB4OApjqBu28VuLEKUDRgIg58O0b4edLmK3aPcUD7H4BeH5CKWKUpDCFNqzWsYk2ttD/nRyrUex64MG6pZRpdCRDy+bT3C9UsTWEIAWBtnYZHGwSIKJ8EgCoIXTFGfNYJsbo2gJ/+EFC14lNJr/WrrFu1l6QA2h5UcVN1PoMd7OQoMDgiHD208/HFePNEGlcS8v7+A0G7jyu6ItnssEtq5si2Fg3BQA7EDmB9H55gHPxOguSMblfrYnRH05hMGIBOm3AennYdM0Byqpg3soXZs80aqkMGSCEIef3sL4zI9xoabw+iYWVAd95764MYuaQhrQCXpwX6hxTXgXPBSTs/V2ylyYeQlOvvYTTV+yty4IyGoXGB+hWE2qWkp/LGtRUYHFaQSAGJlMDQr5rtwLbDg0E7PsuYpbFlRzZHDPmqQ4wtjwBLKgsrMvq7wDvfaBDCOaJ7N12HzoEUrmRLU6AXzWfR9j4J4g1h1fXmauCpZkKAnDC/TQHdUQUZNd8n9mwM6SBXZ+T9vSF0Z331aNo0NHui5nf4hjDh/jvzFZElePe0gh8mRF5w3hAC/p4rDqH7yCtH0kZpXOWwd/iqGqDt4dzYuBt2OgXs6EshmSk/s+jlXgkiNyXv1XDruiBuW+Y9MRKs/6KCY+eVsjOLth1OsR9E3XKgvTnoObaWOlNzjI5IEprwjwvjWfn9RC8dTvmuARvCATy02iiLl4dY1zsHkvjxkseIZlUvHH70Yk/Sdw2QatxRQ0UhJGjvuQyOX0gXjosiKwS9EDFAvBJ436ZKVC7yd1VLkbNjCt6KJX3jwmsbpOcPSRDvuu5prUBVaH6KnB5V8N6ppG9ceIUfPffpnO8asO6uIB5rrCjaI2kV2N2XwNifmrMZHS9g3uNNz3wiQXzWAAYaVhKaVi3Ciuulszp3kowGjF/VEBvJ4PJUeRC6sz798az3GnCt+6mPSbotn7Z+NOvYWct6jy20JJcAoSvS/qFUxCrNAr29lQihe1T7BzNxwVhml6rkN795pLdz+crtIhKCwXHacnAmIpjNl/AFeGfxySz3SmqtWszoobYD02sCROeEQJV9XSy2YzrzwjxAORBAglVxnz6Lm9+fCQtwBzO3COaa/whikkFRCHSe2n7LxX8AciYRx9shgd4AAAAASUVORK5CYII="},4219:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACXUlEQVRYR81YPXLTUBDeVfzklOYG3AAmZZrI0EERcwLCCYAOScwgZmKbGSjCCQIniCmgw5abtAk3yA1Qa8nRx0iKHCNH0tOfI5Wa3e99u+97u/seU8EPltW79haHAA2IqQdwj5keBzAAXTLDAfhKYdg7ovuDLcspsgTLGi91fQCFXhOxJusT2cEmxkdx/MmW8csl5L1/pxH4Q3EiyeXliGUScg3jlJmOZCKTt8GJGI7fptnfSSjQydJbnFXPStqysDui++IufW0QCsh4rjuLhSofeTHL4AAIVe0nSW0Q8kx91lxmNnUlhuP++t//CDWjmZzMgb6K0ehNbLUiFJ0mZVYs8TVZs9+Py8Itoa1uVfrWhYSiosdnNcVbDuYmSyEhz9BtYj4oh1STFzAXo7HGUc1x/9YEWwmmI9QHvDSMIzCdVkKqyZlBr9gzjQkRHdaEWQkGhO/cCv3EYQBzdg3jIqtNKE+ekrK/T7S7Wyn6wNk/Pyf/189UnHCe8kwDWSt1joeViawAHIeWXz5n4uUSUp49J2Vvr54MTafkT39nE3JN/ZKJH9WXhvJIIPxpoahN/RsTvywfV32e4bFvXWFsXetoXXMNCd3ncLYaFaMh7XZAu88R5Gb0CLi1d4SNtGScEAfX5S1+aUN+TGGr3X9tq1ZSSuYivCh6C7vpdhK0CSG6Wu5FMSAY1iZ3MWlszgbmHbU7kLpKr2esEU0lNJPcIbnnGJ+tytkC5qTAynsnyiW0EntQPMsQkySSKuq8Ax8+6bnuwGdoDHoIpl58AMJ5BuSA6UoB2zuqOin6pPcPZhUnw6p/NO8AAAAASUVORK5CYII="},4360:function(t,e,s){"use strict";var i=s("a026"),a=s("2f62"),r=s("0f9a"),o=s("50b2"),n=s("1adb"),c=s("c50e");const l={groupUserInfo:{},forbiddenInfo:{}},d={getChatGroupInfo({commit:t},e){c["g"].getchatGroupInfo({groupid:e,userflag:1}).then(e=>{e.ok&&t("setGetGroupUserInfo",e.data)})},getchatForbiddenFlag({commit:t},e){c["g"].chatForbiddenFlag(e).then(e=>{e.ok&&t("setForbiddenInfo",e.data)})}},u={setGetGroupUserInfo(t,e){t.groupUserInfo=e},setForbiddenInfo(t,e){t.forbiddenInfo=e},setGetMsgFree(t,e){t.groupUserInfo.groupuser.msgfreeflag=e},setGetGroupAvatar(t,e){t.groupUserInfo.group.avatar=e}};var h={state:l,actions:d,mutations:u};i["default"].use(a["a"]);e["a"]=new a["a"].Store({modules:{User:r["a"],Ws:o["a"],Call:n["a"],CommonInfo:h}})},4384:function(t,e,s){"use strict";s("c803")},4419:function(t,e){t.exports="data:image/png;base64,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"},"443c":function(t,e,s){},4509:function(t,e,s){"use strict";if("undefined"==typeof i)var i={};i.CookieCls=function(){var t=this;this.cks={},this.isIp=function(t){var e=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;return e.test(t)},this.init=function(){for(var e=document.cookie?document.cookie.split("; "):[],s=0;s<e.length;s++){var i=e[s],a=i.indexOf("=");if(-1!=a){var r=i.substr(0,a),o=i.substring(a+1);t.cks[r]||(t.cks[r]=[]),t.cks[r].push(o)}}},this.get=function(e){return t.cks[e]||null},this.getLast=function(e){var s=t.get(e);return s?s[s.length-1]:null},this.set=function(t,e,s){var i=t+"="+encodeURIComponent(e),a=!1;if(3==arguments.length)for(var r in s){var o=s[r];if("expires"==r&&"number"===typeof o){var n=new Date;n.setMilliseconds(n.getMilliseconds()+864e5*o),o=n.toUTCString()}"path"==r&&(a=!0),i+=";"+r+"="+o}a||(i+=";path=/"),document.cookie=i},this.remove=function(e){var s=t.get(e);if(s){var i=location.hostname,a=location.hostname.split("."),r=t.isIp(location.hostname);r||a.length>2&&(i=a[a.length-2]+"."+a[a.length-1]);for(var o="",n=0;n<s.length;n++){var c=s[n];o=e+"="+encodeURIComponent(c)+";domain="+i+";max-age=0;path=*",document.cookie=o,o=e+"="+encodeURIComponent(c)+";max-age=0;path=*",document.cookie=o}}},this.removeIfRepeat=function(e){if(1==arguments.length){var s=t.get(e);return!(!s||s.length<=1)&&(t.remove(e),!0)}var i=!1;for(var a in t.cks){var r=t.removeIfRepeat(a);1==r&&(i=!0)}return i}},i.cookie=new i.CookieCls,i.cookie.init();let a=i.cookie;e["a"]=a},"453a":function(t,e,s){"use strict";(function(t){s.d(e,"g",(function(){return l})),s.d(e,"e",(function(){return g})),s.d(e,"f",(function(){return m})),s.d(e,"h",(function(){return c})),s.d(e,"d",(function(){return A})),s.d(e,"c",(function(){return v})),s.d(e,"j",(function(){return b})),s.d(e,"i",(function(){return w})),s.d(e,"l",(function(){return y})),s.d(e,"k",(function(){return k})),s.d(e,"m",(function(){return O})),s.d(e,"b",(function(){return N})),s.d(e,"a",(function(){return R}));var i=s("4e08"),a=s("3a23"),r=s("4360"),o=(s("a7fe"),s("c50e")),n=0,c=null;function l(){n=0,c=setInterval((function(){n++,45==n&&(clearInterval(c),Object(i["a"])(a["c"].WxCall02_1CancelReq,{}))}),1e3)}var d={NORMAL:1,REJECT:2,OTHER_SIDE_CALLING:3,TCP_DROPPED:4,CLIENT_ERROR:5,ICE_ERROR:6,SYSTEM_RESTART:7,OFFLINE:8,RESP_TIMEOUT:9,CANCELED:10,NOT_HANGUP:99};let u=r["a"].state,{callObj:h,callShow:p}=u.Call;function g(t,e){2==t.type?wxCallLocalVideo.srcObject=e:wxCallLocalAudio.srcObject=e,h.localsrc=!0}function m(t){2==t.type?wxCallRemoteVideo.srcObject=wxCallLocalVideo.srcObject:wxCallRemoteAudio.srcObject=wxCallLocalAudio.srcObject,h.remotesrc=!0}async function f(t){let e=!1;return await navigator.mediaDevices.enumerateDevices().then(s=>{for(let i=0;i<s.length;i++){const a=s[i];if(a.kind==t){e=!0;break}}}).catch((function(t){log(t)})),e}function A(){return f("videoinput")}function v(){return f("audioinput")}function C(){if(wxCallRemoteStream)try{wxCallRemoteStream.getTracks().forEach(t=>t.stop()),wxCallRemoteStream=null}catch(error){}if(wxCallLocalVideo&&wxCallLocalVideo.srcObject)try{wxCallLocalVideo.srcObject.getTracks().forEach(t=>t.stop()),wxCallLocalVideo.srcObject=null}catch(error){}if(wxCallRemoteVideo)try{wxCallRemoteVideo.srcObject&&(wxCallRemoteVideo.srcObject.getTracks().forEach(t=>t.stop()),wxCallRemoteVideo.srcObject=null)}catch(error){}if(wxCallLocalAudio&&wxCallLocalAudio.srcObject)try{wxCallLocalAudio.srcObject.getTracks().forEach(t=>t.stop()),wxCallLocalAudio.srcObject=null}catch(error){}if(wxCallRemoteAudio)try{wxCallRemoteAudio.srcObject&&(wxCallRemoteAudio.srcObject.getTracks().forEach(t=>t.stop()),wxCallRemoteAudio.srcObject=null)}catch(error){}wcCallLocalPeer&&(wcCallLocalPeer.close(),wcCallLocalPeer=null),wcCallRemotePeer&&(wcCallRemotePeer.close(),wcCallRemotePeer=null)}function b(){C()}function w(e,s){if(wxCallMeta){var r={};if(R(r,wxCallMeta,!0),wxCallMeta=null,r.fromuid==u.User.currUid)switch(r.hanguptype){case d.RESP_TIMEOUT:t(".iconVideocall").removeClass("icon_select"),t(".iconvoicecall").removeClass("icon_select"),Object(o["j"])("对方没有应答");break;case d.OTHER_SIDE_CALLING:t(".iconVideocall").removeClass("icon_select"),t(".iconvoicecall").removeClass("icon_select"),Object(o["j"])("对方忙线中...");break;case d.OFFLINE:t(".iconVideocall").removeClass("icon_select"),t(".iconvoicecall").removeClass("icon_select"),Object(o["j"])("对方不在线");break;case d.REJECT:t(".iconVideocall").removeClass("icon_select"),t(".iconvoicecall").removeClass("icon_select"),Object(o["j"])("对方已拒绝");break;default:break}e&&(r.hanguptype=s,Object(i["a"])(a["c"].WxCall13EndReq,r)),C()}}function y(){if(wxCallMeta){var t=wxCallMeta.fromcid==wxCallMeta.tocid;return t}return!1}function k(t){t.candidateQueue=new U(200),t.ontrack=M,t.onremovetrack=S,t.onnegotiationneeded=I,t.oniceconnectionstatechange=B,t.onicegatheringstatechange=L,t.onsignalingstatechange=E,t.onicecandidate=j,t.onconnectionstatechange=x}function x(t){switch(log("wxHandleConnectionStateChangeEvent----",t.target.connectionState),t.target.connectionState){case"connected":break;case"disconnected":case"failed":break;case"closed":break}}function I(t){log("来了，wxHandleNegotiationNeededEvent",t),wcCallLocalPeer.createOffer().then((function(t){return wcCallLocalPeer.setLocalDescription(t)})).then((function(){var t={};R(t,wxCallMeta),t.sdp=wcCallLocalPeer.localDescription,Object(i["a"])(a["c"].WxCall05OfferSdpReq,t)})).catch((function(t){log("fail to createOffer: "+t)}))}function O(t){switch(w(!0,5),t.name){case"NotFoundError":Object(o["j"])("未发现音视频设备");break;case"SecurityError":case"PermissionDeniedError":Object(o["j"])("没有权限使用音视频设备");break;default:Object(o["j"])("打开音视频设备时出现了异常: "+t.message);break}p=!1}function M(t){t.streams&&t.streams[0]?1==wxCallMeta.type?wxCallRemoteAudio.srcObject||(wxCallRemoteAudio.srcObject=t.streams[0]):wxCallRemoteVideo.srcObject||(wxCallRemoteVideo.srcObject=t.streams[0]):(wxCallRemoteStream||(wxCallRemoteStream=new MediaStream,wxCallRemoteStream.addTrack(t.track)),1==wxCallMeta.type?wxCallRemoteAudio.srcObject||(wxCallRemoteAudio.srcObject=wxCallRemoteStream):wxCallRemoteVideo.srcObject=wxCallRemoteStream),h.remotesrc=!0}function S(t){var e=wxCallRemoteVideo.srcObject;if(e){var s=e.getTracks();0==s.length&&w(!1)}}function j(t){t.candidate||log("All ICE candidates have been sent");var e=null;e=t.target==wcCallLocalPeer?a["c"].WxCall09OfferIceReq:a["c"].WxCall11AnswerIceReq;var s={};s={};R(s,wxCallMeta),t.candidate&&(s.candidate=t.candidate),Object(i["a"])(e,s)}function L(t){let e=t.target;switch(e.iceGatheringState){case"new":log("new new new The peer connection was just created and hasn't done any networking yet");break;case"gathering":log("gathering gathering gathering The ICE agent is in the process of gathering candidates for the connection");break;case"complete":log("Candidate收集完成");break}}function B(t){switch(t.target.iceConnectionState){case"closed":case"failed":case"disconnected":log("ice服务器出问题了："+t.target.iceConnectionState,t),w(!0,6);break;default:}}function E(t){var e=t.target;switch(e.signalingState){case"closed":w(!0,4);break}}var N=async function(){let t=await Object(o["f"])();return t};function R(t,e,s){e&&(t.id=e.id||null,s&&(t.type=e.type||null,t.status=e.status||null,t.result=e.result||null,t.calltime=e.calltime||null,t.resptime=e.resptime||null,t.connectedtime=e.connectedtime||null,t.endtime=e.endtime||null,t.waitduration=e.waitduration||null,t.callduration=e.callduration||null,t.hanguptype=e.hanguptype||null,t.hangupuid=e.hangupuid||null,t.fromuid=e.fromuid||null,t.fromcid=e.fromcid||null,t.fromipid=e.fromipid||null,t.fromdevice=e.fromdevice||null,t.touid=e.touid||null,t.tocid=e.tocid||null,t.toipid=e.toipid||null,t.todevice=e.todevice||null,t.errorcode=e.errorcode||null,t.streamwait=e.streamwait||null,t.errorcode=e.errorcode||null,t.errorcode=e.errorcode||null),wxCallMeta=e)}function U(t){var e=[];this.push=function(s){return null!=s&&(null==t||isNaN(t)||e.length==t&&this.pop(),e.unshift(s),!0)},this.pop=function(){return e.pop()},this.size=function(){return e.length},this.quere=function(){return e}}}).call(this,s("1157"))},"453e":function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("a688"),r=s("a7fe"),o=s("c50e"),n=s("7401"),c=s("2957"),l=s("c126"),d=s("b99e");e["a"]={data(){return{moreshow:!1,addfriend:!1,searchValue:"",searchResult:!1,search:{pagenum:1,totalPage:0},searchData:[],creategroup:!1,choosedList:[],choosedArr:[],friendscrollid:"search-friend-list",surecreate:!1,createname:"",groupname:"",groupintro:"",loading:!1}},mixins:[a["a"],l["a"],d["a"]],props:["show"],watch:{show(e){e&&(this.resetSearchData(),this.$nextTick(()=>{t("#list-search").focus(),this.searchDom=t("#search-mail-list"),Object(r["d"])(this.searchDom)}))}},computed:{...Object(i["d"])({curruid:t=>t.User.currUid,applyThis:t=>t.Ws.applyThis,currUser:t=>t.User.currUser,applyThis:t=>t.Ws.applyThis})},components:{UserCard:c["a"]},methods:{...Object(i["c"])(["setChatOn"]),hideSearchContent(){this.searchVal="",this.$emit("update:show",!1)},showSearchList(){this.$emit("update:show",!0)},async searchLiClick(t,e){this.hideSearchContent();let s={};s=1==t?{touid:e,uid:this.curruid}:{groupid:e};let i=await n["a"].chatActChat(s);if(i.ok){let t=i.data.chat;if("/home"==this.$route.path)this.applyThis.$refs.chatlist.chatColClick(t);else{let{id:e,bizid:s,chatmode:i}=t;this.setChatOn({chatOn:e,bizid:s,isGroup:2==i}),this.$router.push({path:"/home"})}}else Object(o["j"])(i.msg)},async searchLiStrangerClick(t){this.hideSearchContent();let e={};e={touid:t,uid:this.curruid};let s=await n["a"].chatActStrangerChat(e);if(s.ok){let t=s.data.chat;if("/home"==this.$route.path)this.applyThis.$refs.chatlist.chatColClick(t);else{let{id:e,bizid:s,chatmode:i}=t;this.setChatOn({chatOn:e,bizid:s,isGroup:2==i}),this.$router.push({path:"/home"})}}else Object(o["j"])(s.msg)},showMoreOper(){document.documentElement.click(),this.moreshow=!0,this.$setAddEventListener("moreshow")},initSearchUser(){let t={searchValue:"",searchResult:!1,search:{pagenum:1,totalPage:0},searchData:[]};Object.assign(this.$data,t)},cancleAdd(){this.initSearchUser(),this.addfriend=!1},showAddFriend(){this.addfriend=!0},showCreateGroup(){this.getMyFriendList(),this.creategroup=!0},cancleCreate(){this.choosedList=[],this.choosedArr=[],this.initFriend(),this.creategroup=!1},searchFriend(){this.search.pagenum=1,this.searchList()},searchList(){let e={pageNumber:this.search.pagenum,nick:this.searchValue};o["e"].searchUser(e).then(e=>{if(e.ok){let s=e.data;if(1==this.search.pagenum&&(this.searchData=[]),!s)return void(this.searchResult=!1);this.search.totalPage=s.totalPage,this.searchResult=!0;let i=s.list;if(i.map(t=>{t.avatar=Object(r["l"])(t.avatar)}),this.searchData=this.searchData.concat(i),1==this.search.pagenum){let e=this;this.$nextTick(()=>{Object(r["d"])(t("#searchUserList"),"",{whileScrolling:function(){95==this.mcs.topPct&&e.search.pagenum<e.search.totalPage&&(e.search.pagenum++,e.searchList())}})})}}else Object(o["j"])(e.msg)})},userApply(t){this.userCard.data.id=t,this.$refs.usercard.applyFriend()},friendClick(e){let s=this.choosedArr.findIndex(t=>t==e);if(-1!=s)this.choosedList.splice(s,1),this.choosedArr.splice(s,1);else{let s={};this.orgSetList.map(t=>{t.uid==e&&(s=t)}),this.choosedList.push(s),this.$nextTick(()=>{Object(r["d"])(t("#create-choosed-list"))}),this.choosedArr.push(e)}},cancleDelCoosed(t){let e=this.choosedArr.findIndex(e=>e==t);this.choosedArr.splice(e,1),this.choosedList.splice(e,1)},showSureCreate(){this.createname=this.currUser.nick+"、",this.choosedList.map((t,e)=>{e!=this.choosedList.length-1?this.createname+=t.nick+"、":this.createname+=t.nick}),this.createname=this.createname.substring(0,30),this.surecreate=!0},closeCreate(){this.createname="",this.groupname="",this.groupintro="",this.surecreate=!1},wxSureCreate(){this.loading=!0;let t={uidList:this.choosedArr.join(","),name:this.groupname,intro:this.groupintro};o["g"].createGroup(t).then(async t=>{if(t.ok){this.closeCreate(),this.cancleCreate(),this.loading=!1;let e=await n["a"].chatActChat({groupid:t.data.id}),s=e.data.chat,i=this.$route.path;"/home"!=i?(this.setChatOn({chatOn:s.id,bizid:s.bizid,isGroup:!0}),this.$router.push({path:"/home"})):this.applyThis.$refs.chatlist.chatColClick(s)}else Object(o["j"])(t.msg),this.loading=!1})}}}}).call(this,s("1157"))},"45f1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAC9UlEQVRIS7VUQUgUURj+/5kdt2OoByGDPQQF624zb+wgKOUhUvISHUISqkOQWNgl1EOYJ4kI9RAZrWR0Cbp08CbhRbDI92Z2dalD0EZGHhQ6dJhdZ+aPF7MwWjs7Sc7xzfu/7/3f9/0/wgF/eMD4EIsglUodamxsPI2IbQCwzDl/F/dhdQl0XT+vquosEW0i4ioRPRdCvP0vBIyxS4g47XneoG3br+OChu/V7CCdTrckk8kPANArhFg1TXOIiAaIaNayrDkJks1mjycSiWkA2HJdd6xQKGzsfURNAsbYOCK2cs6vM8YeIGI7EY1JMgBwGWPHEHGJiO4CwBFEHACALs75VqwOGGOLRDRXqVQWksnkd9/3j9q2/SMoTjDGVgAgJ4R4Is9M05wkohYhxLVYBIZhPEXE+67rOpqmjctOqoWmaQ4TUZ8Q4mz1TCatqanpc6VS6V5bW/tYPa+bor2aBkBfiahDCPEp/N80zcdEtC6EeLRvgqr5RKRblvUlTMAYewEAb4QQ8/smkIWMsSEAuIeIs5xzaTJUJSKirnBn/yxRyIdXgRwTgcnDAHCGc34hlslRQ6Xr+hVVVW9vb293lEolR9f1lKqq73d2droLhcJ6bAJd1w8rinLO87zlfD7/TRYahnEREXOu63YFYAnTNBd931+wLOth3EGTOR9BxJsAIPdOu+d5GUVRLiPiqOu6/fl8fjnwYwoA2sKRjexAjr+maS+JaMP3/Vu2bZcYY8+kvnIlAEB/1UQ5DwBww3GcU8Vi8effZN1lcjabbdU0bcXzvAnbtnMhQ5s9z+u0bXtBrolAqhFFUa46jtNdLBY3a3m2i0DGT+58zvlghMlSvilE7HQcpzcKXGLsIshkMicaGhqWfN/vsSwrv5fEMIyTiqLMS/nK5XJ/LVkiPWCM9QCAnMjpcrk8I0GCtTwKAH0AcCc8qVFx/qOD6mWZa0VRJgNABxEdIsr5vj8T2qj1sH//rzfJiXQ63VxP5yimegSxXhl16RdGNl4o4fH/SgAAAABJRU5ErkJggg=="},"465c":function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("c50e"),r=s("a7fe"),o=s("ccec");e["a"]={props:["groupid"],data(){return{groupList:[],totalRow:0,contextmenushow:!1,contextmenu:{top:0,left:0,data:{}},group:{show:!1,name:"",groupid:""}}},created(){this.getAllGroupList()},computed:{...Object(i["d"])({curruid:t=>t.User.currUid,applyThis:t=>t.Ws.applyThis})},components:{GroupName:o["a"]},methods:{async getAllGroupList(){let e={mode:2},s=[],i=await a["b"].chatMailList(e),o=i.data;o&&(s=o.group,s.map(t=>{t.avatar=Object(r["l"])(t.avatar)})),this.groupList=s,this.totalRow=s.length,this.groupid||this.$emit("setGroupId",s[0].groupid),this.$nextTick(()=>{Object(r["d"])(t("#grouplist"))})},chatContextMenu(t,e){let s=Object(r["m"])(t,130);this.contextmenu={top:s.otop,left:s.oleft,data:e},this.contextmenushow=!0,this.$setAddEventListener("contextmenushow")},groupClick(t){this.$emit("setGroupId",t.groupid),this.applyThis.$refs.groupinfo.showEditName=!1},sendMsg(){this.$emit("sendMsg",this.contextmenu.data.groupid)},sendCard(){this.$emit("sendCard",this.contextmenu.data)},editGroupName(t){this.group.show=!0,this.group.name=t.name,this.group.groupid=t.groupid},afterOutGroup(t){let e=t.g,s=this.groupList.findIndex(t=>t.groupid==e);-1!=s&&this.groupList.splice(s,1),e==this.groupid&&(this.groupList.length>0?this.groupClick(this.groupList[0]):this.$emit("setGroupId",""))}}}}).call(this,s("1157"))},"46a4":function(t,e,s){t.exports=s.p+"static/img/1.5a9c159b.png"},"470b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAB0UlEQVQ4T62UP2sUURTFz1kTkXWttAjp3C5gM+ydXbeSISG42ImQLyAkgqJgZyGCYiOIfxpB8gGykDophK1E4b0dLIQVTJFCwjZWs4Iwy1x5shviZCYvC04579wf554584j//PA0vMFgcHE4HP6Koui3T18I7PV656rV6vlWq/XTGLMCYIfkXpIkgQ9aCDTG3CX5kOStLMuekbzunKnqxmg02oyiaFzmtMzhXK1W+0RS8oOq+kVVO81mc1gELXPYAXCD5BqASwWDX5MkCYvWPwbsdrtn6/X6d1VdJPkcwOOS9R6IyOv82TFgHMfLWZZ9mGT2g+QugNsF0M8i0vYCJx/k7VRI0sHnVfVabngkIhe8QGvtfQCvckK3mstz4cj7sYjMe4HGmHWS73JCVxOX5yMAc5OzfRG57AVaa11e7wsyO1DVbZL3ZgKWOPzLcHmqagZgFYDfobW2qqovSa6f8M++UdWbLs9KpXK10Wj0j2r/qU2/32+o6haAM2VA55DkCwCuCXsislQKLILEcXxYF5LjIAg+Ot2kDU/SNA3a7fb+Yc1815Exxkz/aVW1YRiG0xlr7dM0TTdnBV4hOS36HRH5dpKJU12wvi1mynAWmNP+AVv6tRVpmsPcAAAAAElFTkSuQmCC"},"471d":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"groupcontent"},[i("div",{staticClass:"grouplist",attrs:{id:"grouplist"}},[i("ul",[i("div",{staticClass:"group-total"},[i("span",{staticClass:"group-line"}),i("span",{staticClass:"total-count"},[t._v(t._s(t.totalRow)+"个群聊")]),i("span",{staticClass:"group-line"})]),t._l(t.groupList,(function(e){return i("li",{key:e.groupid,class:["group-row",t.contextmenushow&&t.contextmenu.data.groupid==e.groupid?"hover":"",t.groupid==e.groupid?"on":""],on:{click:function(s){return t.groupClick(e)},contextmenu:function(s){return s.preventDefault(),t.chatContextMenu(s,e)}}},[i("el-image",{staticClass:"group-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("div",{staticClass:"row-right"},[i("p",{staticClass:"group-name"},[t._v(t._s(e.name))]),i("p",{staticClass:"group-num"},[e.uid==t.curruid?i("img",{staticClass:"ownericon",attrs:{src:s("d378")}}):t._e(),3==e.grouprole?i("img",{staticClass:"ownericon icon_admin",attrs:{src:s("4995")}}):t._e(),i("span",[t._v(t._s(e.joinnum)+"人")])])])],1)}))],2)]),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.contextmenushow,expression:"contextmenushow"}],staticClass:"contextmenu-ul",style:{top:t.contextmenu.top,left:t.contextmenu.left}},[i("li",{on:{click:t.sendMsg}},[t._v("发消息")]),i("li",{on:{click:t.sendCard}},[t._v("分享群聊")]),i("li",{directives:[{name:"show",rawName:"v-show",value:t.contextmenu.data.uid==t.curruid,expression:"contextmenu.data.uid==curruid"}],on:{click:function(e){return t.editGroupName(t.contextmenu.data)}}},[t._v("修改群名称")])]),i("GroupName",{attrs:{show:t.group.show,name:t.group.name,groupid:t.group.groupid},on:{"update:show":function(e){return t.$set(t.group,"show",e)},"update:name":function(e){return t.$set(t.group,"name",e)}}})],1)},a=[],r=s("465c"),o=r["a"],n=(s("9ee6"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,"d7d995d4",null);e["a"]=c.exports},"482f":function(t,e,s){"use strict";s("4b3f")},"48c7":function(t,e,s){},4995:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAkCAYAAAA5DDySAAAABHNCSVQICAgIfAhkiAAAB7FJREFUaEPtmWlsFlUUhp9bjUSWWJYiggIKpS0WrCBqEwy7CBYtLmhQTPSH/lGBRAq4YI1RBH+UxD3RhLhETQRcoLQFawmodYNIEKQolUXKLkVQwPhdc+fe+83+zVeXHwYmaabTmc499z3vec8ygtP8EKf5/jkDwBkGRCBQuVqW/5liupCUpCS56pGUBKQ6q1+EPktzRiClRKpzypyzvQ68J/he/7WxQ9mT0oY7dinTUo55OK8LXKckDUjxxPIHRENwu6EQUJuXKZZ5Xx5cLO46vbgywv5Yo5xrDzjSA5oHrDS4CmRndy7IoesY8PzruKAgxaggCCEA5tXJBgEj4jcjkUHj//PNeAC1Ho7wdNDzjhM9TJGSNdUP5oz0siDMgFVSsVjTy/xzFK2Ci6XpF+l5S1d/2KTDKcnT5n5GBsU6RYPnhG+KI9XTczpnBODxOrVMDOKGxlEakO1mQhqh6J/EqACoWov8GpBtmFY/mONzeogBDgD/gGZWOwq7w6RL4afD8PZ61/NThwpKL4bPtsObX/kFc9owuKovNDbD4i+UsIUF9aWpguMnYeZ7WlO8QhwtoH6wViYBMK/WIYAf4Qj1X1AWn0A/bYZ310sqxgguzIXn18LmFr2ZygnQtQO89ZVk3Xa/EFZOFPTuDBt2wZ5Wo+7G05taJF3aw73DBa0noKHJf1+x4udWyerN8dlAvSoRAMWAoAZEXU8s0mFSkAc9z4P6bdC9IxRfAA4AG2BKCQy/BDbugZc/hdK+kmnDBLt+gSdrTVYw9B/eT3D31fGgfrwV+uVB3y7xz3y/F+a+b9/rSYmerLRyekIIPOZlgC/2omP1vlK4uCu82ijJ7yYYM0AD8I6iPYKFN8C2A/DSOomi/xW9oWYzVG82Kc4I3MJyzYxPmuDrnTBjNBw8BrOWqnXhnlLBmELNjMWfS64tElzRB9b+AIvqZcY6wCvoiQCoEIgTGKsNEwo0zdRR0gvOPRs++8llwNb90OEcHPpnOqo+kXzXIrhzGIzMh52/wLzluth6bIJwvL24ES7phrNZFfsfbYT6rTqcXrgdzjkL7nk9qr6IFvKaRAbUeLJATBGzsCy5hdh9BLbs00D16ASDe8KuI/Bdi4FE6vub9mjj77pSG/zbKX2/c3v4/Q99rRhW3BMOHNPi6RwSunSA30/pZ9Q6rzfKUIUYzA7JANSaLBDM5xHl5oBucG8pbNoLrzVC2UCcEFi3XWuAVeUbB8G1hfDjQVi4OlxOK8gfGisY2CMzY5LuPrFcsmGXLdOjhBxqZyRowKM1JgukK6hw7T8gT9CvG5zfES7tAU0HcISteycYdIEGQGmA7Q3KB4s0AAtWRfcKs8biAFDfpGLcguTtQTx5P1AHvHKHIK8jKADW7wz3At6iLSsANATxjceEQhjVP94fCgBF33EF8c/8cBDm17pgzDIMUIKZn5fka/f+9/uga3vI6wSVigE7PQ1SRE+SCMAjK/11gFN+xlRqT10vHLgXf6ni2e/Z0j6Sob31/Q7t4KJcOHQc9h/Txu87Cm986QkHkw1uHQJlxbDjMGz82ZSxbtin1bdnLgzrAzr16UwRWZ4HusZEAFQIuK2vnwnelnPiQBjdXxUf8Gx9zOIGvPLBMN5owIJV8S210ozbhgiuL4am/VC5wp8qbbmtDLzjKkH5ZaAYMHeZ10nxZbzaTSIAigF+JKNb2EfHQedzo6n660mY/aFr/OTLRBqA+XX673HzgymGAdkGgWVAUi9gwzo7ALy9QEQ2mHo5DLlQm6gYoLzgZCYJYwtAAaAKFruoDYGjJ/Tztoj4vFmy9kcDhgmzKUOFGwK73XrDkSU7/LAhIeHYSVhiii6ddaLV3wKaCMDD1VYDouk3sr9kfIHgxB/QsR00H4ZFDS6tn7tZA9CpXbIPG7apQsc7ScIJgbJBGsBvdoQBsAWYBVed9xyR1G0xToiZDGUPgAoB2z/HZIP7h8P2QzA6XwNQZQZNiobP36IBmP2hW+tPVhpQpOuA+XWZJ0O3GQYkw+c+sWUvzFkqQw2ct6vNGoC5lgGBIUVUNqgqFzQfgqo17mYtABUfuJ69SWmAAeDp2kxjLpgyRDBpkBbBx5ebTcUMWaZdLZhcAgqA2UvUetEzQS+YWYWArxeIGD7YbFBVHi+CFR+4nlYMuK4IVO5/ps6tEKMGrLcrBpgQ+HqHobUn5rXY6NDolQtX9jUAmKYpahbZJgDmrrC9QMyU11MXLJos2K1EcG84Vpd+63paMcACkGZAcMzlDD9AhYBiQFsOxYCKJTpeQ9NiKxrmhYkMUCGQRjEhG0waCMdPwaqtpl6Ime2NL5KM6K/nAM+tyTxaLysWjC3UhdCztmyOGbWPKZBcky9oaYUXG8IaYJncJgbMWaH+7d8aSUePvp0ewffdwB+7jie9ApwhtSUVbd7NS0lr3cwcX5Me6mvnrJANUjLCCkrbBpD+1Pn3prh+cJK/E8SDZVOlBUGNxetmJozFKz6S5UKwLDjl/W83E47dSM/GZIO0+genxwEhEVKMqpnp/zoUOdlQIEjJDCkpQXBe0Jj4xiPhs5hHQGNH657PbUmjdu2UiM9iBgiv53MQlcHNq/vJo522yPH/8NkzAPwPnfavmnzaM+Avta9onXGmIdIAAAAASUVORK5CYII="},"4a0e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABO0lEQVRYR+2Y4U3DMBCF77wAsAFs0A2ACegG9k0AI8AEsIHlCYAN2glgBEaABe6QUSqFtNGrmqRE6PL3xfaXL5cfeUwzv3jmfOSAQ9/QToM55yUz3xLRgplPhx6C1pvZysweRGTVvXcLsMKFEJ7RplPkqnrdhdwCLKXUp7gkoldVvReR9ylgNnvmnM9DCE9EdENE6xjjVfu8XYBWb1DVCxH5mBKuBbkIIbyZ2WdK6WwvwBjjUb/wUsqPmO65vQYdsDM7bnDox+QG3eDGQN8sDDWE1vsMIkMod4PIEMrdIDKEcjeIDKHcDSJDKHeDyBDK3SAyhPL/Z/CPfty/Ukq/uqDe6sPMXppCZ/Lqg5kfmXm5V/Ux+/KoDnMDeWdmtX47QQM+Qr5uiipcv41w2KhbHLUgOoTcAQ+x1l7zDfgeJzjwA0TXAAAAAElFTkSuQmCC"},"4acc":function(t,e,s){"use strict";(function(t){var i=s("c50e"),a=s("a7fe");const r={data(){return{handPage:{num:1,total:1,row:50},orgList:[],handPageList:[],addFriendList:[],applyval:""}},methods:{initApplyFd(){this.shownodata=!1,this.handPage={num:1,total:1,row:50},this.addFriendList=[],this.delChoosedList=[],this.delArr=[],this.applyval="",this.applyGroupFdList()},searchApply(t){this.deloradd;let e=new RegExp(""+t,"gi"),s=[];this.orgList;this.orgList.forEach((function(t){e.lastIndex=0,e.test(t.nick)&&s.push(t)})),this.handPage.num=1,this.handPage.total=Math.ceil(s.length/this.handPage.row),this.handPageList=s,this.handPaging()},applyGroupFdList(){let t={groupid:this.groupInfo.id};i["g"].applyGroupFdList(t).then(t=>{if(t.ok){let e=t.data;this.handPage.total=Math.ceil(e.length/this.handPage.row),this.handPage.num=1,this.orgList=e,this.handPageList=e,this.handPaging(),this.setHandPageScroll(),this.shownodata=!0}})},setHandPageScroll(){let e=this;this.$nextTick(()=>{Object(a["d"])(t("#addMemberlist"),"",{whileScrolling:function(){95==this.mcs.topPct&&e.handPage.num<e.handPage.total&&(e.handPage.num++,e.handPaging())}})})},handPaging(){let{num:t,row:e}=this.handPage,s=[...this.handPageList].splice((t-1)*e,e),i=[];1==t?(this.addFriendList=[],this.letterArr=[]):i=[...this.addFriendList];let a=this.setChatIndex(s,i,"letterArr");this.addFriendList=a.contdata},setChatIndex(t,e,s){return t.map(t=>{let i=t.chatindex;if(t.avatar=Object(a["l"])(t.avatar),this[s].find(t=>t==i))e[e.length-1]["data"].push(t);else{let a={index:"",data:[]};this[s].push(i),a.index=i,a.data.push(t),e.push(a)}}),{contdata:e,list:t}}}};e["a"]=r}).call(this,s("1157"))},"4b3f":function(t,e,s){},"4daf":function(t,e,s){"use strict";s("443c")},"4e08":function(t,e,s){"use strict";var i=s("3a23"),a=s("6f5f");const r=function(t,e){var s=Object(i["b"])(t),r=i["a"][s],o=s;e&&(o=s+JSON.stringify(e),log(o+"str")),log("准备发送 "+r+":'"+o+"'");var n=(new TextEncoder).encode(o);a["b"].ws.send(n.buffer)};e["a"]=r},5:function(t,e){},"50b2":function(t,e,s){"use strict";(function(t){var i=s("c50e"),a=s("a7fe");const r={noReadApply:0,chatOn:"",isGroup:!0,bizId:"",imgList:[],MessageList:[],$chatEditor:null,chatSofftop:0,applyList:[],chatList:[],allNotRead:0,personAudio:null,groupAudio:null,chatInfo:{name:"",chatmode:1,joinnum:0},isConnect:!1,chatOldMsg:{unshift:"",startmid:"",chattype:"",chatlinkid:""},islastmsg:!1,applyThis:null,template:null,groupmore:!1,iscurrentpage:!0,channelContextid:"",focuskeys:[]},o={getApplyList({state:t}){i["e"].getApplyFriendList().then(e=>{if(e.ok){let s=e.data;s.map(t=>{t.avatar=Object(a["l"])(t.avatar)}),t.applyList=s}})},getApplyData({state:t}){i["e"].getApplyData().then(e=>{e.ok&&(e.data?t.noReadApply=e.data:t.noReadApply=0)})},async getChatRecent({state:t,commit:e}){await i["b"].chatRecent().then(s=>{if(console.log(s),!s.ok)return Object(i["j"])(s.msg||"系统错误"),[];{let i=s.data;if(t.allNotRead=0,!i)return;i.map(s=>{s.avatar=Object(a["l"])(s.avatar),1==s.sysflag&&s.sysmsgkey&&(s.c=s.msgresume,e("msgTemplate",s),s.msgresume=t.template),s.msgresume=Object(a["k"])(s.msgresume),t.allNotRead+=s.notreadcount}),t.chatList=i}})}},n={setChatOn(t,e){t.chatOn=e.chatOn,t.bizId=e.bizid,t.isGroup=e.isGroup},initChatRoom(t){t.imgList=[],t.MessageList=[]},setMessageList(t,e){t.MessageList=e},posMessage(t,{val:e,pos:s}){t.MessageList[s](e)},setChatSofftop(t,e){t.chatSofftop=e},setChatEditor(t,e){t.$chatEditor=e},setGroupMsgRead(t,e){if(e==t.bizId){for(var s=0;s<t.MessageList.length;s++)t.MessageList[s].groupreadflag=1;t.MessageList=t.MessageList}},setChatList(t,e){t.chatList=e},setAllNotRead(e,s){if(e.allNotRead=s,t(window.parent.document).find("#tioim-container-iframe")){let e=t(window.parent.document).find("#notread");e.html(s),e.show(),0==s&&e.hide()}},setAudioDom(t,e){t.personAudio=e.person,t.groupAudio=e.group},setIsConnect(t,e){t.isConnect=e},setChatOldMsg(t,e){t.chatOldMsg=e},setApplyThis(t,e){t.applyThis=e},setChatInfo(t,e){t.chatInfo=e},setChatInfoKey(t,{key:e,val:s}){t.chatInfo[e]=s},chatMessageCt(t,{bodyObj:e,fromuser:s,sendtype:i,unshift:r}){let o=t.MessageList.find(t=>t.mid==e.mid);if(log("hasMsg"),log(o),log("hasMsg"),o)return;let n,c=e.ct,l="";i=13==c?3:i;let d,u=e.c;switch(e.sysmsgkey&&1==e.sendbysys&&(this.commit("msgTemplate",e),u=t.template),c){case 1:l=u.replace(/\n/g,"<br>"),l=Object(a["k"])(l);let s=/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-|:)+)/g;l=l.replace(s,"<a href='$1$2' target='_blank' class='texthttp'>$1$2</a>");break;case 3:n=JSON.parse(u);Object(a["g"])(n.size);let o=Object(a["l"])(n.url);l=`<a href="${o}" target="_blank" \n                        download="${n.filename}" class="tm-download flexbox">\n                        <p class="tm-filename">${n.filename}</p>\n                    </a>`;break;case 4:n=JSON.parse(u),n.play=!1,n.seconds&&(n.width=5.8*n.seconds),l=`<audio src="${Object(a["l"])(n.url)}" class="audio" id="audio${n.id}" mid='${e.mid}'></audio>`,d={...n};break;case 5:n=JSON.parse(u);let c,h,p=n.coverwidth,g=n.coverheight,m=Object(a["l"])(n.coverurl),f=Object(a["l"])(n.url);c=p>=160?160:p,h=c*g/p,d={...n,sWidth:c+"px",sHeight:h+"px",vcoverurl:m,videourl:f};break;case 6:n=JSON.parse(u);let A,v,{coverwidth:C,coverheight:b}=n,w=Object(a["l"])(n.coverurl),y=Object(a["l"])(n.url);A=C>=160?160:C,v=A*b/C,d={...n,showWidth:A+"px",showHeight:v+"px",coverurl:w},r?t.imgList.unshift({imgsrc:y,mid:e.mid}):t.imgList.push({imgsrc:y,mid:e.mid});break;case 9:n=JSON.parse(u),n.bizavatar=Object(a["l"])(n.bizavatar),d={...n};break;case 10:case 11:n=JSON.parse(u),this.commit("hangUpReason",{type:n.hanguptype,call:n.calltype,sendtype:i,duration:n.duration}),d={...n,reason:t.template};break;case 15:console.log("bodyObj==",e),n=JSON.parse(u);let k=n.content;if(null!=k&&void 0!==k){l=k.replace(/\n/g,"<br>"),l=Object(a["k"])(l);let t=/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-|:)+)/g;l=l.replace(t,"<a href='$1$2' target='_blank' class='texthttp'>$1$2</a>")}console.log("mediacontent==",n),console.log("content==",k),d={...n};break}let h=this.state.User.currUid;if(1==e.whereflag){let t=e.whereuid.indexOf(","+h+",");e.delwhere=-1!=t}else e.delwhere=!1;let p=e.sigleflag;(1==p&&e.sigleuid==h||2==p||!p)&&(e.singleshow=!0);let g={...e,type:i,html:l,name:s.nick,avatar:Object(a["l"])(s.avatar),uid:e.uid?e.uid:e.f,bodyData:d};if(r)log("ws下的历史消息 ----------"),10==g.ct||11==g.ct?""!==g.bodyData.reason&&t.MessageList.unshift(g):t.MessageList.unshift(g);else{log("ws下的发送消息 ----------");let s=t.MessageList.length;if(s>=1){let i=0;for(let e=1;e<s;e++){let a=t.MessageList[s-e];if(!a.noIn){i=a.mid;break}}if(e.mid<=i)return void log("bodyObj.mid<=lastmid")}t.MessageList.push(g)}},changeChatList(e,s){let{chatlinkid:i,ct:r,sendbysys:o,at:n,sysmsgkey:c,actflag:l,actname:d,mid:u,uid:h,t:p,c:g,g:m,nick:f,linkflag:A,readflag:v,chatItems:C,grouprole:b}=s,w=e.chatList,y=this.state.User.currUid,k=w.findIndex(t=>t.id==i),x={},I=!1,O=y==(h||s.f),M=0;log("state.chatOn"),log(e.chatOn),log("state.chatOn"),log("chatlinkid"),log(i),log("chatlinkid"),e.chatOn==i&&(I=!0),c&&(this.commit("msgTemplate",s),s.c=e.template,g=s.c);let S=0;t.each(w,(function(t,e){1==e.topflag&&S++}));let j=e.focuskeys.find(t=>t==i);1==l&&-1==k?(x={avatar:Object(a["l"])(s.actavatar),notreadcount:I||O||1==o||j?0:1,name:d,id:i,chatmode:1,linkflag:A||1,c:g},m?(x.chatmode=2,x.bizid=m,x.bizrole=b):(x.chatmode=1,x.bizid=h),M=x.notreadcount):(x=w[k],I||(m||2!=v)&&!m||O||1==o||j||(x.notreadcount++,M=1),x.linkflag=A||x.linkflag),x.lastmsguid=h,x.ct=r,x.toreadflag=v,x.fromnick=f,x.sysflag=o,x.lastmsgid=u,this.commit("setAllNotRead",e.allNotRead+M),m&&!I&&n&&(-1!=n.indexOf(y)||-1!=n.indexOf("all"))&&(x.atreadflag=2);let L="";switch(r){case 1:L=g.replace(/\n/g,"<br>"),L=Object(a["k"])(g);break;case 3:L="分享一个文件";break;case 4:L="[语音消息]";break;case 5:L="分享一个视频";break;case 6:L="分享一个图片";break;case 9:L="分享一个名片";break;case 10:L="[视频通话]";break;case 11:L="[音频通话]";break;case 12:L=O?"发出红包，请在手机端查看":"收到红包，请在手机端查看";break;case 13:L="收到一条入群申请";break;case 15:L="收到一条多媒体消息";break;case 88:L="分享一个链接";break}if(x.sendtime=p,x.msgresume=L,C&&C.msgresume&&(x=Object.assign(x,C)),-1!=k&&1!=l&&0!=k){let t=w.splice(k,1),e=t[0];1==e.topflag?w.unshift(e):w.splice(S,0,x)}-1==k&&1==l&&w.splice(S,0,x)},msgTemplate(t,e){let s=this.state.User.currUser.nick,i=e.opernick,a=e.tonicks;i=i==s?"你":'"'+i+'"',a=a==s?"你":'"'+a+'"';let r=e.c;switch(e.sysmsgkey){case"create":r=i+"邀请"+a+"加入了群聊";break;case"join":r=i+"邀请"+a+"加入了群聊";break;case"ownerleave":r=i+"退出了群聊，"+a+"自动成为群主";break;case"leave":r=i+"退出了群聊";break;case"operkick":r=i+"将"+a+"移除了群聊";break;case"tokick":r=a+"被"+i+"移除了群聊";break;case"msgback":r=i+"撤回了一条消息";break;case"managermsgback":r=i+"撤回了一条成员消息";break;case"ownerchange":r=i+"将群主转让给了"+a;break;case"applyopen":r=i+"开启了群邀请开关：所有人都可以邀请人员进群";break;case"applyclose":r=i+"关闭了群邀请开关：只有群主或者群管理员才能邀请人员进群";break;case"reviewopen":r=i+"开启群审核开关：成员进群前,必须群主或者群管理员审核通过";break;case"reviewclose":r=i+"关闭了群审核开关：成员进群不需要审核";break;case"updatenotice":r=i+"修改了群公告:"+a;break;case"updatename":r=i+"修改了群名称:"+a;break;case"delgroup":r=i+"解散了群";break}t.template=r},hangUpReason(e,{type:s,call:i,sendtype:r,duration:o}){let n="",c=10==i?"视频":"语音";switch(s){case 1:n="通话时长"+Object(a["f"])(o);break;case 2:n=1==r?"对方已拒绝":"已拒绝";break;case 3:n=1==r?"对方忙线中":"";break;case 4:case 5:case 6:n="系统自动挂断";break;case 7:n="系统重启";break;case 8:n=1==r?"对方不在线":c+"通话未接听";break;case 9:n=1==r?"对方未接听":c+"通话未接听";break;case 10:n=1==r?c+"通话已取消":"对方已取消";break;case 99:n="还没挂断";break}e.template=n,t(".iconVideocall").removeClass("icon_select"),t(".iconvoicecall").removeClass("icon_select")},setIsLastMsg(t,e){t.islastmsg=e},setGroupMore(t,e){t.groupmore=e},currentPage(e){var s="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,i=s.replace(/hidden/i,"visibilitychange"),a=function(){if(document[s])e.iscurrentpage=!1;else{e.iscurrentpage=!0;let s=sessionStorage.getItem("tiocomconfig");s=JSON.parse(s),t("#tiotitle").html(s.tioim_title),t(window.parent.document).find("#tioim-container-iframe")&&t(window.parent.document).find("title").html(window.parent.document.tioim_title_back)}};document.addEventListener(i,a)},setPageTitle(){let e="您有新消息";t("#tiotitle").html(e),t(window.parent.document).find("#tioim-container-iframe")&&(window.parent.document.tioim_title_back||(window.parent.document.tioim_title_back=t(window.parent.document).find("title").html()),t(window.parent.document).find("title").html(e))},setChannelContextid(t,e){t.channelContextid=e},setFocusKeys(t,e){t.focuskeys=e},setNoReadApply(t,e){t.noReadApply=e}};e["a"]={state:r,actions:o,mutations:n}}).call(this,s("1157"))},5163:function(t,e,s){},"536e":function(t,e,s){"use strict";s("afa8")},5550:function(t,e,s){t.exports=s.p+"static/media/person.9921a14e.mp3"},"55cd":function(t,e,s){var i={"./swiper1.png":"dc96","./swiper2.png":"3967","./swiper3.png":"8882","./swiper4.png":"251a","./swiper5.png":"2064"};function a(t){var e=r(t);return s(e)}function r(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=r,t.exports=a,a.id="55cd"},5659:function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("1b3f"),r=s("dce1"),o=s("2957"),n=s("ec36"),c=s("c82c"),l=s.n(c),d=(s("2638"),s("4e08")),u=s("3a23"),h=s("a7fe"),p=s("eed2"),g=s("093b"),m=s("c126"),f=s("fb19"),A=s("c50e"),v=s("1eb7");e["a"]={data(){return{noticeShow:!1,clickNotice:null,isAdministrator:!0,msgcontainers:"msgcontainer msgcontainer1",chatLength:0,nextPage:!0,$msgcontainer:null,$chatEditor:null,video:{url:"",show:!1,title:""},emojiList:p["a"].emojiList,staticUrl:"",showEmoji:!1,contextmenushow:!1,contextmenu:{top:0,left:0,data:{}},cmenutype:"msg",groupmore:!1,reportShow:!1,reportmsg:"",groupInfo:{},groupApplyInfo:{},reportInput:"",atAll:{nick:"所有人",uid:"all"},picItem:{url:""},referenceMessageModel:null,isonline:"",allconfig:null}},computed:{...Object(i["d"])({curruid:t=>t.User.currUid,chatinfo:t=>t.Ws.chatInfo,chatOn:t=>t.Ws.chatOn,bizId:t=>t.Ws.bizId,MessageList:t=>t.Ws.MessageList,imgList:t=>t.Ws.imgList,isGroup:t=>t.Ws.isGroup,applyThis:t=>t.Ws.applyThis,commGroupInfo:t=>t.CommonInfo.groupUserInfo,isonlineuid:t=>t.User.isonlineuid})},components:{ShareCard:a["a"],ContextMenu:r["a"],UserCard:o["a"],GroupMore:n["a"],GroupModel:f["a"],MediaForm:v["a"]},watch:{MessageList:{handler(t,e){console.log("数据发生了变化"),this.scrollBotm()},deep:!0},showEmoji(e){e||t(".iconIMweb_expression").removeClass("icon_select")},remindshow(e){e||t(".iconIMweb_").removeClass("icon_select")},isonlineuid:{handler(t,e){var s=t,i=s.split("-")[0],a=s.split("-")[1];i==this.bizId&&(this.isonline=a)},deep:!0}},mounted(){this.staticUrl="/",this.$nextTick(()=>{this.$msgcontainer=t("#msgcontainer"),this.$chatEditor=t("#chat-editor"),this.setChatEditor(this.$chatEditor),this.setChatSofftop(t("#chat-bottom").offset().top-88)}),this.$bus.$on("referenceMsgClose",t=>{console.log(t),this.referenceMsgClose()}),this.$bus.$on("userisonlinestatuschange",t=>{this.getuserInfo()}),this.getuserInfo()},created(){this.allconfig=JSON.parse(sessionStorage.getItem("allconfig"))},mixins:[g["a"],m["a"]],methods:{...Object(i["b"])(["getChatGroupInfo"]),...Object(i["c"])(["setChatOldMsg","setChatSofftop","setGroupMore","setCallType","setChatEditor"]),getuserInfo(){this.isGroup||A["l"].getUserInfo({uid:this.bizId}).then(t=>{t.ok&&(this.isonline=t.data.isonline)})},openNotice(t){this.noticeShow=!0,this.clickNotice=t},noticeDialogClose(){this.noticeShow=!1},initAppConfig(){},getResUrl(t){let e=Object(h["l"])(t);return e},getMsgList(t,e){this.getuserInfo(),"100003"==this.bizId?(this.isAdministrator=!1,this.msgcontainers="msgcontainer msgcontainer2"):(this.isAdministrator=!0,this.msgcontainers="msgcontainer msgcontainer1"),this.chatOn&&(t||(this.nextPage=!0),this.setChatOldMsg({startmid:t,unshift:e,chattype:this.isGroup,chatlinkid:this.chatOn}),this.isGroup?this.groupChatList(t,e):this.privaList(t,e))},groupChatList(t,e){this.referenceMessageModel=null;let s={chatlinkid:this.chatOn,startmid:t||""};Object(d["a"])(u["c"].WxGroupMsgReq,s)},privaList(t,e){this.referenceMessageModel=null;let s={chatlinkid:this.chatOn,startmid:t||""};Object(d["a"])(u["c"].WxFriendMsgReq,s)},initScrollBotm(){let t=0,e=this;if("100003"==this.bizId?this.isAdministrator=!1:this.isAdministrator=!0,this.$msgcontainer.find(".msg-col").length>0){let e=this.$msgcontainer.find(".msg-col:first").offset().top,s=this.$msgcontainer.find(".msg-col:last").offset().top;t=s-e}Object(h["d"])(this.$msgcontainer,t+"px",{whileScrolling:function(){this.mcs.draggerTop<=10&&e.nextPage&&(e.nextPage=!1,e.getMsgList(e.$msgcontainer.find("li:first").attr("mid"),"unshift"))}},{mouseWheel:{scrollAmount:200,preventDefault:!0}})},scrollBotm(){this.$nextTick(()=>{this.$msgcontainer.mCustomScrollbar("scrollTo","bottom",{scrollInertia:1})})},privorgroup(e){let s=this;e?setTimeout((function(){let e=t("#msgcontainer li:first").offset().top,i=t("#msgcontainer li").eq(s.chatLength).offset().top,a=i-e;t("#msgcontainer").mCustomScrollbar("scrollTo",a+"px",{scrollInertia:1}),s.nextPage=!0}),150):s.$nextTick(()=>{s.initScrollBotm(),setTimeout((function(){s.scrollBotm()}),300)})},imgClicks(t){console.log("picitems==",t),this.picItem.url=t.url;var e=new l.a(document.getElementById("view-containers"),{hidden:function(){e.destroy()},button:!0,loop:!1,title:!1,navbar:!1});e.view(this.picItem),e.show()},imgClick(t){let e=this.imgList.findIndex(e=>e.mid==t);var s=new l.a(document.getElementById("view-container"),{hidden:function(){s.destroy()},button:!0,toolbar:{zoomIn:4,zoomOut:4,prev:function(){s.prev(!1)},next:function(){s.next(!1)},loop:!1},loop:!1,title:!1,navbar:!1});s.view(e),s.show()},videoClick(e){let s=e.title;null==e.videourl?this.video.url=this.getResUrl(e.url):this.video.url=e.videourl,this.video.title=s;let i=t("#tm-video"),a=e.width,r=e.height,o=t(window).width(),n=t(window).height();a/r>o/n?(i.css({width:.8*o+"px",height:.8*o*r/a+"px"}),t("#videoname").css({width:.8*o-100+"px"})):(i.css({width:.8*n*a/r+"px",height:.8*n+"px"}),t("#videoname").css({width:.8*n*a/r-100+"px"})),this.video.show=!0},videoClicks(e){let s=e.title;this.video.url=e.url,this.video.title=s;let i=t("#tm-video"),a=e.width,r=e.height,o=t(window).width(),n=t(window).height();a/r>o/n?(i.css({width:.8*o+"px",height:.8*o*r/a+"px"}),t("#videoname").css({width:.8*o-100+"px"})):(i.css({width:.8*n*a/r+"px",height:.8*n+"px"}),t("#videoname").css({width:.8*n*a/r-100+"px"})),this.video.show=!0},playAudio(e){let s=this,i=document.getElementById("audio"+e.bodyData.id);i.currentTime=0;let a=document.getElementsByClassName("audio");t.each(a,(t,e)=>{if(i!=e){let t=e.getAttribute("mid");s.MessageList.map(e=>{e.mid==t&&4==e.ct&&(e.bodyData.play=!1)}),e.pause()}}),i.paused?(e.bodyData.play=!0,i.play(),t("#audio"+e.bodyData.id).unbind("ended"),t("#audio"+e.bodyData.id).on("ended",(function(){e.bodyData.play=!1,i.pause()}))):(e.bodyData.play=!1,i.pause())},closeVideo(){this.video.show=!1,this.video.url=""},getShowTime(t){return Object(h["i"])(t)},chatGroupSet(){this.setGroupMore(!0)},userApply(t){this.userCard.data.id=t,this.$refs.usercard.applyFriend()},referenceMessage(t){this.referenceMessageModel=t,this.$chatEditor.referenceMessageModel=t},referenceMsgClose(){this.referenceMessageModel=null,this.$chatEditor.referenceMessageModel=null},formatFileSize(t){if(t<1024)return t+"B";if(t<1048576){var e=t/1024;return e=e.toFixed(2),e+"KB"}if(t<1073741824){e=t/1048576;return e=e.toFixed(2),e+"MB"}e=t/1073741824;return e=e.toFixed(2),e+"GB"},IconColor(e){t("."+e).addClass("icon_select")},openNews(t){window.open(t,"_blank")},goExamine(t){let e=t.apply.id;this.groupInfo=t,A["g"].groupApplyInfo({aid:e}).then(e=>{e.ok&&(e.data.apply.groupavator=Object(h["l"])(e.data.apply.groupavator),this.groupApplyInfo=e.data,this.groupApplyInfo.groupApply=t,e.data.items.map(t=>{this.$refs.groupmodel.auditProcessing=!0,t.avatar=Object(h["l"])(t.avatar)}))})},async showCard(t,e,s){if(this.isGroup){let s=await A["e"].isMyFriend(e);if(2==s){this.getChatGroupInfo(this.bizId);let s=this.commGroupInfo;1!=s.group.friendflag&&(2!=s.group.friendflag||1!=s.groupuser.grouprole&&3!=s.groupuser.grouprole)||this.showUserCard(t,e)}else this.showUserCard(t,e)}else this.showUserCard(t,e)},strRep(t){var e=/<[^<>]+>/g,s=t.replace(e,""),i=s.replace(/\s+/g,""),a=i.length,r=i.substring(0,6);return a>13?r+"..."+i.substring(a-8):i},sureSysReport(){if(""==this.reportInput)return void Object(A["j"])("请填写举报投诉原因");let t={reason:this.reportInput};this.isGroup?t.groupid=this.bizId:t.touid=this.bizId,A["b"].sysReport(t).then(t=>{t.ok?(this.reportShow=!1,this.reportInput="",Object(A["j"])("举报成功")):Object(A["j"])(t.data)})}}}}).call(this,s("1157"))},"56d7":function(t,e,s){"use strict";s.r(e),function(t){s("ad9d");var e=s("a026"),i=s("3dfd"),a=s("a18c"),r=s("4360"),o=s("5c96"),n=s.n(o),c=(s("26384"),s("7371"),s("be35"),s("6ef4"),s("0fae"),s("6f5f")),l=s("4509"),d=s("c50e"),u=s("a7fe"),h=s("3f7a");e["default"].config.productionTip=!1,e["default"].component("Dialog",h["a"]),r["a"].commit("currentPage"),e["default"].prototype.$bus=new e["default"];var p="";let g=!0,m=!0;a["a"].beforeEach(async(e,s,i)=>{let a=e.path,o=r["a"].state;if("/"==a&&i({path:"/home"}),m){let e=sessionStorage.getItem("allconfig");if(e);else{var n=await d["a"].getAllConfigs();if(n.ok){for(var h=n.data,f={},A=0;A<h.length;A++){var v=h[A].name,C=v.replaceAll(".","_"),b=h[A].value;f[C]=b}sessionStorage.setItem("allconfig",JSON.stringify(f))}}let s=sessionStorage.getItem("tiocomconfig");s=s?JSON.parse(s):await r["a"].dispatch("getComView"),t("#tiotitle").html(s.tioim_title),t("#tiodescription").html(s.tioim_description),t("#tiokeywords").html(s.tioim_keywords);var w=s.session_cookie_name,y=Object(u["h"])("bs_tio_session");y&&(console.log("sessionName1:",w+o.User.currUid),l["a"].set(w,y,{expires:15}),p=y,Object(u["a"])([["bs_tio_session",""]]))}if(await r["a"].dispatch("getCurrUser"),l["a"].init(),r["a"].state.User.isLogined){if(log("已登录"),p)return void await d["l"].ndapiAutologin({sessionid:p}).then(t=>{t.ok&&location.reload()});"/login"==a&&i({path:"/home"}),g&&(log("只创建一次连接"),Object(c["a"])(),g=!1,"/home"!=a&&r["a"].dispatch("getChatRecent"),r["a"].dispatch("getApplyData")),i()}else if("/login"!=a){if(log("未登录"),g=!0,p)return void d["l"].ndapiAutologin({sessionid:p}).then(t=>{t.ok?i({path:"/home"}):i({path:"/login"})});i({path:"/login"})}else i()}),a["a"].afterEach((t,e)=>{if(m){let t=document.getElementById("nofity_audio"),e=document.getElementById("group_audio");r["a"].commit("setAudioDom",{person:t,group:e}),m=!1}}),e["default"].use(n.a),new e["default"]({router:a["a"],store:r["a"],render:t=>t(i["a"])}).$mount("#app")}.call(this,s("1157"))},"5b08":function(t,e,s){"use strict";s("81ff")},6:function(t,e){},6098:function(t,e,s){},"60eb":function(t,e,s){"use strict";s("dce8")},"60f4":function(t,e,s){"use strict";(function(t){var i=s("4360"),a=s("a7fe"),r=s("a18c"),o=async function(e,s,o,n,c){log("收到服务器消息",o,c);let l=i["a"].state.Ws,{chatOn:d,allNotRead:u,chatSofftop:h,personAudio:p,iscurrentpage:g,focuskeys:m}=l,f=i["a"].state.User.currUid,A=r["a"].history.current.path,v=(c.touid,c.uid);var C=v==f,b={avatar:c.avatar,nick:c.nick};c.t=Object(a["e"])(c.t,"yyyy-MM-dd HH:mm:ss");let w=c.sendbysys,y=m.find(t=>t==c.chatlinkid);if(log("朋友聊天通知"),log("chatOn"),log(d),log("bodyObj.chatlinkid"),log(c.chatlinkid),""!=d&&d==c.chatlinkid){var k=2;if(C&&(k=1),1==w&&(k=3),i["a"].commit("chatMessageCt",{bodyObj:c,fromuser:b,sendtype:k}),t("#msgcontainer li:last").length>0){let e=t("#msgcontainer li:last").offset().top;(h>e-100||C)&&l.applyThis.$refs.msglist.scrollBotm()}log("朋友聊天通知:chatOn!=''&&chatOn==bodyObj.chatlinkid"),i["a"].commit("changeChatList",c)}else"/home"==A?(log("朋友聊天通知:currpath=='/home'"),i["a"].commit("changeChatList",c),C||1==w||y||(p.play(),g||i["a"].commit("setPageTitle"))):(log("朋友聊天通知:总未读条数"),C||1==w||y||(i["a"].commit("setAllNotRead",++u),p.play(),g||i["a"].commit("setPageTitle")))};e["a"]=o}).call(this,s("1157"))},"669e":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.transShow,expression:"transShow"}]},[i("div",{staticClass:"modelbody transcontainer"},[i("p",{staticClass:"title"},[i("label",{staticClass:"trans-title"},[t._v(t._s(1==t.transType?"消息转发":2==t.transType?"发送名片":"分享群聊"))]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel",on:{click:t.hideTrans}})]),i("div",{staticClass:"trans-body"},[i("div",{staticClass:"trans-left"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.searchShow,expression:"!searchShow"}],staticClass:"fillheight"},[i("div",{staticClass:"search-content"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{staticClass:"search-input",attrs:{type:"text",readonly:"",placeholder:"搜索"},on:{click:t.showTransSearchList}})]),i("div",{staticClass:"trans_btns"},[i("div",{staticClass:"trans_btns_left"},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.showAllChat}},[t._v("全部")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.showFirendChat}},[t._v("单聊")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.showGroupChat}},[t._v("群聊")])],1),i("div",{staticClass:"trans_btns_right"},[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.checkAll}},[t._v("全选")])],1)]),i("div",{staticClass:"trans-list",attrs:{id:t.setid?t.setid+"trans-message-list":"trans-message-list"}},[i("div",[t.showAll?i("ul",t._l(t.chatList,(function(e){return i("li",{key:e.id,staticClass:"trans-row",on:{click:function(s){return t.transChatList(e.bizid)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"row-name",domProps:{innerHTML:t._s(e.name)}}),i("span",{staticClass:"tm-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.transArr,expression:"transArr"}],attrs:{type:"checkbox"},domProps:{value:e.bizid,checked:Array.isArray(t.transArr)?t._i(t.transArr,e.bizid)>-1:t.transArr},on:{change:[function(s){var i=t.transArr,a=s.target,r=!!a.checked;if(Array.isArray(i)){var o=e.bizid,n=t._i(i,o);a.checked?n<0&&(t.transArr=i.concat([o])):n>-1&&(t.transArr=i.slice(0,n).concat(i.slice(n+1)))}else t.transArr=r},function(s){return t.changeCheck(s,e.bizid,"bizid","chatList")}],click:function(e){return e.stopPropagation(),t.stopProp(e)}}})])],1)})),0):t._e(),t.showFriend?i("ul",t._l(t.friendChatList,(function(e){return i("li",{key:e.id,staticClass:"trans-row",on:{click:function(s){return t.transChatList(e.bizid)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"row-name",domProps:{innerHTML:t._s(e.name)}}),i("span",{staticClass:"tm-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.transArr,expression:"transArr"}],attrs:{type:"checkbox"},domProps:{value:e.bizid,checked:Array.isArray(t.transArr)?t._i(t.transArr,e.bizid)>-1:t.transArr},on:{change:[function(s){var i=t.transArr,a=s.target,r=!!a.checked;if(Array.isArray(i)){var o=e.bizid,n=t._i(i,o);a.checked?n<0&&(t.transArr=i.concat([o])):n>-1&&(t.transArr=i.slice(0,n).concat(i.slice(n+1)))}else t.transArr=r},function(s){return t.changeCheck(s,e.bizid,"bizid","chatList")}],click:function(e){return e.stopPropagation(),t.stopProp(e)}}})])],1)})),0):t._e(),t.showGroup?i("ul",t._l(t.groupChatList,(function(e){return i("li",{key:e.id,staticClass:"trans-row",on:{click:function(s){return t.transChatList(e.bizid)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"row-name",domProps:{innerHTML:t._s(e.name)}}),i("span",{staticClass:"tm-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.transArr,expression:"transArr"}],attrs:{type:"checkbox"},domProps:{value:e.bizid,checked:Array.isArray(t.transArr)?t._i(t.transArr,e.bizid)>-1:t.transArr},on:{change:[function(s){var i=t.transArr,a=s.target,r=!!a.checked;if(Array.isArray(i)){var o=e.bizid,n=t._i(i,o);a.checked?n<0&&(t.transArr=i.concat([o])):n>-1&&(t.transArr=i.slice(0,n).concat(i.slice(n+1)))}else t.transArr=r},function(s){return t.changeCheck(s,e.bizid,"bizid","chatList")}],click:function(e){return e.stopPropagation(),t.stopProp(e)}}})])],1)})),0):t._e()])])]),t.searchShow?i("div",{staticClass:"fillheight"},[i("div",{staticClass:"search-content"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],staticClass:"search-input",attrs:{type:"text",autocomplete:"off",placeholder:"搜索",id:t.setid?t.setid+"trans-message-search":"trans-message-search"},domProps:{value:t.searchVal},on:{input:[function(e){e.target.composing||(t.searchVal=e.target.value)},t.searchFriends]}}),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel hide-search-icon",on:{click:t.hideSearchContent}})]),i("div",{staticClass:"trans-list",attrs:{id:t.setid?t.setid+"trans-mail-list":"trans-mail-list"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.fList.length>0,expression:"fList.length>0"}]},[i("div",{staticClass:"search-title"},[i("span",[t._v("好友")]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.friendList.length>5&&t.fList.length<=5,expression:"friendList.length>5&&fList.length<=5"}],staticClass:"trans-updown",on:{click:t.seeAllFriend}},[t._v(" 查看全部("+t._s(t.friendList.length)+") "),i("i",{staticClass:"iconfont iconttubiao_xiala"})]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.fList.length>5,expression:"fList.length>5"}],staticClass:"trans-updown",on:{click:t.upSearchFriend}},[t._v("收起"),i("i",{staticClass:"iconfont iconttubiao_shangla"})])]),i("ul",t._l(t.fList,(function(e){return i("li",{key:e.uid,staticClass:"trans-row",on:{click:function(s){return t.transfriendList(e.uid)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"row-name",domProps:{innerHTML:t._s(t.brightenKeyword(e.remarkname||e.nick,t.searchVal))}}),i("span",{staticClass:"tm-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.transArr,expression:"transArr"}],attrs:{type:"checkbox"},domProps:{value:e.uid,checked:Array.isArray(t.transArr)?t._i(t.transArr,e.uid)>-1:t.transArr},on:{change:[function(s){var i=t.transArr,a=s.target,r=!!a.checked;if(Array.isArray(i)){var o=e.uid,n=t._i(i,o);a.checked?n<0&&(t.transArr=i.concat([o])):n>-1&&(t.transArr=i.slice(0,n).concat(i.slice(n+1)))}else t.transArr=r},function(s){return t.changeCheck(s,e.uid,"uid","fList")}],click:function(e){return e.stopPropagation(),t.stopProp(e)}}})])],1)})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.gList.length>0,expression:"gList.length>0"}]},[i("div",{staticClass:"search-title"},[i("span",[t._v("群聊")]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.groupList.length>5&&t.gList.length<=5,expression:"groupList.length>5&&gList.length<=5"}],staticClass:"trans-updown",on:{click:t.seeAllGroup}},[t._v(" 查看全部("+t._s(t.groupList.length)+") "),i("i",{staticClass:"iconfont iconttubiao_xiala"})]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.gList.length>5,expression:"gList.length>5"}],staticClass:"trans-updown",on:{click:t.upSearchGroup}},[t._v(" 收起 "),i("i",{staticClass:"iconfont iconttubiao_shangla"})])]),i("ul",t._l(t.gList,(function(e){return i("li",{key:e.groupid,staticClass:"trans-row",on:{click:function(s){return t.transGroupList(e.groupid)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"row-name",domProps:{innerHTML:t._s(t.brightenKeyword(e.name,t.searchVal))}}),i("span",{staticClass:"tm-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.transArr,expression:"transArr"}],attrs:{type:"checkbox"},domProps:{value:e.groupid,checked:Array.isArray(t.transArr)?t._i(t.transArr,e.groupid)>-1:t.transArr},on:{change:[function(s){var i=t.transArr,a=s.target,r=!!a.checked;if(Array.isArray(i)){var o=e.groupid,n=t._i(i,o);a.checked?n<0&&(t.transArr=i.concat([o])):n>-1&&(t.transArr=i.slice(0,n).concat(i.slice(n+1)))}else t.transArr=r},function(s){return t.changeCheck(s,e.groupid,"groupid","gList")}],click:function(e){return e.stopPropagation(),t.stopProp(e)}}})])],1)})),0)])])]):t._e()]),i("div",{staticClass:"trans-right-list"},[2==t.transType?i("div",{staticClass:"share-info"},[i("p",{staticClass:"share-name"},[t._v("分享该好友")]),i("div",{staticClass:"share-detail"},[i("el-image",{staticClass:"share-avatar",attrs:{src:t.transData.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("div",{staticClass:"detail-right"},[t._v(" "+t._s(t.transData.nick)+" ")])],1)]):t._e(),3==t.transType?i("div",{staticClass:"share-info"},[i("p",{staticClass:"share-name"},[t._v("分享该群聊")]),i("div",{staticClass:"share-detail"},[i("el-image",{staticClass:"share-avatar",attrs:{src:t.transData.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("div",{staticClass:"detail-right"},[t._v(" "+t._s(t.transData.name)+" ")])],1)]):t._e(),i("p",{staticClass:"choose-title clearfloat"},[t._v("分别发送给已选聊天"+t._s(t.transArr.length>0?"("+t.transArr.length+")":"")+" ")]),i("div",{class:["trans-choosed-list",1!=t.transType?"small-choosed-list":""],attrs:{id:t.setid?t.setid+"trans-choosed-list":"trans-choosed-list"}},[i("ul",t._l(t.transChoosedList,(function(e,a){return i("li",{key:a,staticClass:"trans-row",on:{click:function(s){return t.transDelCoosed(e.bizid||e.groupid||e.uid)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"row-name"},[t._v(t._s(e.name||e.remarkname||e.nick))]),i("i",{staticClass:"iconfont iconttubiao_cha"})],1)})),0)]),i("div",{staticClass:"trans-bot"},[i("button",{staticClass:"primarybtn",attrs:{disabled:!(t.transArr.length>0)},on:{click:t.sureTransMessage}},[t._v("转发")])])])])])])],1)},a=[],r=s("2778"),o=r["a"],n=(s("7cd3"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,"0fd246d9",null);e["a"]=c.exports},6877:function(t,e){t.exports="data:image/png;base64,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"},"68e0":function(t,e,s){"use strict";s("a9f5")},6914:function(t,e,s){},"6e8d":function(t,e,s){"use strict";s("0626")},"6ef4":function(t,e,s){"use strict";var i=s("a026");i["default"].prototype.$setAddEventListener=function(t){let e=this;document.addEventListener("click",(function(s){e.$unbindListen(s,t)}),!1)},i["default"].prototype.$unbindListen=function(t,e){this[e]=!1,document.removeEventListener("click",this.$unbindListen,!1)}},"6f5f":function(t,e,s){"use strict";s.d(e,"a",(function(){return mt})),s.d(e,"b",(function(){return ct}));var i={};s.r(i),s.d(i,"MsgTip",(function(){return p})),s.d(i,"WxFriendChatNtf",(function(){return g["a"]})),s.d(i,"WxGroupChatNtf",(function(){return m["a"]})),s.d(i,"WxHandshakeResp",(function(){return C})),s.d(i,"WxLeaveGroupNtf",(function(){return w})),s.d(i,"WxNotFriendNtf",(function(){return k})),s.d(i,"WxUserOperNtf",(function(){return x["a"]})),s.d(i,"WxFriendErrorNtf",(function(){return M})),s.d(i,"WxGroupOperNtf",(function(){return S["a"]})),s.d(i,"WxUserSysNtf",(function(){return L})),s.d(i,"WxFriendMsgResp",(function(){return B["a"]})),s.d(i,"WxGroupMsgResp",(function(){return E["a"]})),s.d(i,"WxChatItemInfoResp",(function(){return R})),s.d(i,"WxFocusNtf",(function(){return _})),s.d(i,"WxCall00Start",(function(){return D["a"]})),s.d(i,"WxCall02Ntf",(function(){return Q})),s.d(i,"WxCall02_2CancelNtf",(function(){return T["a"]})),s.d(i,"WxCall04ReplyNtf",(function(){return W})),s.d(i,"WxCall06OfferSdpNtf",(function(){return V})),s.d(i,"WxCall08AnswerSdpNtf",(function(){return K})),s.d(i,"WxCall10OfferIceNtf",(function(){return H})),s.d(i,"WxCall12AnswerIceNtf",(function(){return X})),s.d(i,"WxCall14EndNtf",(function(){return $})),s.d(i,"WxCallRespNtf",(function(){return et}));var a=s("4509");let r;"undefined"==typeof a["a"]&&(tio={}),a["a"].ws=function(t,e,s,i,a,o){this.binaryType=o||"arraybuffer",this.urlcreator=t,this.param=e,this.handler=s,this.heartbeatTimeout=i,this.reconnInterval=a,this.stopped=!1,this.lastInteractionTime=function(){return 1==arguments.length&&(this.lastInteractionTimeValue=arguments[0]),this.lastInteractionTimeValue},this.heartbeatSendInterval=i/2;var n=this;this.connect=async function(t){var e,s=this;try{var i=await s.urlcreator.call(s.urlcreator,t);i.url?(e=i.url,i.timeout&&(n.heartbeatTimeout=i.timeout,n.heartbeatSendInterval=n.heartbeatTimeout/2)):e=i}catch(o){error(o)}if(e){var a=new WebSocket(e);return this.ws=a,a.binaryType=this.binaryType,a.onopen=function(t){s.handler.onopen.call(s.handler,t,a),s.lastInteractionTime((new Date).getTime()),s.pingIntervalId=setInterval((function(){s.ping(s)}),s.heartbeatSendInterval),r=s.pingIntervalId},a.onmessage=function(t){s.handler.onmessage.call(s.handler,t,a),s.lastInteractionTime((new Date).getTime())},a.onclose=function(t){log("websocket----onclose"),clearInterval(s.pingIntervalId);try{s.handler.onclose.call(s.handler,t,a)}catch(error){}s.reconn(t)},a.onerror=function(t){log("websocket----onerror"),s.handler.onerror.call(s.handler,t,a)},a}s=this;setTimeout((async function(){var t=await s.connect(!1);s.ws=t}),s.reconnInterval)},this.reconn=function(t){var e=this;e.stopped||setTimeout((async function(){if(!e.stopped){var t=await e.connect(!0);e.ws=t}}),e.reconnInterval)},this.ping=function(){if(!this.stopped){var t=(new Date).getTime()-this.lastInteractionTime();this.heartbeatSendInterval+t>=this.heartbeatTimeout&&this.handler.ping(this.ws)}},this.send=function(t){this.ws.send(t)},this.stop=function(){this.stopped=!0,this.ws.close()}};var o={tioWs:a["a"].ws},n=s("3a23"),c=(s("3c5d"),s("d7ac")),l=s.n(c),d=s("a18c"),u=s("c50e"),h=function(t,e,s,i,a){log("收到服务器消息",s,a);let r=a.code;switch(r){case 1:d["a"].push("/login");break;case 2:case 99:Object(u["j"])(a.msg);break}},p=h,g=s("60f4"),m=s("d335"),f=s("4360"),A=s("4e08"),v=function(t,e,s,i,a){log("收到服务器消息",s,a);let r=f["a"].state.Ws;if(f["a"].commit("setChannelContextid",a.cid),r.isConnect){if(r.chatOn&&"/home"==d["a"].history.current.path){let t=r.chatOn;Object(A["a"])(n["c"].WxSessionOperReq,{chatlinkid:t,oper:1}),Object(A["a"])(n["c"].WxChatItemInfoReq,{chatlinkid:t});let e={chatlinkid:t,startmid:""};r.isGroup?Object(A["a"])(n["c"].WxGroupMsgReq,e):Object(A["a"])(n["c"].WxFriendMsgReq,e)}}else f["a"].commit("setIsConnect",!0)},C=v,b=function(t,e,s,i,a){log("收到服务器消息",s,a)},w=b,y=function(t,e,s,i,a){log("收到服务器消息",s,a)},k=y,x=s("1c0e"),I=s("a7fe");const O=function(t,e,s,i,a){log("收到服务器消息",s,a);let r=d["a"].history.current.path,o=a.code,n=f["a"].state.User,c=f["a"].state.Ws,l=f["a"].state.Call,{chatOn:u,allNotRead:h,$chatEditor:p,applyThis:g,personAudio:m,iscurrentpage:A}=c,{curruid:v,appcode:C,friendErrorCode:b,GroupErrorCode:w}=n;a.uid;switch(l.callShow&&f["a"].commit("setCallShow",!1),a.t=Object(I["e"])(a.t,"yyyy-MM-dd HH:mm:ss"),o){case C.NOTLOGIN:case C.TIMEOUT:case C.KICKTED_PC:ct.stop(),location.reload();break;case b.SYS_ERROR_CODE:var y=a.msg,k=JSON.parse(y).code;if(101==k){var x=JSON.parse(y).groupid;f["a"].commit("setGroupMsgRead",x)}else if(100==k){var O=JSON.parse(y).isonline,M=JSON.parse(y).uid;f["a"].commit("setIsonlineuid",M+"-"+O)}break;case b.SYS_ERROR:case b.BLACK:case b.Invalid_USER:case w.SYS_ERROR:case w.NO_LINK:if("/home"==r){let t=a.sigleflag;(1==t&&a.sigleuid==v||2==t||!t)&&(a.singleshow=!0),f["a"].commit("posMessage",{val:{...a,type:3,html:a.msg,noIn:!0},pos:"push"}),v==a.uid&&p.html(""),g.$refs.msglist.scrollBotm()}else f["a"].commit("setAllNotRead",++h),m.play(),A||f["a"].commit("setPageTitle");break;case b.NO_LINK:if("/home"==r&&u==a.chatlinkid){let t=a.sigleflag;(1==t&&a.sigleuid==v||2==t||!t)&&(a.singleshow=!0),f["a"].commit("posMessage",{val:{...a,type:4,html:"你还不是他(她)好友",noIn:!0},pos:"push"}),v==a.uid&&p.html(""),g.$refs.msglist.scrollBotm()}else"/home"==r?f["a"].commit("changeChatList",a):(f["a"].commit("setAllNotRead",++h),m.play(),A||f["a"].commit("setPageTitle"));break}};var M=O,S=s("df0c"),j=function(t,e,s,i,a){log("收到服务器消息",s,a);let r=a.code,o=d["a"].history.current.path,n=f["a"].state.Ws,{personAudio:c,applyThis:l,chatList:u,chatOn:h}=n,p=a.chatItems;if("/home"==o&&p){let t=p.id,e=u.find(e=>e.id==t);e&&(p.avatar&&(p.avatar=Object(I["l"])(p.avatar)),Object.assign(e,p),h==t&&f["a"].commit("setChatInfo",p))}switch(r){case 30:if(f["a"].dispatch("getApplyData"),"/friend"!=o)c.play();else{let t=l.type;1==t?f["a"].dispatch("getApplyList"):c.play()}break;case 31:f["a"].dispatch("getApplyData"),"/friend"!=o?c.play():(1==l.type&&f["a"].dispatch("getApplyList"),l.$refs.friendlist.getFriendsList());break;case 32:"/friend"==o&&(l.$refs.friendinfo.$refs.usercard.afterListDelFriend(JSON.parse(a.bizdata).frienduid),f["a"].dispatch("getApplyList")),"/home"==o&&l.$refs.msglist.$refs.usercard.afterHomeDelFriend();break;case 33:let t=JSON.parse(a.bizdata);if("/friend"==o){let e=l.$refs.friendlist.orgFriendList.find(e=>e.uid==t.frienduid);e&&(t.uid=t.frienduid,e=Object.assign(e,t))}break}},L=j,B=s("bb02"),E=s("c45d");const N=function(t,e,s,i,a){log("收到服务器消息",s,a);let r=f["a"].state.Ws,{chatOn:o,chatList:n,islastmsg:c}=r,l=a.chatlinkid;if(a.data.avatar=Object(I["l"])(a.data.avatar),c){f["a"].commit("setIsLastMsg",!1);let t=n.find(t=>t.id==l);if(t){let e=a.data;Object.assign(t,{msgresume:e.msgresume,toreadflag:e.toreadflag,lastmsgid:e.lastmsgid})}}l==o&&f["a"].commit("setChatInfo",a.data)};var R=N,U=function(t,e,s,i,a){log("收到服务器消息",s,a);let r=a.focusMap,o=Object.keys(r);f["a"].commit("setFocusKeys",o);let n=f["a"].state.Ws,{chatList:c,allNotRead:l,chatOn:d}=n;o.map(t=>{if(1==r[t]&&d!=t){let e=c.find(e=>e.id==t);e&&(2==e.atreadflag&&(e.atreadflag=1),f["a"].commit("setAllNotRead",l-e.notreadcount),e.notreadcount=0)}})},_=U,D=s("3707"),G=s("453a"),F=async function(t,e,s,i,a){log("收到服务器消息",s,a);var r={};Object(G["a"])(r,a);let o=!0;if(1==a.type){let t=await Object(G["c"])();t||(o=!1)}if(2==a.type){let t=await Object(G["d"])();t||(o=!1)}if(!o)return r.result=3,void Object(A["a"])(n["c"].WxCall03ReplyReq,r);f["a"].commit("setCallType",a.type);let c=await f["a"].dispatch("getUserInfo",a.fromuid);f["a"].commit("setRemoteReq",r),c.avatar=Object(I["l"])(c.avatar),f["a"].commit("setCallInfo",c),f["a"].commit("setCallShow",!0),f["a"].commit("setCallRole",2),wxCallLocalAudio.muted=!0},Q=F,T=s("bd30"),P=async function(t,e,s,i,a){log("收到服务器消息",s,a);f["a"].state.Call;clearInterval(G["h"]);var r={};1==a.result?(Object(G["a"])(r,a),Object(G["j"])(),wxCallLocalPeerConf.iceServers=await Object(G["b"])(),wcCallLocalPeer=new RTCPeerConnection(wxCallLocalPeerConf),Object(G["k"])(wcCallLocalPeer),navigator.mediaDevices.getUserMedia({audio:!0,video:2==a.type}).then((async function(t){Object(G["e"])(a,t),t.getTracks().forEach(e=>wcCallLocalPeer.addTrack(e,t))})).catch((function(t){Object(G["m"])(t)})),f["a"].commit("setTalkTimer"),wxCallLocalAudio.muted=!0):Object(u["j"])(a.reason)},W=P,z=async function(t,e,s,i,a){f["a"].state.Call;var r={};Object(G["a"])(r,a),wxCallRemotePeerConf.iceServers=await Object(G["b"])(),wcCallRemotePeer=new RTCPeerConnection(wxCallRemotePeerConf),Object(G["k"])(wcCallRemotePeer),Object(G["l"])()?Object(G["f"])(a):wcCallRemotePeer.setRemoteDescription(new RTCSessionDescription(a.sdp)).then((function(){return navigator.mediaDevices.getUserMedia({audio:!0,video:2==a.type}).then((async function(t){Object(G["e"])(a,t),t.getTracks().forEach(e=>wcCallRemotePeer.addTrack(e,t))})).then((function(){return wcCallRemotePeer.createAnswer()})).then((function(t){return wcCallRemotePeer.setLocalDescription(t)})).then((function(){r.sdp=wcCallRemotePeer.localDescription,Object(A["a"])(n["c"].WxCall07AnswerSdpReq,r)})).catch((function(t){Object(G["m"])(t)}))})).catch((function(t){log("fail to setRemoteDescription: ",t)}))},V=z,Y=function(t,e,s,i,a){var r={};Object(G["a"])(r,a),r.sdp=a.sdp;var o=new RTCSessionDescription(a.sdp);wcCallLocalPeer.setRemoteDescription(o,(function(){log("setRemoteDescription success")}),(function(){}))},K=Y,J=function(t,e,s,i,a){var r={};Object(G["a"])(r,a),r.candidate=a.candidate,r.candidate&&wcCallRemotePeer&&wcCallRemotePeer.addIceCandidate(new RTCIceCandidate(a.candidate)).catch((function(t){}))},H=J,q=function(t,e,s,i,a){var r={};Object(G["a"])(r,a),r.candidate=a.candidate,log("a 12",r,wcCallLocalPeer),r.candidate&&wcCallLocalPeer.addIceCandidate(new RTCIceCandidate(a.candidate)).catch((function(t){}))},X=q,Z=function(t,e,s,i,a){log("收到服务器消息",s,a),f["a"].commit("setCallShow",!1),f["a"].commit("resetCallObj");let r=f["a"].state.User.currUid;var o={};Object(G["a"])(o,a),Object(G["i"])(!1);let n=f["a"].state.Call,{fullState:c}=n;c&&f["a"].commit("exitFullScreen"),a.hangupuid!=r&&a.callduration>0&&Object(u["j"])("通话结束"),n.talk.timer&&(n.talk.time="00:00",clearInterval(n.talk.timer))},$=Z,tt=function(t,e,s,i,a){log("收到服务器消息",s,a);let r=f["a"].state.User.currUser,o=f["a"].state.Ws.channelContextid,{touid:n,todevice:c,fromuid:l,contextid:d,fromcid:u}=a;log("contextid:"+d+"channelContextid:"+o),n!=r.id||u==o||1==c&&o==d||f["a"].commit("setCallShow",!1)},et=tt,st=function(){this.closed=!1,this.onopen=function(t,e){this.closed&&"/home"==d["a"].history.current.path&&(log("websocket重连后处在会话页面-获取焦点"),f["a"].state.Ws.applyThis.getFocus(),this.closed=!1)},this.onmessage=function(t,e){var s=t.data,a=null,r=new Uint8Array(s,0,2),o=new TextDecoder("utf-8").decode(r),c="";if(-1!=o.indexOf("x")){!0,c="(zipped)";var d=new Uint8Array(s,2);a=l.a.ungzip(d)}else a=new Uint8Array(s);var u=new TextDecoder("utf-8").decode(a);if(!u||u.length<n["d"])error("data wrong"+c+", the data length must be >= "+n["d"],u);else{var h=u.substr(0,n["d"]),p=n["a"][h];if(p){var g=i[p];if(g){var m=null,f=null;if(u.length>n["d"]){m=u.substr(n["d"]),log("received:"+p+c+"\r\n, body string is :"+m);try{f=JSON.parse(m)}catch(A){return void error("can not parse to object, commandName is "+p+c+", body string is "+m)}}g.call(g,e,t,p,m,f)}else info("can not found wx_handler, command is "+p+c)}else info("commandstr is "+h+c+", but con not find commandName")}},this.onclose=function(t,e){this.closed=!0},this.onerror=function(t,e){},this.ping=function(t){Object(A["a"])(n["c"].HeartbeatReq,null)}},it=st,at=s("bc3a"),rt=s.n(at);let ot,nt,ct,lt="wss",dt=5e3,ut=3e3,ht="arraybuffer",pt=new it,gt=o.tioWs;function mt(){var t=null;ct=new gt((async function(t){let e=await rt.a.get("/im/imserver.tio_x",{baseURL:"/mytio",timeout:5e3}).then(t=>{let e=t.data;return e.ok?(e.data.timeout&&(dt=e.data.timeout),e.data):null}).catch(t=>null);if(!e)return null;n["d"]||location.reload();let s=f["a"].state;ot=e.ip,nt=e.port,lt=1==e.ssl?"wss":"ws";let i=JSON.parse(sessionStorage.getItem("tiocomconfig"));var r=i.session_cookie_name;s.User.currUid;var o=Object(I["h"])("tio_session");o&&(console.log("sessionName2:",r),a["a"].set(r,o,{expires:15}),log(a["a"].get(r)),Object(I["a"])([["tio_session",""]]));var c=a["a"].getLast(r),l="tio_access_token",d=a["a"].getLast(l),u="wx=1&"+r+"="+encodeURIComponent(c);u+="&frompath="+encodeURIComponent(window.location.pathname),d&&(u+="&"+l+"="+encodeURIComponent(d));var h=lt+"://"+ot+":"+nt+"?"+u;return t&&(h+="&tiows_reconnect=true"),{url:h,timeout:dt}}),t,pt,dt,ut,ht),ct.connect()}},7:function(t,e){},"70ba":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAI+klEQVR4Xu2de4xdVRXGv88XBtvaVAK2hMQXtGhMsFURY5wWE0pDK9UEOm0kSGIfJCRAW8A/SDrzjynJWEoIgT4SbLCl1gjU1vIK2BqDEks1BsFJ5ZWQVl4BaRUb0WW+M/tOz729955z79nnse/clUw66Zy9z9rrd/Zr7b3XJiosZvY5AJ8HcL77+RSAqQCmAJgM4Ayn/psAjgF4F8A7AF4G8DyA5/Qvyb9VtZisimJm9kkAX4v9fAXA6Z70+yeAgwB+B+D3AJ4i+YanvDNlUyoAM5sEYAmAHzjDZypMh4kFYjOAnSTf6zCtt8dLAWBmFwC4zhlfEMqUfwD4KYCtJP9UtCKFAjCzbwD4IYDLii5oyvf9CsB6kr9N+XzmxwoBYGYyuAwvACGIAPyI5MN5K5srADPT6GUrgK/nXZCc8n9K/RNJjahykVwAmJmGibcCuBHAh3LRvLhM3wewAcAwyX/5fq13AGY2G8AuAJ/1rWzJ+b0A4EqSh3zq4Q2AmSmvNWo7AXzYp5IVyus/ri+7naT50MsLADM7E8B9AC7xoVQAeTwG4CqSr2fVNTMA19E+DuDsrMoElv5VAPNJyt3RtWQCYGb64tXef7xrDcJOqEnct0n+pttidA3AzK4CcC+AD3b78h5JdwLAtSRli46lKwBmthLAPR2/rbcTfI/k9k6L2DEAN6v9JYAPdPqyHn9e84XvktzTSTk7AmBmAwAeAfDRTl4ygZ79N4BvkvxD2jKnBmBmWhiRC1cLIX1pbYG3AAyQ/EsaI6UCYGYa5chVqxWpviRb4EUAc0hqda6tpAWw0/nuk/Lr//2kBX5GcjDJIIkAzOz7briZlFf/76da4BqSP2lnmLYAzGwagFcAlL1qFSpcbRT4NEn1C00lCYDoXR1q6Sui9zaSakU6A+CGnPsrUojQ1fgWySebFaJpDTCzjwD4M4CZoZe8Ivr/FcAXSP6vUZ9WAPodr39yTTvkVgBGAZznX4cJneMoyVmJNcDMFgN4cEKbKr/CLyApV864nFIDzEzuhgvz02FC53yA5NyWAMxMf/x1KCY6cuRIpOqMGTNCUVl6XkRSH3kkdTXAzIIZ9x88eBCrVq3CpEmTsGPHjpAg1M0LxgGYmXYia5H5YyF8Tps2bcKWLVsiVZcvX46VK7VGFIRodjyNpNYPTtYAM5Pj6P4gigAgYAAy8XdIPtQIQP9xeR9AIRbYTVKjzbEa4Ga+Ol1yWiGv9/CSwGuAVs6mkjxRAxDU6Ef8AgegIswjub8GYAjAOg8fZmFZ9AAAbfYdqgGQ11ML7sFIDwCIJmUMsf3vkSZorB8wM51M1OnBoKQHaoDsfZEABOl67hEA1whAcB1wjzRBKsawAAS55aRHasA2AZB/en5QHUBvzANk8kcFIEj/f4/UgKcFQAvGwS2+9wiAUQH4O4Cz+k1QKRZ4TQA0IaiUE27Pnj3Yu3cvFi5ciEWLFjW1TNoaMDIygsOHD2P16tWYObNyFf1EJQEsXbo0MppEv69Zo9Ov9ZIGwNDQUARSMnv2bGzerOAolZIIgLZQV+qQnb7anTs1Oh4T1QQZMy5JAOLGVzrVgGXLllXK+gCiJqiSfUCjARshtAOQlLZCFF4pbBR07NgxDA8PR4voalImT04+aNPOkK0AdGv80dFRbNiwAQMDA0XWlGgUVMg8IG6wdevWtexcG7/OVgZtBqBb4+udK1aswKFDY2EgtOOiIInmAYWsBSe12e0K3Myw06dPr9sVcfTo0fEOt1W/0e4dJQHYLQDrAdySN/EsAKRbIwQ1ZcePH4/Ujv/ejfFLrAG3FeaOzgqgGYRmH02zEVOaj6ukGhC5owtZkPEBIAlCt8YvsQZECzKaBWsukOvha18AWkHIYvySAIwtSerlRYyEfAJohDA4OIi1a9emaWlaPlNCEzS2KO8AbARwfaYSJCT2DUCv09hd8wkfu6NLAFC3LSX3Qxl5APD5wZQAIDqsUasBOg+sWMq5RUDpA6j7XHRY7wySb8e3p+e6OasPoA7A+EmZOIBct6f0AdQBGD8xGQeggxnyjOYSliAOYM6cOdBPlUSLQHJnSHL2BSmU/pm1ILCFHVFSAeUNrbrIrbF/f64BApofUXLD0Vy3qcsNfeDAgcoykPHlc5o7t+4go299o23ptUybHVPNtTPW2F1rA1UUzSd8zCnalK39MVVXCy4FkHvY9ioCKECn5IPaDoKCzn25AIUm0isOkTxl5NEqVkRQJyYDoTh+MjKubysAmhE/3a8F3tA+A+CrqcPVuGZI1UUQJnpo4qwU/uuM3/TegaSQZbl7SbOWLoD0d5C8oZWeSQA0K34pdmNdAOWtlIoKcT+LpGa/TSVN2ErNSp7I01NaKZP5U0Yez4tJtp15JgJw/UGQx5j82bKrnKIFl6SUaQHoOdWCeUkZ9v8eWUDeBH39iffMpALgasEn3HHWc/tGbmsBbetWUKaWwVoT5wGtsnfXy+pMce0a2T6LegvoWl0ZP/X1ualrQO09bh+R7kzp1auquv2odMWV7g4YD0eWJqOOAbjmKNfVszSKV/CZxEDdzXTuCoCDoDuA7+6BqwqzstRMd3mhl/jEmiPdkvqLqp0xy2rRDtLrBqXFjbFAO0hfHzWxk4QxCJqoKdCr7nqfSJL5DjEZq+smKG5pNzp6AMAXJwgB3Q+jC9x0VUkm8QLA9Qna3Ks+oWWs/EyaVifxXQDWktTm2sziDUCsSdKFD3f24G1LOg2iy9p2Z7Z6LAPvAFxtOAfAiO7f9alsiXn9XCddScq76VVyARCrDfIdKbxtqJc7K47GyiyXdSbRyhWAqw2aMWuN+aaAOulnAfwYwHaSmuHmJrkDaBgtKS7RzfIU5laibBkrcvwIyX3ZskmfulAAsabpSw7EFRVYc9YXrpjZG0n+Mb3p/DxZCoCGWqFDgks0rgbwGT/FSsxF43fN4HeRLOxUdjOtSgfQAEN3VS5wIdTUTCXHM0i0dfSA9kLqGindBb+P5MvpkuX/VKUANBbXzbDPB6CbXPWvAMnlMcXBqa1LyA8vIysAuU58ysDPu5/nOvHP52/y+jf8H92t5YA/5TvRAAAAAElFTkSuQmCC"},"71df":function(t,e){t.exports="data:image/png;base64,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"},7371:function(t,e,s){},7401:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return c}));var i=s("85bf"),a=(s("a7fe"),s("a026")),r=s("d842"),o=s.n(r);s("2ba8");o()(a["default"]);function n(t,e){return Object(i["c"])(t,e)}const c={chatRecent(){return Object(i["a"])("/chat/list")},chatOper(t){return Object(i["b"])("/chat/oper",t)},msgOper(t){return Object(i["b"])("/chat/msgOper",t)},msgForward(t){return Object(i["b"])("/chat/msgForward",t)},chatMailList(t){return Object(i["a"])("/chat/mailList",t)},chatActChat(t){return Object(i["a"])("/chat/actChat",t)},chatActStrangerChat(t){return Object(i["a"])("/chat/actChatStranger",t)},shareCard(t){return Object(i["b"])("/chat/shareCard",t)},bindphone(t){return Object(i["b"])("/user/bindphone",t)},bindnewphone(t){return Object(i["b"])("/user/bindnewphone",t)},chatReadAck(t){return Object(i["a"])("/chat/readAck",t)},msgfreeflag(t){return Object(i["b"])("/chat/msgfreeflag",t)},sysReport(t){return Object(i["b"])("/sys/report",t)}}},7423:function(t,e){t.exports="data:image/png;base64,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"},"75db":function(t,e,s){},7981:function(t,e,s){},"7aac":function(t,e,s){},"7af6":function(t,e,s){"use strict";(function(t){var i=s("c50e"),a=s("7401"),r=s("a7fe"),o=s("2f62");s("4360");const n={data(){return{groupUser:{},groupInfo:{},member:{pagenum:1,totalPage:1,totalRow:1,totalPage:0},groupMember:[],grouptype:""}},computed:{...Object(o["d"])({curruser:t=>t.User.currUser,commGroupInfo:t=>t.CommonInfo.groupUserInfo})},methods:{...Object(o["b"])(["getUserInfo","getChatGroupInfo"]),async getGroupInfo(){let t=await i["g"].getWxGroupInfo(this.groupid,1);if(this.groupUser=t.groupuser,t.group.intro=t.group.intro||"",t.group.noticetime=t.group.noticetime?t.group.noticetime.substring(0,16):"",this.groupInfo=t.group,1==this.groupInfo.grouprole)this.groupInfo.nick=this.curruser.nick;else{var e=await this.getUserInfo(this.groupInfo.uid);this.groupInfo.nick=e.nick}},getGroupMembers(){this.member.pagenum=1,this.groupMember=[],this.groupMembers()},async groupMembers(){let e={groupid:this.groupid,pageNumber:this.member.pagenum},s=await i["g"].groupMember(e);if(s.ok){let e=s.data;this.member.totalPage=e.totalPage,this.member.totalRow=e.totalRow;let i=e.list;if(i.map(t=>{t.avatar=Object(r["l"])(t.avatar)}),this.groupMember=this.groupMember.concat(i),log(this.groupMember),1==this.member.pagenum){let e=this;this.$nextTick(()=>{Object(r["d"])(t("#membercontent"),"",{whileScrolling:function(){95==this.mcs.topPct&&e.member.pagenum<e.member.totalRow&&(e.member.pagenum++,e.groupMembers())}})})}}else Object(i["j"])(s.msg)},showModel(t){this.grouptype=t},chatContextMenu(t,e){this.$refs.groupmodel.chatContextMenu(t,e)},showUserCard(t,e){this.$refs.groupmodel.showUserCard(t,e)},openInvit(){this.$refs.groupmodel.modifyApply(1)},modifyReview(t){let e={mode:t,groupid:this.groupInfo.id};var s="";i["g"].modifyReview(e).then(e=>{e.ok?(1==t?(this.groupInfo.joinmode=1,s="开启群审核成功"):(this.groupInfo.joinmode=2,s="已关闭群审核"),Object(i["j"])(s)):Object(i["j"])(e.msg),this.loading=!1})},modifyGroupPush(t){let e=this.groupid,s={freeflag:t,groupid:e};var o=1==t?"开启免打扰成功":"已关闭免打扰";a["a"].msgfreeflag(s).then(e=>{if(e.ok){this.groupUser.msgfreeflag=t,this.msgfreeflag=t;let e="/chat/group",s=r["n"].get(e,this.groupid+"1");s.groupuser.msgfreeflag=t,r["n"].set(e,this.groupid+"1",s,{exp:10}),Object(i["j"])(o)}else Object(i["j"])(e.msg)})},modifyFriendFlag(t){let e=this.groupid,s={friendflag:t,groupid:e};var a=1==t?"开启群内互加好友成功":"已关闭群内互加好友";i["g"].modifyFriendFlag(s).then(e=>{e.ok?(this.groupInfo.friendflag=t,Object(i["j"])(a)):Object(i["j"])(e.msg)})}}};e["a"]=n}).call(this,s("1157"))},"7b55":function(t,e,s){},"7c61":function(t,e,s){"use strict";s("ebf5")},"7cd3":function(t,e,s){"use strict";s("7981")},"7ea2":function(t,e,s){"use strict";s("24e9")},"7fe7":function(t,e,s){"use strict";(function(t){var i=s("c50e"),a=s("a7fe");e["a"]={props:["friendid","type"],data(){return{friendInfo:{},myFriends:{pagenum:1,totalPage:0,totalRow:0},newfrititle:"好友请求",friendList:[],letterArr:[],orgFriendList:[],contextmenushow:!1,contextmenu:{top:0,left:0,data:{}},allconfig:null}},created(){this.getFriendsList(),this.allconfig=JSON.parse(sessionStorage.getItem("allconfig"))},methods:{newfriendClick(){this.$emit("setType",1),this.$emit("setFriendId",{uid:""})},friendClick(t){this.$emit("setType",2),this.$emit("setFriendId",t)},getFriendsList(){this.myFriends.pagenum=1,this.getMyFriendList()},async getMyFriendList(){let t={mode:1,pageNumber:this.myFriends.pagenum},e=await i["b"].chatMailList(t);if(!e.ok)return void Object(i["j"])(e.msg);let s=e.data;if(!s)return;let a=s.fd;this.myFriends.totalPage=a.totalPage,this.myFriends.totalRow=a.totalRow;let r=a.list,o=[];1==this.myFriends.pagenum?(this.friendList=[],this.letterArr=[]):o=[...this.friendList];let n=this.setChatIndex(r,o,"letterArr");this.friendList=n.contdata,this.scrollNextPage(n)},scrollNextPage(e){let s=this;1==this.myFriends.pagenum?(this.orgFriendList=e.list,this.$nextTick(()=>{Object(a["d"])(t("#friendlist"),"",{whileScrolling:function(){95==this.mcs.topPct&&s.myFriends.pagenum<s.myFriends.totalPage&&(s.myFriends.pagenum++,s.getMyFriendList())}})})):this.orgFriendList=this.orgFriendList.concat(e.list)},setChatIndex(t,e,s){return t.map(t=>{let i=t.chatindex;if(t.avatar=Object(a["l"])(t.avatar),this[s].find(t=>t==i))e[e.length-1]["data"].push(t);else{let a={index:"",data:[]};this[s].push(i),a.index=i,a.data.push(t),e.push(a)}}),{contdata:e,list:t}},chatContextMenu(t,e){let s=Object(a["m"])(t,130);this.contextmenu={top:s.otop,left:s.oleft,data:e},this.contextmenushow=!0,this.$setAddEventListener("contextmenushow")},sendMsg(){this.$emit("sendMsg",this.contextmenu.data.uid)},sendCard(){this.$emit("sendCard",this.contextmenu.data)},delFriend(){this.$emit("delFriend",this.contextmenu.data.uid)}}}}).call(this,s("1157"))},8:function(t,e){},"81ff":function(t,e,s){},"83f9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABWCAYAAAB/5pBYAAADTElEQVR4Xu2cz2sTQRTH35tNskljKohQLIp4qHqxB1H8EQ0KPRQVFEUvgrd6EEQQ8aIHD42gFH+gqNGDCF70IgiCB8FrpUf/AAVFWiiCrW2yye6MJGVByo7u7mTTzs7LcXmzu/OZ77w3781sEADg4fG9VcuyriBmcoxh+1Lo39jrj4G294/uDrzeV1wT+t5JGHIuQHC3KcCbuPBm8ho+OrG/lsnmzsd9mG4A/u6n6zUfY+1kxUWLWSYC4B738OnpQyJu59vtdFZA+/0TAyCD+uzMYRXeXW9LAFSnwPzP2cBRufzhc+D11CnAeACLC78DR/rSuykzFGA8AFkYvDOyI1ABpXXru+7JVW6YWBQwHsBqzQWWqyUxBRgPgFaCEgK0EEpbLmD8SlC2DiAfYIoPoJWgpChqzErQeCeoPYB7R3YpFUVleb8sCsiWyCoZnUpbJAAJKUDmBC07rzJgXW+bmAKMAeA5jcBRWW0jLZOOsgKMByAjK4sOqYsCBEBCgBQg2RgxZgro4hyVo4DMB2gDQHV3WLY1JgOz0meEur4vYDwAqglKKkJUFDW9KEoKIAUEE0jd3qAfBWQFEB+Df2qMAKRtc9RXwP+SHD87TK0CjAcQtlybWgUYC+Dc87dgF0uh+j838wNeXTwbyrZXRsqnxNZu2gKjV8ehf2Dwn+/c7vz729fh17cvvepbqOcoA5BtjsqenrqTogvzc8BbzVC0WTYHxVJ/KNteGSkrwPiCCAGQfC9ANUEJASqKrvCXo1QVXkaAosCTUxXBGIsddnWOApxzwAfH9gi7UDASgNOoA94d3SkYsyBn24CWBQyjfT6vmwK4ECA8D5qOA5x7SwBiDz8ANOqLkZrnC32R7JM2JgCkAJoC5APICap4WooCFAY1XwdMjAwLK5OJPQt0ngKe6wLerGwX+UIBMOIS2CemKwAhBDTqdcDqga2dbDDbzgUYi5wL6AagkwtwDq1OLsCXAMTWPwA0G06k5rm8Hck+aWMCQAqgKUA+wHAnWB6aBsSBuN5W6yggxAyOl4deImLsUws6AxBCvMBb5W2DLvJPALgxjgr0BSC+M3CGOyXg6sHNGwTP1QBxHwJE+q8r3QAIgFkAMek6rbEbU1+n/wDp+Dk0T5h93AAAAABJRU5ErkJggg=="},"85bf":function(t,e,s){"use strict";(function(t){s.d(e,"b",(function(){return d})),s.d(e,"a",(function(){return u})),s.d(e,"c",(function(){return h}));var i=s("bc3a"),a=s.n(i),r=s("a18c");let o=a.a.create({baseURL:"/mytio"}),n=".tio_x",c=1e3,l={NOTLOGIN:1+c,TIMEOUT:2+c,KICKTED:3+c,NO_GRANT:99+c};function d(e,s){return e+=n,"object"===typeof s&&(s=t.param(s)),new Promise((t,i)=>{o.post(e,s).then(e=>{t(e.data)}).catch(t=>{info(t)})})}function u(t,e){return t+=n,new Promise((s,i)=>{o.get(t,{params:e}).then(t=>{s(t.data)}).catch(t=>{info(t)})})}function h(t,e){return t+=n,new Promise((s,i)=>{o.post(t,e,{contentType:!1,processData:!1}).then(t=>{s(t.data)}).catch(t=>{info(t)})})}o.interceptors.response.use((function(t){let e=t.data.code,s=r["a"].history.current.path;if("/login"!=s&&"/"!=s&&(e!=l.NOTLOGIN&&e!=l.TIMEOUT&&e!=l.KICKTED||(location.reload(),r["a"].push("/login"))),e!=l.NO_GRANT)return t;location.replace("/2/grant/client/client.html?redirect_uri_after_grant="+encodeURIComponent(location.href))}))}).call(this,s("1157"))},8882:function(t,e,s){t.exports=s.p+"static/img/swiper3.0809e2b7.png"},"88f2":function(t,e,s){"use strict";s("48c7")},"8adc":function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("c50e"),r=s("7401"),o=s("a7fe"),n=s("4e08"),c=s("3a23"),l=s("ccec");s("4360");e["a"]={data(){return{contextmenushow:!1,contextmenu:{top:0,left:0,data:{}},group:{show:!1,name:"",groupid:""},delshow:!1,delcheck:!1,loading:!1,time:null,Sec:0}},computed:{...Object(i["d"])({curruid:t=>t.User.currUid,chatList:t=>t.Ws.chatList,chatOn:t=>t.Ws.chatOn,bizId:t=>t.Ws.bizId,allNotRead:t=>t.Ws.allNotRead,$chatEditor:t=>t.Ws.$chatEditor,callShow:t=>t.Call.callShow,callInfo:t=>t.Call.callInfo,calltype:t=>t.Call.calltype})},components:{GroupName:l["a"]},methods:{...Object(i["b"])(["getChatRecent","getChatGroupInfo"]),...Object(i["c"])(["setChatOn","setAllNotRead","setChatOldMsg","initChatRoom","setChatInfo","setGroupMore"]),chatLeaveChat(){Object(n["a"])(c["c"].WxSessionOperReq,{chatlinkid:this.chatOn,oper:2})},async getChatList(){await this.getChatRecent(),this.$nextTick(()=>{Object(o["d"])(t("#tioim-chat-list"),"","",{mouseWheel:{scrollAmount:200}}),this.setCurrChat()})},setCurrChat(){let t=!0;if(""==this.chatOn){let e=this.chatList[0];1==e.chatmode?t=!1:this.getChatGroupInfo(e.bizid),this.setChatOn({chatOn:e.id,bizid:e.bizid,isGroup:t}),2==e.atreadflag&&(e.atreadflag=1),this.setAllNotRead(this.allNotRead-e.notreadcount),e.notreadcount=0}else{let e=this.chatList.find(t=>t.id==this.chatOn);e&&(this.setAllNotRead(this.allNotRead-e.notreadcount),e.notreadcount=0,1==e.chatmode&&(t=!1),this.setChatOn({chatOn:this.chatOn,bizid:this.bizId,isGroup:t}))}this.setChatOldMsg({startmid:"",unshift:"",chattype:t,chatlinkid:this.chatOn}),this.$nextTick(()=>{this.$chatEditor.focus()})},chatColClick(t){this.setGroupMore(!1);let e=this.chatList;if(!t&&0==e.length)return void this.setChatOn({chatOn:"",bizid:"",isGroup:!1});t||(t=e[0]),Object(n["a"])(c["c"].WxSessionOperReq,{chatlinkid:this.chatOn,oper:2});let s=t.id;if(s==this.chatOn)return;this.$chatEditor.html(""),this.initChatRoom([]);let i=!0;1==t.chatmode&&(i=!1),2==t.atreadflag&&(t.atreadflag=1),this.setChatOn({chatOn:s,bizid:t.bizid,isGroup:i});let a=e.find(e=>e.id==t.id);if(a){let t=this.allNotRead-a.notreadcount;this.setAllNotRead(t),a.notreadcount=0}this.setChatInfo({...t}),Object(n["a"])(c["c"].WxChatItemInfoReq,{chatlinkid:s}),this.$emit("getMsg"),this.$nextTick(()=>{this.$chatEditor.focus()})},chatContextMenu(t,e){let s=Object(o["m"])(t,130);this.contextmenu={top:s.otop,left:s.oleft,data:e},this.contextmenushow=!0,this.$setAddEventListener("contextmenushow")},chatOper(t){this.loading=!0;let e=this.contextmenu.data,s=e.id,i={chatlinkid:s,oper:t};r["a"].chatOper(i).then(t=>{t.ok?(this.contextmenushow=!1,this.delshow=!1):Object(a["j"])(t.msg),this.loading=!1})},modifyGroupPush(t){let e=this.contextmenu.data,s={freeflag:t};1==e.chatmode?s.touid=e.bizid:s.groupid=e.bizid;var i=1==t?"开启免打扰成功":"已关闭免打扰";r["a"].msgfreeflag(s).then(s=>{s.ok?(e.msgfreeflag=t,Object(a["j"])(i)):Object(a["j"])(s.msg)})},delChat(){this.delshow=!0},cancleDel(){this.delshow=!1},editGroupName(t){this.group.show=!0,this.group.name=t.name,this.group.groupid=t.bizid},getShowTime(t,e){return Object(o["i"])(t,e)},WxfocusSetInterval(t){this.$once("hook:beforeDestroy",()=>{clearInterval(this.time),this.time=null,this.Sec=0}),this.time&&(clearInterval(this.time),this.time=null,this.Sec=0),this.time=setInterval(()=>{this.Sec++,Object(n["a"])(c["c"].WxFocusRefReq,{chatlinkid:t,oper:1})},6e4)}}}}).call(this,s("1157"))},"8c7e":function(t,e,s){},"8e99":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADQ0lEQVRoQ+1YXU4bMRCe8eaFeCXoCUgeAa+AEzS5QThB2xOUnqDhBKU3gBOQGxBO0EXrwGNyg4IU4AV2qkG2tEJJbe9uhbbalfIAssff982Px4PQ8A8bjh9aAu/twdYDrQcqKtCGkBVwPp9vPT4+fiSiEQD0Cj9esrA/RJx0u92rfr9/V1H81+2VPXB7e9t7eXn5DgCfAwGdRVF0srOzw+RKf6UJsOIPDw8M/NieTkRXrDARpZ1OZ2HBzWazgzzPtxDxwBDdt3sQcdztdn+W9UgpAgb8JQAwIP7Ooyga+6ppvDYGgE9mfyqlHJYhEUzAqHmJiFsAcI2In/f29tIyMcC2iGgCANtEdCeEGIbaCiLAyi+XyzmD53CJ43hURrUiWWNzgohcAO7iOO6H2PQmUAwbBp8kyaCM6uv2ZFk2ZRIAEBRO3gRms9kpEX3lsJFSDkJU8iFqBOJQ5HA6SZKEc8T5eREwSTd/rbuIh6Fx6kRhFpic+MV/RlHU9ykKXgS01memYpwrpULrvS/+13WhZzkJGNf+DlElCPGbxUVvSyk/uELVSeDm5maU5/nFv0jcdUS11pwL+0KIo93dXS6zaz8ngYJLvymlTquo67tXa823+w++IF0h6yRgyxsRDZMkmfqCqLIuy7IBIl76eN1JQGvNzda2b1WoAtzuLVSjVCl1WDWEiA0opZxk6wBvbWitvc51gvI1VCd4U05rI/CeIXStlLId70qNnB74H5LY3sLNLKONv8ga30qUabCqVKTamzkG0/h2mklkWTZGRJ5CLKSUh64uMdQLJlT5LdCr/UHDYMwB3AvxSGSqlBqGgvzbetuBhr74nPdA8VDzAF8g4iaTkFIeVfWEEeYCAAZEdB/HcS/EZhABJmPGKvwAZxIpIn4p+8Q0TRuD57C5F0IMQm0FE1gRTvyvoDHhinFk6UFBKQKWxHK5PDaJbSMtJaKzTqeT5nl+b9VkpYUQm8/Pzwc8CCtM9IATNo7j05CwKYZ1aQLWyIoxoW9uB40j1xmtTMAa5mR8enoa5Hk+IqKeGT3aIe41T90QcSGEmGxsbEzLKv6WSG0EfGWve11LoG5FQ+21HghVrO71rQfqVjTUXuM98Ac2gP5A5xj5dQAAAABJRU5ErkJggg=="},9:function(t,e){},"914e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAADdUlEQVRoQ+2Zz4tOYRTHP1+xkbEVmSwUoZQiYyub2aFYoMyEkT+A/Akyf4CYEVNYUNjZyJaJUgpRFjKRpUw25OjoXl33ve9773N/Gbf31GzmPc+53+8553m+5z5XdNzUcX4MCf7vFR5WcFjBJZ6BYYuGFsjMlgOngWPAVmB1TowvwGvgBnBZ0o/QZw7yr7WCZrYGeADsKAnyOTAu6XPJ9T3L+hI0s3HgCrA+tWoBmJLkRP6Yma0EHgPbK4J7AeyR9K1inN/LBxH8kEEufuaCpNEUwevA8TpAAXOSJuqIVQtBM3Mw11KAvMJnJL0fBNTMNgCXvDVTfpOSPGmVrHKLmpkfJE8Bb9HYXgG7irZZ1N4ew2PF5i3qMTxWaat0yNQJrI5EZWWhKsGsfTchaa5Mys3M93C6LSvtx0Et6r+dBE4A24BVBUBflzRZwK+vi5kVPawWgZfAVWBWkhWuoJmtjYR3bwDYoH3XL26fts+D8cgHC0mf0o49FTQz/99DIIRcLQdCDK7PfixCcl+6klkET0UCnxcw+XvpfTegklnSk4fJB5CZpFMWwSfA7oST65kv9AkmyMxsBbA/+tsJrIsCfASeAff9T9L3oMCAmfmE5ZNWUj/nJY3lEfyaOlBGS5I7AEwDG3PAvwPOSrpXkqRPXLEtShrJI/jXaSQpSErMbBlwwUEHAvZknJf0M2SdmQ3Em9WiVQleLEEu5jQt6dySJWhm3pZ3UwA9YbORXrluubmuur66zqaTfDCkXVurYHSg+Itrcs+5Lrk+uU71mJm5FPmLrutubL4ntxQ9eNokeAi4nQDqlXNdyiQX+0UkXXeTlTws6U6RVm2T4E3gSALUjKSpgiD9uHf9je2WpKMF17ZzyJjZG2BTAtSYpPmCIF13XX9jeytpc8G1rRFM6+eIJB+Ic83MfJD39bH16Fm/IG22aOcJdr5FO3/IdF4m/M2hu0Lvp1ynR7XEZNLdYTuqYrdflxKVbPyFN0poO5NM1qTR5JVFIpH/jmDujFaDQ2ujWg1YS4UoQ7CWS6dSaAMXRTdrwZdOtV0bBuINcq9ybVjm4jcIXIPOhS5+y1zdN4i5cGi/Gsm/uo+0pczHl8JIGnAs/vEloS9lPp81gL1vyPKfz9pE2fSzgq7lmwbTRPwhwSay2mbMYQXbzHYTzxpWsImsthnzF58BHFdx9XVUAAAAAElFTkSuQmCC"},9173:function(t,e,s){"use strict";s("7b55")},9336:function(t,e,s){},"9df7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAO9JREFUSEvt1VENwkAMxvH/HIADcAAOwAEoABxUSh0wB+AAHDAHWEACaXJLliVArzf2tHvay/Jrv667ipFPNbLHBA6euDtSEdmo6r20AhcoIgvgCdSqeipBXaABIlIDh1LUDSb0CJxL0Cywh9o896r6yok4G+yhDbDNQUNgCRoGE7qzeaYv2NVpEZjQFfAAGlVd/5rnEGC7LidVteevJwyKyAy4AdahC7NKQmAUC4ElWDbYwZaA/cxtD7OOO1IRsVldgHkUc3eYOrPbwgoMddbG4OowgVe7NCIxdjN3gVlD+tceRouYOowm9/G90SN9AxJ6WB2r9J4YAAAAAElFTkSuQmCC"},"9ee6":function(t,e,s){"use strict";s("9336")},a18c:function(t,e,s){"use strict";var i=s("a026"),a=s("8c4f"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tioimcontainer"},[i("div",{staticClass:"bodycontent"},[i("div",{staticClass:"form-content"},[i("div",{staticClass:"login-content"},[i("p",{directives:[{name:"show",rawName:"v-show",value:t.sendSuccess&&3==t.currentIndex,expression:"sendSuccess&&currentIndex==3"}],staticClass:"smsTips"},[t._v("已发送6位验证码至"),i("span",[t._v(t._s(t.forget.form.loginName))])]),i("p",{directives:[{name:"show",rawName:"v-show",value:3===t.currentIndex,expression:"currentIndex===3"}],staticClass:"title"},[t._v("忘记密码")]),i("div",{directives:[{name:"show",rawName:"v-show",value:3!=t.currentIndex,expression:"currentIndex !=3"}],class:[0==t.currentIndex?"":"marginB48","form-tab"],attrs:{id:"tab"}},[i("ul",t._l(t.list,(function(e,s){return i("li",{key:e.id,class:t.currentIndex==e.index?"form-tab-active":"",on:{click:function(i){return t.change(e.index,s,e.title)}}},[i("p",[t._v(t._s(e.title))]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex==e.index,expression:"currentIndex == item.index"}],staticClass:"tab-border-bottom"})])})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.currentIndex,expression:"currentIndex == 0"}],staticClass:"loginTypeBox"},t._l(t.loginTypeArr,(function(e,s){return i("p",{key:s,staticClass:"cursor",on:{click:function(e){return t.chooesLoginType(s)}}},[i("img",{attrs:{src:e.img,alt:""}}),i("span",{class:e.class},[t._v(t._s(e.title))])])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.currentIndex,expression:"currentIndex == 0"}],staticClass:"img"},[i("el-form",{ref:"loginform",staticClass:"user-form",attrs:{model:t.login.form}},[i("el-form-item",{attrs:{prop:"loginName"}},[i("div",{staticClass:"input-row"},[i("i",{staticClass:"iconfont iconttubiao_personal"}),i("el-input",{staticClass:"user-input",attrs:{type:"text",placeholder:"请输入您的手机号或ID"},model:{value:t.login.form.loginName,callback:function(e){t.$set(t.login.form,"loginName",e)},expression:"login.form.loginName"}})],1)]),i("el-form-item",{attrs:{prop:"passWord"}},[i("div",{staticClass:"input-row"},[i("i",{staticClass:"iconfont iconttubiao_password"}),i("el-input",{staticClass:"user-input",attrs:{type:t.seepwd?"text":"password",placeholder:"请输入您的密码"},model:{value:t.login.form.passWord,callback:function(e){t.$set(t.login.form,"passWord",e)},expression:"login.form.passWord"}}),i("i",{class:["iconfont cursor icon-pwd",t.seepwd?"iconttubiao_display":"iconttubiao_hide"],on:{click:t.changeSeePwd}})],1)]),i("div",{staticClass:"bot-group"},[i("span",[t._v(t._s(t.errorMsg))]),i("span",{staticClass:"forget-pwd cursor",on:{click:function(e){return t.switchClick(3)}}},[t._v("忘记密码")])]),i("button",{staticClass:"primarybtn bigbtn",on:{click:function(e){e.preventDefault(),"im-login"==t.loginType?t.toLogin():"bus-login"==t.loginType&&t.adminlogin()}}},[t._v(" 登录 ")])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.currentIndex,expression:"currentIndex==1"}],staticClass:"img"},[i("el-form",{ref:"registerform",staticClass:"user-form",attrs:{model:t.register.form}},[i("el-form-item",{attrs:{prop:"loginName"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("eb08"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{type:"text",maxlength:"11",placeholder:"请输入您的手机号",autoComplete:"off"},on:{input:t.mobileInput},model:{value:t.register.form.loginName,callback:function(e){t.$set(t.register.form,"loginName",e)},expression:"register.form.loginName"}})],1)]),i("el-form-item",{attrs:{prop:"mobileCode"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("c329"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{type:"text",placeholder:"请输入您的验证码",autoComplete:"off"},on:{input:t.codeInput},model:{value:t.register.form.mobileCode,callback:function(e){t.$set(t.register.form,"mobileCode",e)},expression:"register.form.mobileCode"}}),i("p",{class:[t.mobileTipsFlag?"countDown":"","get-mobileCode","cursor"],on:{click:function(e){e.stopPropagation(),!t.mobileTipsFlag&&t.getVerify(t.register.form.loginName)}}},[t._v(t._s(t.mobileTips))])],1)]),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.emailCheck,expression:"!emailCheck"}]},[i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"input-row"},[i("i",{staticClass:"iconfont iconttubiao_personal"}),i("el-input",{staticClass:"user-input",attrs:{type:"text",placeholder:"请设置您的昵称",autoComplete:"off"},model:{value:t.register.form.nick,callback:function(e){t.$set(t.register.form,"nick",e)},expression:"register.form.nick"}})],1)]),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.emailCheck,expression:"!emailCheck"}]},[i("div",{staticClass:"input-row"},[i("i",{staticClass:"iconfont iconttubiao_password"}),i("el-input",{class:["user-input",t.seepwd?"":"inputPsd"],attrs:{placeholder:"请设置您的密码",autoComplete:"off"},model:{value:t.register.form.passWord,callback:function(e){t.$set(t.register.form,"passWord",e)},expression:"register.form.passWord"}}),i("i",{class:["iconfont cursor icon-pwd",t.seepwd?"iconttubiao_display":"iconttubiao_hide"],on:{click:t.changeSeePwd}})],1)]),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.emailCheck,expression:"emailCheck"}]},[i("div",{staticClass:"input-row"},[i("i",{staticClass:"iconfont iconttubiao_personal"}),i("el-input",{staticClass:"user-input",attrs:{type:"text",placeholder:"请输入已有邮箱账号",autoComplete:"off"},model:{value:t.register.form.email,callback:function(e){t.$set(t.register.form,"email",e)},expression:"register.form.email"}})],1)]),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.emailCheck,expression:"emailCheck"}]},[i("div",{staticClass:"input-row"},[i("i",{staticClass:"iconfont iconttubiao_password"}),i("el-input",{class:["user-input",t.emailSeepwd?"":"inputPsd"],attrs:{placeholder:"请输入邮箱账号密码",autoComplete:"off"},model:{value:t.register.form.emailPassword,callback:function(e){t.$set(t.register.form,"emailPassword",e)},expression:"register.form.emailPassword"}}),i("i",{class:["iconfont cursor icon-pwd",t.emailSeepwd?"iconttubiao_display":"iconttubiao_hide"],on:{click:function(e){t.emailSeepwd=!t.emailSeepwd}}})],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"email-check cursor"},[i("img",{attrs:{src:t.emailCheckIcon,alt:""},on:{click:t.emailCheckClick}}),i("span",[t._v("绑定已有邮箱账号")])]),i("div",{staticClass:"bot-group",staticStyle:{margin:"3px 0 0 28px"}},[i("span",[t._v(t._s(t.errorMsg))])]),i("button",{staticClass:"primarybtn bigbtn",attrs:{disabled:t.checkMobileFlag&&!t.checkSmsFlag||!t.checkMobileFlag&&t.checkSmsFlag||!t.checkMobileFlag&&!t.checkMobileFlag},on:{click:function(e){e.preventDefault(),t.emailCheck?t.toRegbindemail():t.toRegister()}}},[t._v(" "+t._s(t.emailCheck?"绑定邮箱账号":"同意协议并注册")+" ")])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:3==t.currentIndex,expression:"currentIndex == 3"}],staticClass:"forget-content"},[i("el-form",{ref:"forgetform",staticClass:"user-form",attrs:{model:t.forget.form}},[i("el-form-item",{attrs:{prop:"loginName"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("eb08"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{type:"text",maxlength:"11",placeholder:"请输入您的手机号"},on:{input:t.mobileInput},model:{value:t.forget.form.loginName,callback:function(e){t.$set(t.forget.form,"loginName",e)},expression:"forget.form.loginName"}})],1)]),i("el-form-item",{attrs:{prop:"mobileCode"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("c329"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{type:"text",placeholder:"请输入您的验证码"},on:{input:t.codeInput},model:{value:t.forget.form.mobileCode,callback:function(e){t.$set(t.forget.form,"mobileCode",e)},expression:"forget.form.mobileCode"}}),i("p",{class:[t.mobileTipsFlag?"countDown":"","get-mobileCode","cursor"],on:{click:function(e){e.stopPropagation(),!t.mobileTipsFlag&&t.getVerify(t.forget.form.loginName)}}},[t._v(t._s(t.mobileTips))])],1)]),i("el-form-item",{attrs:{prop:"passWord"}},[i("div",{staticClass:"input-row"},[i("i",{staticClass:"iconfont iconttubiao_password"}),i("el-input",{class:["user-input",t.seepwd?"":"inputPsd"],attrs:{placeholder:"请输入至少6位新密码",autoComplete:"off"},model:{value:t.forget.form.passWord,callback:function(e){t.$set(t.forget.form,"passWord",e)},expression:"forget.form.passWord"}}),i("i",{class:["iconfont cursor icon-pwd",t.seepwd?"iconttubiao_display":"iconttubiao_hide"],on:{click:t.changeSeePwd}})],1)]),i("el-form-item",{attrs:{prop:"passWord"}},[i("div",{staticClass:"input-row"},[i("i",{staticClass:"iconfont iconttubiao_password"}),i("el-input",{class:["user-input",t.seepwdNews?"":"inputPsd"],attrs:{placeholder:"再次确认新密码",autoComplete:"off"},model:{value:t.forget.form.newspassWord,callback:function(e){t.$set(t.forget.form,"newspassWord",e)},expression:"forget.form.newspassWord"}}),i("i",{class:["iconfont cursor icon-pwd",t.seepwdNews?"iconttubiao_display":"iconttubiao_hide"],on:{click:function(e){t.seepwdNews=!t.seepwdNews}}})],1)]),i("div",{staticClass:"bot-group"},[i("span",[t._v(t._s(t.errorMsg))])]),i("button",{staticClass:"primarybtn bigbtn",attrs:{disabled:t.checkMobileFlag&&!t.checkSmsFlag||!t.checkMobileFlag&&t.checkSmsFlag||!t.checkMobileFlag&&!t.checkMobileFlag},on:{click:function(e){return e.preventDefault(),t.findPassWord(e)}}},[t._v(" 提交 ")])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:4==t.currentIndex,expression:"currentIndex==4"}],staticClass:"img"},[i("el-form",{ref:"loginform",staticClass:"user-form",attrs:{model:t.login.form}},[i("el-form-item",{attrs:{prop:"loginName"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("eb08"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{type:"text",maxlength:"11",placeholder:"请输入您的手机号"},on:{input:t.mobileInput},model:{value:t.login.form.loginName,callback:function(e){t.$set(t.login.form,"loginName",e)},expression:"login.form.loginName"}})],1)]),i("el-form-item",{attrs:{prop:"mobileCode"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("c329"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{type:"text",placeholder:"请输入您的验证码"},on:{input:t.codeInput},model:{value:t.login.form.authcode,callback:function(e){t.$set(t.login.form,"authcode",e)},expression:"login.form.authcode"}}),i("p",{class:[t.mobileTipsFlag?"countDown":"","get-mobileCode","cursor"],on:{click:function(e){e.stopPropagation(),!t.mobileTipsFlag&&t.getVerify(t.login.form.loginName)}}},[t._v(t._s(t.mobileTips))])],1)]),i("div",{staticClass:"bot-group"},[i("span",[t._v(t._s(t.errorMsg))])]),i("button",{staticClass:"primarybtn bigbtn",attrs:{disabled:t.checkMobileFlag&&!t.checkSmsFlag||!t.checkMobileFlag&&t.checkSmsFlag||!t.checkMobileFlag&&!t.checkMobileFlag},on:{click:function(e){return e.preventDefault(),t.toLogin(e)}}},[t._v(" 登录 ")])],1)],1),i("div",{staticClass:"mobile-login"},[i("span",{directives:[{name:"show",rawName:"v-show",value:3!==t.currentIndex,expression:"currentIndex !== 3"}],staticClass:"span-after cursor",on:{click:t.changeLogin}},[t._v(t._s(t.loginOther))]),i("span",{directives:[{name:"show",rawName:"v-show",value:3==t.currentIndex,expression:"currentIndex == 3"}],staticClass:"span-after cursor",on:{click:t.loginClick}},[t._v("返回登录")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"otherLogin",style:{"padding-top":1===t.currentIndex?"5vh":0==t.currentIndex?"10vh":3==t.currentIndex?"18vh":"10vh"}},[i("div",{staticClass:"otherLogin_tips"},[i("P"),i("span",{staticClass:"tips_span"},[t._v("其它方式登录")]),i("P")],1),t._m(0),i("div",{directives:[{name:"show",rawName:"v-show",value:3!==t.currentIndex,expression:"currentIndex !== 3"}],staticClass:"bothref"},[t._v(" 使用即代表同意"),i("a",{attrs:{href:"/appinsert/useragreement.html",target:"_blank"}},[t._v("《用户服务协议》")]),t._v("和"),i("a",{attrs:{href:"/appinsert/privacy.html",target:"_blank"}},[t._v("《隐私政策》")])])])])]),i("div",{staticClass:"swiper-content"},[i("el-carousel",{staticClass:"carousel-content",attrs:{arrow:t.carousel.arrow,trigger:t.carousel.trigger,interval:t.carousel.interval,height:t.carousel.height}},t._l(t.carousellist,(function(t,e){return i("el-carousel-item",{key:t,staticClass:"carousel-item"},[i("img",{class:["carousel-img","carousel-img"+e],attrs:{src:t}})])})),1)],1)]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[i("div",{staticClass:"modelbody"},[i("div",{staticClass:"model-success-icon"},[i("img",{attrs:{src:s("06b7"),alt:"",srcset:""}})]),i("p",{staticClass:"success-password"},[t._v("密码设置成功！")]),i("p",{staticClass:"success-login"},[t._v("请重新登录")]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn",on:{click:t.hideDialog}},[t._v("返回登录")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.regshow,expression:"regshow"}]},[i("div",{staticClass:"modelbody"},[i("div",{staticClass:"model-success-icon"},[i("img",{attrs:{src:s("06b7"),alt:"",srcset:""}})]),i("p",{staticClass:"success-password"},[t._v(t._s(t.regmsg))]),i("p",{staticClass:"success-register"},[t._v("请重新登录")]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn",on:{click:t.hideRegDialog}},[t._v("返回登录")])])])]),i("Verify",{ref:"verify",attrs:{captchaType:"blockPuzzle",imgSize:{width:"400px",height:"200px"}},on:{success:t.verifySuccess}})],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"otherLogin_list"},[i("a",{staticClass:"icon_a",attrs:{href:"/mytio/tlogin/5.tio_x"}},[i("img",{staticClass:"otherLogin_icon",attrs:{src:s("14b1"),alt:""}})]),i("a",{staticClass:"icon_a",attrs:{href:"/mytio/tlogin/1.tio_x"}},[i("img",{staticClass:"otherLogin_icon",attrs:{src:s("ec0e"),alt:""}})]),i("a",{staticClass:"icon_a",attrs:{href:"/mytio/tlogin/4.tio_x"}},[i("img",{staticClass:"otherLogin_icon",staticStyle:{width:"38px",height:"38px"},attrs:{src:s("e108"),alt:""}})]),i("a",{staticClass:"icon_a",attrs:{href:"/mytio/tlogin/2.tio_x"}},[i("img",{staticClass:"otherLogin_icon",attrs:{src:s("141c"),alt:""}})])])}],n=s("c50e"),c=s("3452"),l=s.n(c),d=s("3f7a"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.showBox,expression:"showBox"}],class:"pop"==t.mode?"mask":""},[s("div",{class:"pop"==t.mode?"verifybox":"",style:{"max-width":parseInt(t.imgSize.width)+30+"px"}},["pop"==t.mode?s("div",{staticClass:"verifybox-top"},[t._v(" 请完成安全验证 "),s("span",{staticClass:"verifybox-close",on:{click:t.closeBox}},[s("i",{staticClass:"iconfont icon-close"})])]):t._e(),s("div",{staticClass:"verifybox-bottom",style:{padding:"pop"==t.mode?"15px":"0"}},[t.componentType?s(t.componentType,{ref:"instance",tag:"components",attrs:{captchaType:t.captchaType,type:t.verifyType,figure:t.figure,arith:t.arith,mode:t.mode,vSpace:t.vSpace,explain:t.explain,imgSize:t.imgSize,blockSize:t.blockSize,barSize:t.barSize}}):t._e()],1)])])},h=[],p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{position:"relative"}},["2"===t.type?i("div",{staticClass:"verify-img-out",style:{height:parseInt(t.setSize.imgHeight)+t.vSpace+"px"}},[i("div",{staticClass:"verify-img-panel",style:{width:t.setSize.imgWidth,height:t.setSize.imgHeight}},[i("img",{staticStyle:{width:"100%",height:"100%",display:"block"},attrs:{src:t.getImageFlag?"data:image/png;base64,"+t.backImgBase:s("46a4"),alt:""}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showRefresh,expression:"showRefresh"}],staticClass:"verify-refresh",on:{click:t.refresh}},[i("i",{staticClass:"iconfont icon-refresh"})]),i("transition",{attrs:{name:"tips"}},[t.tipWords?i("span",{staticClass:"verify-tips",class:t.passFlag?"suc-bg":"err-bg"},[t._v(t._s(t.tipWords))]):t._e()])],1)]):t._e(),i("div",{staticClass:"verify-bar-area",style:{width:t.setSize.imgWidth,height:t.barSize.height,"line-height":t.barSize.height}},[i("span",{staticClass:"verify-msg",domProps:{textContent:t._s(t.text)}}),i("div",{staticClass:"verify-left-bar",style:{width:void 0!==t.leftBarWidth?t.leftBarWidth:t.barSize.height,height:t.barSize.height,"border-color":t.leftBarBorderColor,transaction:t.transitionWidth}},[i("span",{staticClass:"verify-msg",domProps:{textContent:t._s(t.finishText)}}),i("div",{staticClass:"verify-move-block",style:{width:t.barSize.height,height:t.barSize.height,"background-color":t.moveBlockBackgroundColor,left:t.moveBlockLeft,transition:t.transitionLeft},on:{touchstart:t.start,mousedown:t.start}},[i("i",{class:["verify-icon iconfont",t.iconClass],style:{color:t.iconColor}}),"2"===t.type?i("div",{staticClass:"verify-sub-block",style:{width:Math.floor(47*parseInt(t.setSize.imgWidth)/310)+"px",height:t.setSize.imgHeight,top:"-"+(parseInt(t.setSize.imgHeight)+t.vSpace)+"px","background-size":t.setSize.imgWidth+" "+t.setSize.imgHeight}},[i("img",{staticStyle:{width:"100%",height:"100%",display:"block"},attrs:{src:"data:image/png;base64,"+t.blockBackImgBase,alt:""}})]):t._e()])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.getImageFlag,expression:"!getImageFlag"}],staticClass:"mask_1"},[t._m(0)])])},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"load-container load8"},[s("div",{staticClass:"loader"})])}];function m(t,e="XwKsGlMcdPMEhR1B"){var s=l.a.enc.Utf8.parse(e),i=l.a.enc.Utf8.parse(t),a=l.a.AES.encrypt(i,s,{mode:l.a.mode.ECB,padding:l.a.pad.Pkcs7});return a.toString()}function f(t){var e,s,i,a,r=t.$el.parentNode.offsetWidth||window.offsetWidth,o=t.$el.parentNode.offsetHeight||window.offsetHeight;return e=-1!=t.imgSize.width.indexOf("%")?parseInt(this.imgSize.width)/100*r+"px":this.imgSize.width,s=-1!=t.imgSize.height.indexOf("%")?parseInt(this.imgSize.height)/100*o+"px":this.imgSize.height,i=-1!=t.barSize.width.indexOf("%")?parseInt(this.barSize.width)/100*r+"px":this.barSize.width,a=-1!=t.barSize.height.indexOf("%")?parseInt(this.barSize.height)/100*o+"px":this.barSize.height,{imgWidth:e,imgHeight:s,barWidth:i,barHeight:a}}var A={name:"VerifySlide",props:{captchaType:{type:String},type:{type:String,default:"1"},mode:{type:String,default:"fixed"},vSpace:{type:Number,default:5},explain:{type:String,default:"向右滑动完成验证"},imgSize:{type:Object,default(){return{width:"310px",height:"155px"}}},blockSize:{type:Object,default(){return{width:"50px",height:"50px"}}},barSize:{type:Object,default(){return{width:"310px",height:"40px"}}}},data(){return{secretKey:"",passFlag:"",backImgBase:"",blockBackImgBase:"",backToken:"",startMoveTime:"",endMovetime:"",tipsBackColor:"",tipWords:"",text:"",finishText:"",setSize:{imgHeight:0,imgWidth:0,barHeight:0,barWidth:0},top:0,left:0,moveBlockLeft:void 0,leftBarWidth:void 0,moveBlockBackgroundColor:void 0,leftBarBorderColor:"#ddd",iconColor:void 0,iconClass:"icon-right",status:!1,isEnd:!1,showRefresh:!0,transitionLeft:"",transitionWidth:"",getImageFlag:!1}},computed:{barArea(){return this.$el.querySelector(".verify-bar-area")},resetSize(){return f}},methods:{init(){this.text=this.explain,this.$nextTick(()=>{let t=this.resetSize(this);for(let e in t)this.$set(this.setSize,e,t[e]);this.$parent.$emit("ready",this)});var t=this;window.removeEventListener("touchmove",(function(e){t.move(e)})),window.removeEventListener("mousemove",(function(e){t.move(e)})),window.removeEventListener("touchend",(function(){t.end()})),window.removeEventListener("mouseup",(function(){t.end()})),window.addEventListener("touchmove",(function(e){t.move(e)})),window.addEventListener("mousemove",(function(e){t.move(e)})),window.addEventListener("touchend",(function(){t.end()})),window.addEventListener("mouseup",(function(){t.end()}))},start:function(t){if(t=t||window.event,t.touches)e=t.touches[0].pageX;else var e=t.clientX;this.startLeft=Math.floor(e-this.barArea.getBoundingClientRect().left),this.startMoveTime=+new Date,0==this.isEnd&&(this.text="",this.moveBlockBackgroundColor="#337ab7",this.leftBarBorderColor="#337AB7",this.iconColor="#fff",t.stopPropagation(),this.status=!0)},move:function(t){if(t=t||window.event,this.status&&0==this.isEnd){if(t.touches)e=t.touches[0].pageX;else var e=t.clientX;var s=this.barArea.getBoundingClientRect().left,i=e-s;i>=this.barArea.offsetWidth-parseInt(parseInt(this.blockSize.width)/2)-2&&(i=this.barArea.offsetWidth-parseInt(parseInt(this.blockSize.width)/2)-2),i<=0&&(i=parseInt(parseInt(this.blockSize.width)/2)),this.moveBlockLeft=i-this.startLeft+"px",this.leftBarWidth=i-this.startLeft+"px"}},end:function(){this.endMovetime=+new Date;var t=this;if(this.status&&0==this.isEnd){var e=parseInt((this.moveBlockLeft||"").replace("px",""));e=310*e/parseInt(this.setSize.imgWidth);let s={captchaType:this.captchaType,pointJson:this.secretKey?m(JSON.stringify({x:e,y:5}),this.secretKey):JSON.stringify({x:e,y:5}),token:this.backToken};n["l"].reqCheck(s).then(s=>{if(!0===s.ok){this.moveBlockBackgroundColor="#5cb85c",this.leftBarBorderColor="#5cb85c",this.iconColor="#fff",this.iconClass="icon-check",this.showRefresh=!1,this.isEnd=!0,"pop"==this.mode&&setTimeout(()=>{this.$parent.clickShow=!1,this.refresh()},1500),this.passFlag=!0,this.tipWords=((this.endMovetime-this.startMoveTime)/1e3).toFixed(2)+"s验证成功";var i=this.secretKey?m(this.backToken+"---"+JSON.stringify({x:e,y:5}),this.secretKey):this.backToken+"---"+JSON.stringify({x:e,y:5});setTimeout(()=>{this.tipWords="",this.$parent.closeBox(),this.$parent.$emit("success",{captchaVerification:i})},1e3)}else this.moveBlockBackgroundColor="#d9534f",this.leftBarBorderColor="#d9534f",this.iconColor="#fff",this.iconClass="icon-close",this.passFlag=!1,setTimeout((function(){t.refresh()}),1e3),this.$parent.$emit("error",this),this.tipWords="验证失败",setTimeout(()=>{this.tipWords=""},1e3)}),this.status=!1}},refresh:function(){this.showRefresh=!0,this.finishText="",this.transitionLeft="left .3s",this.moveBlockLeft=0,this.leftBarWidth=void 0,this.transitionWidth="width .3s",this.leftBarBorderColor="#ddd",this.moveBlockBackgroundColor="#fff",this.iconColor="#000",this.iconClass="icon-right",this.isEnd=!1,this.getPictrue(),setTimeout(()=>{this.transitionWidth="",this.transitionLeft="",this.text=this.explain},300)},getPictrue(){let t={captchaType:this.captchaType};this.getImageFlag=!1,n["l"].reqGet(t).then(t=>{!0===t.ok?(this.getImageFlag=!0,this.backImgBase=t.data.originalImageBase64,this.blockBackImgBase=t.data.jigsawImageBase64,this.backToken=t.data.token,this.secretKey=t.data.secretKey):this.tipWords=t.repMsg})}},watch:{type:{immediate:!0,handler(){this.init()}}},mounted(){this.$el.onselectstart=function(){return!1}}},v=A,C=(s("c7d3"),s("2877")),b=Object(C["a"])(v,p,g,!1,null,"602538b9",null),w=b.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{position:"relative"}},[s("div",{staticClass:"verify-img-out"},[s("div",{staticClass:"verify-img-panel",style:{width:t.setSize.imgWidth,height:t.setSize.imgHeight,"background-size":t.setSize.imgWidth+" "+t.setSize.imgHeight,"margin-bottom":t.vSpace+"px"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showRefresh,expression:"showRefresh"}],staticClass:"verify-refresh",staticStyle:{"z-index":"3"},on:{click:t.refresh}},[s("i",{staticClass:"iconfont icon-refresh"})]),s("img",{ref:"canvas",staticStyle:{width:"100%",height:"100%",display:"block"},attrs:{src:"data:image/png;base64,"+t.pointBackImgBase,alt:""},on:{click:function(e){t.bindingClick&&t.canvasClick(e)}}}),t._l(t.tempPoints,(function(e,i){return s("div",{key:i,staticClass:"point-area",style:{"background-color":"#1abd6c",color:"#fff","z-index":9999,width:"20px",height:"20px","text-align":"center","line-height":"20px","border-radius":"50%",position:"absolute",top:parseInt(e.y-10)+"px",left:parseInt(e.x-10)+"px"}},[t._v(" "+t._s(i+1)+" ")])}))],2)]),s("div",{staticClass:"verify-bar-area",style:{width:t.setSize.imgWidth,color:this.barAreaColor,"border-color":this.barAreaBorderColor,"line-height":this.barSize.height}},[s("span",{staticClass:"verify-msg"},[t._v(t._s(t.text))])])])},k=[],x={name:"VerifyPoints",props:{mode:{type:String,default:"fixed"},captchaType:{type:String},vSpace:{type:Number,default:5},imgSize:{type:Object,default(){return{width:"310px",height:"155px"}}},barSize:{type:Object,default(){return{width:"310px",height:"40px"}}}},data(){return{secretKey:"",checkNum:3,fontPos:[],checkPosArr:[],num:1,pointBackImgBase:"",poinTextList:[],backToken:"",setSize:{imgHeight:0,imgWidth:0,barHeight:0,barWidth:0},tempPoints:[],text:"",barAreaColor:void 0,barAreaBorderColor:void 0,showRefresh:!0,bindingClick:!0}},computed:{resetSize(){return f}},methods:{init(){this.fontPos.splice(0,this.fontPos.length),this.checkPosArr.splice(0,this.checkPosArr.length),this.num=1,this.getPictrue(),this.$nextTick(()=>{this.setSize=this.resetSize(this),this.$parent.$emit("ready",this)})},canvasClick(t){this.checkPosArr.push(this.getMousePos(this.$refs.canvas,t)),this.num==this.checkNum&&(this.num=this.createPoint(this.getMousePos(this.$refs.canvas,t)),this.checkPosArr=this.pointTransfrom(this.checkPosArr,this.setSize),setTimeout(()=>{var t=this.secretKey?m(this.backToken+"---"+JSON.stringify(this.checkPosArr),this.secretKey):this.backToken+"---"+JSON.stringify(this.checkPosArr);let e={captchaType:this.captchaType,pointJson:this.secretKey?m(JSON.stringify(this.checkPosArr),this.secretKey):JSON.stringify(this.checkPosArr),token:this.backToken};n["l"].reqCheck(e).then(e=>{!0===e.ok?(this.barAreaColor="#4cae4c",this.barAreaBorderColor="#5cb85c",this.text="验证成功",this.bindingClick=!1,"pop"==this.mode&&setTimeout(()=>{this.$parent.clickShow=!1,this.refresh()},1500),this.$parent.$emit("success",{captchaVerification:t})):(this.$parent.$emit("error",this),this.barAreaColor="#d9534f",this.barAreaBorderColor="#d9534f",this.text="验证失败",setTimeout(()=>{this.refresh()},700))})},400)),this.num<this.checkNum&&(this.num=this.createPoint(this.getMousePos(this.$refs.canvas,t)))},getMousePos:function(t,e){var s=e.offsetX,i=e.offsetY;return{x:s,y:i}},createPoint:function(t){return this.tempPoints.push(Object.assign({},t)),++this.num},refresh:function(){this.tempPoints.splice(0,this.tempPoints.length),this.barAreaColor="#000",this.barAreaBorderColor="#ddd",this.bindingClick=!0,this.fontPos.splice(0,this.fontPos.length),this.checkPosArr.splice(0,this.checkPosArr.length),this.num=1,this.getPictrue(),this.text="验证失败",this.showRefresh=!0},getPictrue(){let t={captchaType:this.captchaType};n["l"].reqGet(t).then(t=>{!0===t.ok?(this.pointBackImgBase=t.data.originalImageBase64,this.backToken=t.data.token,this.secretKey=t.data.secretKey,this.poinTextList=t.data.wordList,this.text="请依次点击【"+this.poinTextList.join(",")+"】"):this.text=t.repMsg})},pointTransfrom(t,e){var s=t.map(t=>{let s=Math.round(310*t.x/parseInt(e.imgWidth)),i=Math.round(155*t.y/parseInt(e.imgHeight));return{x:s,y:i}});return s}},watch:{type:{immediate:!0,handler(){this.init()}}},mounted(){this.$el.onselectstart=function(){return!1}}},I=x,O=Object(C["a"])(I,y,k,!1,null,null,null),M=O.exports,S={name:"Vue2Verify",props:{locale:{require:!1,type:String,default(){if(navigator.language)var t=navigator.language;else t=navigator.browserLanguage;return t}},captchaType:{type:String,required:!0},figure:{type:Number},arith:{type:Number},mode:{type:String,default:"pop"},vSpace:{type:Number},explain:{type:String},imgSize:{type:Object,default(){return{width:"310px",height:"155px"}}},blockSize:{type:Object},barSize:{type:Object}},data(){return{clickShow:!1,verifyType:void 0,componentType:void 0}},methods:{i18n(t){if(this.$t)return this.$t(t);{let e=this.$options.i18n.messages[this.locale]||this.$options.i18n.messages["en-US"];return e[t]}},refresh(){this.instance.refresh&&this.instance.refresh()},closeBox(){this.clickShow=!1},show(){"pop"==this.mode&&(this.clickShow=!0)}},computed:{instance(){return this.$refs.instance||{}},showBox(){return"pop"!=this.mode||this.clickShow}},watch:{captchaType:{immediate:!0,handler(t){switch(t.toString()){case"blockPuzzle":this.verifyType="2",this.componentType="VerifySlide";break;case"clickWord":this.verifyType="",this.componentType="VerifyPoints";break}}}},components:{VerifySlide:w,VerifyPoints:M}},j=S,L=(s("536e"),Object(C["a"])(j,u,h,!1,null,null,null)),B=L.exports;const E={data(){return{list:[{title:"密码登录",index:0},{title:"账号注册",index:1}],mobileTips:"获取验证码",mobileTipsFlag:!1,deltimer:"",isChecked:!1,forgetFlag:!0,othershow:!1,errorMsg:"",currentIndex:0,checkSmsFlag:!1,checkMobileFlag:!1}},methods:{checkMobile(t,e){if(""==e||"undefined"==e)return this.errorMsg="请输入您的手机号",!1;if(!/^1[3456789]\d{9}$/.test(e))return this.errorMsg="请输入正确的手机号",!1;let s={biztype:t,mobile:e};n["l"].smsBeforeCheck(s).then(t=>{t.ok?(this.checkMobileFlag=!0,this.errorMsg=""):(this.checkMobileFlag=!1,this.errorMsg=t.msg)})},getVerify(t){return log("图形验证"),log(t),""==t||"undefined"==t?(this.errorMsg="请输入您的手机号",!1):/^1[3456789]\d{9}$/.test(t)?(this.$refs.verify.instance.refresh(),void(this.checkMobileFlag&&(this.errorMsg="",this.$refs.verify.show()))):(this.errorMsg="请输入正确的手机号",!1)},getMobileCode(t,e,s){this.mobileTips=60,this.mobileTipsFlag=!0,clearInterval(this.deltimer),this.deltimer=setInterval(()=>{--this.mobileTips,0==this.mobileTips&&(this.mobileTips="获取验证码",this.mobileTipsFlag=!1,clearInterval(this.deltimer))},1e3),n["l"].smsSend({biztype:t,mobile:e,captchaVerification:s}).then(t=>{t.ok?(this.sendSuccess=!0,3===this.currentIndex&&(this.forgetFlag=!1)):(this.sendSuccess=!1,this.errorMsg=t.msg||"今日验证码获取次数已达到上限，请明日再试")})},smsCheck(t,e,s){log("我是短信校验"),log(this.currentIndex),0!==this.currentIndex&&(""!=e&&""!=s?(this.errorMsg="",n["l"].smsCheck({biztype:t,mobile:e,code:s}).then(t=>{log(t),t.ok?(this.checkSmsFlag=!0,this.errorMsg=""):(this.errorMsg=t.msg,this.checkSmsFlag=!1)})):""==e?this.errorMsg="请输入您的手机号":""==s&&(this.errorMsg="请输入您的验证码"))},rules(){if(this.othershow){if(""==this.ortherLogin.form.loginName||"undefined"==this.ortherLogin.form.loginName)return this.errorMsg="请输入手机号",!1;if(!/^1[3456789]\d{9}$/.test(this.forget.form.loginName))return this.errorMsg="请输入正确的手机号",!1;if(""==this.ortherLogin.form.nick||"undefined"==this.ortherLogin.form.nick)return this.errorMsg="请输入您的验证码",!1}else if(0==this.currentIndex){if(""==this.login.form.loginName||"undefined"==this.login.form.loginName)return this.errorMsg="请输入您的手机号或邮箱",!1;if(""==this.login.form.passWord||"undefined"==this.login.form.passWord)return this.errorMsg="请输入您的密码",!1}else if(1==this.currentIndex){if(""==this.register.form.loginName||"undefined"==this.register.form.loginName)return this.errorMsg="请输入您的手机号",!1;if(!/^1[3456789]\d{9}$/.test(this.register.form.loginName))return this.errorMsg="请输入正确的手机号",!1;if(""==this.register.form.mobileCode||"undefined"==this.register.form.mobileCode)return this.errorMsg="请输入您的验证码",!1;if(this.emailCheck){if(""==this.register.form.email||"undefined"==this.register.form.email)return this.errorMsg="请输入已有邮箱账号",!1;if(""==this.register.form.emailPassword||"undefined"==this.register.form.passWord)return this.errorMsg="请输入邮箱账号密码",!1}else if(""==this.register.form.passWord||"undefined"==this.register.form.passWord)return this.errorMsg="请设置您的密码",!1}else if(3==this.currentIndex){let{passWord:t,newspassWord:e}=this.forget.form;if(this.forgetFlag){if(""==this.forget.form.loginName||"undefined"==this.forget.form.loginName)return this.errorMsg="请输入您的手机号",!1;if(!/^1[3456789]\d{9}$/.test(this.forget.form.loginName))return this.errorMsg="请输入正确的手机号",!1}else{if(""==this.forget.form.mobileCode||"undefined"==this.forget.form.mobileCode)return this.errorMsg="请输入您的验证码",!1;if(""==this.forget.form.passWord||"undefined"==this.forget.form.passWord)return this.errorMsg="请输入至少6位新密码",!1;if(""==this.forget.form.newspassWord||"undefined"==this.forget.form.newspassWord)return this.errorMsg="再次确认新密码",!1;if(t!==e)return this.errorMsg="密码不一致，请重新输入",!1}}else if(4==this.currentIndex){if(""==this.login.form.loginName||"undefined"==this.login.form.loginName)return this.errorMsg="请输入您的手机号",!1;if(!/^1[3456789]\d{9}$/.test(this.login.form.loginName))return this.errorMsg="请输入正确的手机号",!1;if(""==this.login.form.authcode||"undefined"==this.login.form.authcode)return this.errorMsg="请输入您的验证码",!1}return this.errorMsg="",!0},debounce(t,e){null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(t,e)},mobileEncryption(t){if(""!=t&&void 0!=t){var e=t.replace(/^(\d{3})\d{4}(\d+)/,"$1****$2");return e}},mobileInput(t){this.checkMobileFlag=!1,11===t.length&&(this.bindMobileShow?(this.currentIndex=-1,this.checkMobile(1,this.bindMobile.form.loginName)):this.updateMobileShow?(this.currentIndex=-1,this.checkMobile(7,this.updateMobile.form.loginName)):1==this.currentIndex?this.checkMobile(2,this.register.form.loginName):3==this.currentIndex?this.checkMobile(6,this.forget.form.loginName):4==this.currentIndex&&this.checkMobile(3,this.login.form.loginName))},codeInput(t){this.checkSmsFlag=!1,6==t.length&&(this.updateMobileShow?(this.currentIndex=-1,this.oldMobileShow?this.smsCheck(5,this.currUser.phone,this.updateMobile.form.code):this.newsMobileShow&&this.smsCheck(7,this.updateMobile.form.loginName,this.updateMobile.form.newCode)):this.bindMobileShow?(this.currentIndex=-1,this.smsCheck(1,this.bindMobile.form.loginName,this.bindMobile.form.code)):1==this.currentIndex?this.smsCheck(2,this.register.form.loginName,this.register.form.mobileCode):3==this.currentIndex?this.smsCheck(6,this.forget.form.loginName,this.forget.form.mobileCode):4==this.currentIndex&&this.smsCheck(3,this.login.form.loginName,this.login.form.authcode))}}};var N=E,R={data(){return{showtype:1,seepwd:!1,seepwdNews:!1,loading:!1,carousellist:[],carousel:{arrow:"never",interval:5e3,height:"75vh",trigger:"click"},login:{form:{loginName:"",passWord:"",authcode:""}},register:{form:{loginName:"",passWord:"",nick:"",mobileCode:"",email:"",emailPassword:""}},forget:{form:{loginName:"",mobileCode:"",passWord:"",newspassWord:""}},show:!1,regshow:!1,regmsg:"",sendSuccess:!1,emailCheckIcon:s("4a0e"),emailCheck:!1,emailSeepwd:!1,loginOther:"验证码登录",tabIndex:0,tabTitle:"密码登录",changeFlage:!1,loginType:"im-login",loginTypeArr:[{img:s("07cf"),isClicl:!0,title:"IM账号",class:"loginType-select",type:"im-login"}]}},components:{Dialog:d["a"],Verify:B},created(){let t="";for(let e=1;e<6;e++)t=s("55cd")("./swiper"+e+".png"),this.carousellist.push(t)},mixins:[N],methods:{change(t,e,i){this.tabIndex=e,this.tabTitle=i,this.changeFlage=!1,this.currentIndex=t,this.errorMsg="",this.login=this.$options.data().login,this.register=this.$options.data().register,this.sendSuccess=!1,this.checkMobileFlag=!1,this.checkSmsFlag=!1,this.mobileTipsFlag=!1,this.mobileTips="获取验证码",this.emailCheck=!1,this.emailCheckIcon=s("4a0e"),clearInterval(this.deltimer)},changeSeePwd(){this.seepwd=!this.seepwd},toLogin(){var t=this;t.debounce((function(){if(1==t.showtype){let e=t.rules();if(!e)return;t.userLogin()}}),300)},toRegister(){let t=this.rules(),e=this.checkSmsFlag,s=this.checkMobileFlag;t&&(this.checkMobile(2,this.register.form.loginName),s&&(this.smsCheck(2,this.register.form.loginName,this.register.form.mobileCode),e&&this.userRegister()))},toRegbindemail(){let t=this.rules();this.checkSmsFlag,this.checkMobileFlag;t&&this.regbindemail()},regbindemail(){let{loginName:t,mobileCode:e,email:s,emailPassword:i}=this.register.form,a="$",r="{",o="}",c=`${a}${r}${s}${o}${i}`,d=l.a.MD5(l.a.enc.Latin1.parse(c)).toString(),u=l.a.MD5(l.a.enc.Latin1.parse(i)).toString(),h={phone:t,emailpwd:d,phonepwd:u,code:e,email:s,agreement:"on"};n["l"].userRegbindemail(h).then(t=>{t.ok?(this.regmsg=t.msg||"注册成功",this.regshow=!0):Object(n["j"])(t.msg)})},userLogin(){this.$refs.loginform.validate(async t=>{if(t){let{loginName:t,passWord:e,authcode:s}=this.login.form,i=l.a.MD5(l.a.enc.Latin1.parse(e)).toString();""!=s&&(i="");let a={loginname:t,pd5:i,authcode:s};n["l"].userLogin(a).then(t=>{if(t.ok){n["l"].changeUserOnlineState({uid:t.data.id,isonline:1}).then(t=>{});var e=this.getQueryString("redirect_uri_after_login");e?window.location.href=e:this.$router.push({path:"/home"})}else Object(n["j"])(t.msg)})}})},userRegister(){this.$refs.registerform.validate(async t=>{if(t){let{loginName:t,passWord:e,nick:s,mobileCode:i}=this.register.form,a=l.a.MD5(l.a.enc.Latin1.parse(e)).toString(),r={loginname:t,pwd:a,code:i,nick:s,agreement:"on"};n["l"].userRegister(r).then(t=>{t.ok?(this.regmsg=t.msg||"注册成功",this.regshow=!0):Object(n["j"])(t.msg)})}})},checkPassword(){this.rules()},findPassWord(){let t=this.rules();if(!t)return;if(this.smsCheck(6,this.forget.form.loginName,this.forget.form.mobileCode),!this.checkSmsFlag)return;let{loginName:e,passWord:s,mobileCode:i}=this.forget.form,a={phone:e,code:i},r=l.a.MD5(l.a.enc.Latin1.parse(s)).toString(),o={code:i,phone:e,phonepwd:r,emailpwd:""};n["l"].userResetPwdBefore(a).then(t=>{if(t.ok){if(""!=t.data.email){t.data.email;let e=l.a.MD5(l.a.enc.Latin1.parse(s)).toString();o.emailpwd=e}n["l"].userResetPwd(o).then(t=>{t.ok?(this.regmsg=t.msg||"密码重置成功",this.regshow=!0):this.regshow=!0})}else Object(n["j"])(t.msg)})},verifySuccess(t){let e=this.currentIndex,s=t.captchaVerification;4===e?this.getMobileCode(3,this.login.form.loginName,s):3===e?this.getMobileCode(6,this.forget.form.loginName,s):1===e&&this.getMobileCode(2,this.register.form.loginName,s)},hideDialog(){this.show=!1,this.currentIndex=0,this.errorMsg=""},hideRegDialog(){this.regshow=!1,this.currentIndex=0},loginClick(){this.list=[{title:"密码登录",index:0},{title:"账号注册",index:1}],this.currentIndex=0,this.tabIndex=0,this.tabTitle="密码登录",this.loginOther="验证码登录",this.changeFlage=!1,this.sendSuccess=!1,this.emailCheckIcon=s("4a0e"),this.emailCheck=!1,this.emailSeepwd=!1,this.errorMsg="",this.login=this.$options.data().login,this.register=this.$options.data().register,this.forget=this.$options.data().forget,this.seepwd=!1,this.seepwdNews=!1},changeLogin(){let t=this.tabIndex;if(this.errorMsg="",-1!=t){if(this.changeFlage=!this.changeFlage,this.changeFlage)this.list[t].title=this.loginOther,this.loginOther=this.tabTitle;else{let e=this.list[t].title;this.list[t].title=this.loginOther,this.loginOther=e}"验证码登录"==this.list[t].title?(this.list[t].index=4,this.switchClick(4)):"密码登录"==this.list[t].title?(this.list[t].index=0,this.currentIndex=0):"账号注册"==this.list[t].title&&(this.list[t].index=1,this.currentIndex=1),this.login=this.$options.data().login,this.register=this.$options.data().register,this.forget=this.$options.data().forget,this.seepwd=!1,this.seepwdNews=!1}},switchClick(t){this.currentIndex=t,this.errorMsg="",this.login=this.$options.data().login,this.register=this.$options.data().register,this.forget=this.$options.data().forget,this.sendSuccess=!1,this.checkMobileFlag=!1,this.checkSmsFlag=!1,this.mobileTipsFlag=!1,this.mobileTips="获取验证码",this.emailCheck=!1,this.emailCheckIcon=s("4a0e"),clearInterval(this.deltimer)},emailCheckClick(){this.emailCheck=!this.emailCheck,this.errorMsg="",this.emailCheck?this.emailCheckIcon=s("268e"):this.emailCheckIcon=s("4a0e")},getQueryString(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),s=window.location.search.substr(1).match(e);if(null!=s){var i=s[2];return decodeURIComponent(i)}return null},adminlogin(){let{loginName:t,passWord:e,authcode:s}=this.login.form;if(""==t)return void(this.errormsg="请输入用户名");if(""==e)return void(this.errormsg="请输入密码");this.loading=!0;let i=l.a.MD5(l.a.enc.Latin1.parse(e)).toString(),a={username:t,password:i};n["l"].ndapiLogin(a).then(t=>{if(t.ok){var e=this.getQueryString("redirect_uri_after_login");e?window.location.href=e:this.$router.push({path:"/home"})}else Object(n["j"])("账号不存在")})},chooesLoginType(t){let e=0==t?1:0;this.loginType=this.loginTypeArr[t].type,this.loginTypeArr[t].img=s("07cf"),this.loginTypeArr[t].class="loginType-select",this.loginTypeArr[e].img=s("8e99"),this.loginTypeArr[e].class=""}}},U=R,_=(s("b377"),Object(C["a"])(U,r,o,!1,null,"6bb5f8b9",null)),D=_.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tioimcontainer"},[s("div",{staticClass:"bodycontent",attrs:{id:"bodycontent"}},[s("NavBar"),s("router-view")],1),s("Call")],1)},F=[],Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"navbar"},[i("div",{staticClass:"nav-top user"},[i("el-image",{staticClass:"user-avatar",attrs:{src:t.currUser.avatar},on:{click:function(e){return e.stopPropagation(),t.showUserCard(e)}}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")},on:{click:function(e){return e.stopPropagation(),t.showUserCard(e)}}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"userinfo",on:{click:function(e){return e.stopPropagation(),t.stopProp(e)}}},[i("div",{staticClass:"baseinfo"},[i("img",{staticClass:"base-bg",attrs:{src:t.currUser.avatar}}),i("div",{staticClass:"info-avatar"},[i("el-image",{staticClass:"info-avatar",attrs:{src:t.currUser.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{staticClass:"hoverblack",on:{click:function(e){return t.showUpdateInfo(2)}}}),i("img",{staticClass:"hover-icon",attrs:{src:s("914e")},on:{click:function(e){return t.showUpdateInfo(2)}}})],1),i("p",{staticClass:"user-nick"},[t._v(t._s(t.currUser.nick))]),i("p",{staticClass:"user-loginname"},[t._v(t._s(t.currUser.loginname))]),i("div",{staticClass:"qrCode",on:{click:function(e){t.infoQrCode=!t.infoQrCode}}})]),i("div",{staticClass:"detail-info"},[i("div",{staticClass:"info-item"},[i("label",{staticClass:"info-item_label"},[t._v("签名")]),i("span",{staticClass:"info-item_col"},[t._v(t._s(t.currUser.sign||"暂无签名"))])]),i("div",{staticClass:"info-item"},[i("label",{staticClass:"info-item_label"},[t._v("地区")]),i("span",{staticClass:"info-item_col"},[t._v(t._s(t.currUser.province)+" "+t._s(t.currUser.city))])]),i("div",{staticClass:"info-item"},[i("label",{staticClass:"info-item_label"},[t._v("设置")]),i("div",{staticClass:"info-item_col"},[i("p",{staticClass:"info-item_set"},[i("span",{staticClass:"search-set"},[t._v("允许别人搜到我")]),i("span",{staticClass:"search-status"},[t._v(" "+t._s(1==t.currUser.searchflag?"已开启":"已关闭")+" ")])]),i("p",{staticClass:"info-item_set"},[i("span",{staticClass:"search-set"},[t._v("加好友时需要验证")]),i("span",{staticClass:"search-status"},[t._v(" "+t._s(1==t.currUser.fdvalidtype?"已开启":"已关闭")+" ")])])])])]),i("div",{staticClass:"info-group-btn"},[i("button",{staticClass:"primarybtn",on:{click:function(e){return t.showUpdateInfo(1)}}},[t._v("修改信息")]),i("button",{staticClass:"primarybtn default",on:{click:t.sendMsg}},[t._v("发消息")])])])],1),i("div",{staticClass:"nav-center"},[i("div",{class:["navbar-icon navbar-chat","/home"==t.currentRoute?"active":""],on:{click:function(e){return t.toRoute("/home")}}},[i("span",[t._v("聊天")]),0!=t.allNotRead?i("span",{staticClass:"notread notreadwid"},[t._v(t._s(t.allNotRead))]):t._e()]),i("div",{class:["navbar-icon navbar-friends","/friend"==t.currentRoute?"active":""],on:{click:function(e){return t.toRoute("/friend")}}},[i("span",[t._v("好友")]),0!=t.noReadApply?i("span",{staticClass:"notread notreadwid"},[t._v(t._s(t.noReadApply))]):t._e()]),i("div",{class:["navbar-icon navbar-groups","/group"==t.currentRoute?"active":""],on:{click:function(e){return t.toRoute("/group")}}},[i("span",[t._v("群聊")])])]),i("div",{staticClass:"nav-footer",on:{click:function(e){return e.stopPropagation(),t.stopProp(e)}}},[i("i",{class:["iconfont iconIMweb_more",t.moreshow?"active":""],on:{click:t.showMoreOper}}),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.moreshow,expression:"moreshow"}],staticClass:"more-oper"},[i("li",{staticClass:"more-item",on:{click:function(e){return e.stopPropagation(),t.updateShow(t.currUser.phonebindflag)}}},[i("img",{staticClass:"jhbgvfdd",attrs:{src:s("eb08"),alt:"",srcset:""}}),i("span",[t._v(t._s(1==t.currUser.phonebindflag?"修改手机":2==t.currUser.phonebindflag?"绑定手机":""))])]),i("li",{staticClass:"more-item",on:{click:t.showUpdatePwd}},[i("i",{staticClass:"iconfont iconPassword"}),i("span",[t._v("修改密码")])]),i("li",{staticClass:"more-item",on:{click:t.showLogOut}},[i("i",{staticClass:"iconfont iconttubiao_signout"}),i("span",[t._v("退出登录")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.collectShowFlag,expression:"collectShowFlag"}],staticClass:"collect_list"},[i("div",{staticClass:"collect-header"},[i("span",[t._v("我的收藏")]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel cancel cursor",attrs:{size:"14px"},on:{click:function(e){t.collectShowFlag=!1}}})]),i("div",{staticClass:"collect-content"},[i("ul",{staticClass:"tab-list"},[t._l(t.tabList,(function(e,s){return i("li",{key:s,class:["tab-item cursor",t.tabIndex==s?"tab_select":""],on:{click:function(e){return t.switchTab(s)}}},[t._v(" "+t._s(e.title)+" "),i("p")])})),i("li",{staticClass:"choessMore"},[t._v("多选")])],2)])]),i("CurrInfo",{attrs:{infoshow:t.infoshow,userinfo:t.userinfo,type:t.infotype},on:{"update:infoshow":function(e){t.infoshow=e}}}),i("UpdatePwd",{attrs:{pwdshow:t.pwdshow},on:{hideUpdatePwd:t.hideUpdatePwd}}),i("LogOut",{attrs:{outshow:t.outshow},on:{"update:outshow":function(e){t.outshow=e}}}),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.bindMobileShow,expression:"bindMobileShow"}]},[i("div",{staticClass:"bindMobile-modelbody modelbody"},[i("div",{staticClass:"bindMobile-header"},[i("p",[t._v("绑定手机号")]),i("p",[t._v("根据国家有关法律法规要求，使用互联网服务需进行账号实名，请绑定实名手机号。")])]),i("el-form",{staticClass:"user-form",attrs:{model:t.bindMobile.form}},[i("el-form-item",{attrs:{prop:"loginName"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("eb08"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{type:"text",maxlength:"11",placeholder:"请输入您的手机号"},on:{input:t.mobileInput},model:{value:t.bindMobile.form.loginName,callback:function(e){t.$set(t.bindMobile.form,"loginName",e)},expression:"bindMobile.form.loginName"}})],1)]),i("el-form-item",{attrs:{prop:"mobileCode"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("c329"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{type:"text",placeholder:"请输入您的验证码"},on:{input:t.codeInput},model:{value:t.bindMobile.form.code,callback:function(e){t.$set(t.bindMobile.form,"code",e)},expression:"bindMobile.form.code"}}),i("p",{class:[t.mobileTipsFlag?"countDown":"","get-mobileCode"],staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),!t.mobileTipsFlag&&t.getVerify(t.bindMobile.form.loginName)}}},[t._v(t._s(t.mobileTips))])],1)]),i("el-form-item",{attrs:{prop:"passWord"}},[i("div",{staticClass:"input-row"},[i("i",{staticClass:"iconfont iconttubiao_password"}),i("el-input",{class:["user-input",t.seepwd?"":"inputPsd"],attrs:{placeholder:"请输入当前账号密码",autoComplete:"off"},model:{value:t.bindMobile.form.passWord,callback:function(e){t.$set(t.bindMobile.form,"passWord",e)},expression:"bindMobile.form.passWord"}}),i("i",{class:["iconfont cursor icon-pwd",t.seepwd?"iconttubiao_display":"iconttubiao_hide"],on:{click:function(e){t.seepwd=!t.seepwd}}})],1)]),i("div",{staticClass:"bot-group"},[i("span",[t._v(t._s(t.errorMsg))])]),i("div",{staticClass:"bindMobile-button-group"},[i("p",{staticClass:"bindMobile-primarybtn cursor",on:{click:t.hideRegDialog}},[t._v("取消")]),i("input",{staticClass:"primarybtn bindMobile-primarybtn cursor",attrs:{disabled:t.checkMobileFlag&&!t.checkSmsFlag||!t.checkMobileFlag&&t.checkSmsFlag||!t.checkMobileFlag&&!t.checkMobileFlag,readonly:"readonly",value:"确定"},on:{click:t.bindMobileClik}})])],1)],1)]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.updateMobileShow,expression:"updateMobileShow"}]},[i("div",{staticClass:"updateMobile-modelbody modelbody"},[i("div",{staticClass:"updateMobile-header"},[i("p",[t._v("修改手机号")]),i("div",{staticClass:"step-list"},[i("ul",{staticClass:"step-ul"},[i("li",{style:{background:t.oldMobileShow?"#3596FC":"#F1F1F1"}}),i("li",{style:{background:t.newsMobileShow&&!t.mobileSucShow?"#3596FC":"#F1F1F1"}}),i("li",{style:{background:t.mobileSucShow?"#3596FC":"#F1F1F1"}})])]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.oldMobileShow,expression:"oldMobileShow"}],staticClass:"updateMobile-Tips"},[t._v("短信验证码将发送至当前手机号："+t._s(t.mobileEncryption(t.currUser.phone)))])]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel cursor",attrs:{size:"14px"},on:{click:function(e){t.updateMobileShow=!t.updateMobileShow}}}),i("el-form",{staticClass:"user-form",attrs:{model:t.updateMobile.form}},[i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.oldMobileShow,expression:"oldMobileShow"}],attrs:{prop:"mobileCode"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("c329"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{type:"text",placeholder:"请输入您的验证码"},on:{input:t.codeInput},model:{value:t.updateMobile.form.code,callback:function(e){t.$set(t.updateMobile.form,"code",e)},expression:"updateMobile.form.code"}}),i("p",{class:[t.mobileTipsFlag?"countDown":"","get-mobileCode"],on:{click:function(e){e.stopPropagation(),!t.mobileTipsFlag&&t.getVerify(t.currUser.phone)}}},[t._v(t._s(t.mobileTips))])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.oldMobileShow,expression:"oldMobileShow"}],staticClass:"bot-group"},[i("span",[t._v(t._s(t.errorMsg))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.oldMobileShow,expression:"oldMobileShow"}],staticClass:"updateMobile-button-group"},[i("input",{staticClass:"primarybtn updateMobile-primarybtn cursor",attrs:{disabled:!t.checkSmsFlag,readonly:"readonly",value:"下一步"},on:{click:t.nextStepClick}})]),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.newsMobileShow,expression:"newsMobileShow"}],attrs:{prop:"loginName"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("eb08"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{type:"text",maxlength:"11",placeholder:"请输入您的手机号"},on:{input:t.mobileInput},model:{value:t.updateMobile.form.loginName,callback:function(e){t.$set(t.updateMobile.form,"loginName",e)},expression:"updateMobile.form.loginName"}})],1)]),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.newsMobileShow,expression:"newsMobileShow"}],attrs:{prop:"mobileCode"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("c329"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{type:"number",placeholder:"请输入您的验证码",autoComplete:"new-password"},on:{input:t.codeInput},model:{value:t.updateMobile.form.newCode,callback:function(e){t.$set(t.updateMobile.form,"newCode",e)},expression:"updateMobile.form.newCode"}}),i("p",{class:[t.mobileTipsFlag?"countDown":"","get-mobileCode"],on:{click:function(e){e.stopPropagation(),!t.mobileTipsFlag&&t.getVerify(t.updateMobile.form.loginName)}}},[t._v(t._s(t.mobileTips))])],1)]),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.newsMobileShow,expression:"newsMobileShow"}],attrs:{prop:"passWord"}},[i("div",{staticClass:"input-row"},[i("i",{staticClass:"iconfont iconttubiao_password"}),i("el-input",{class:["user-input",t.seepwd?"":"inputPsd"],attrs:{placeholder:"请输入当前账号密码",autoComplete:"off"},model:{value:t.updateMobile.form.passWord,callback:function(e){t.$set(t.updateMobile.form,"passWord",e)},expression:"updateMobile.form.passWord"}}),i("i",{class:["iconfont cursor icon-pwd",t.seepwd?"iconttubiao_display":"iconttubiao_hide"],on:{click:function(e){t.seepwd=!t.seepwd}}})],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.newsMobileShow,expression:"newsMobileShow"}],staticClass:"bot-group"},[i("span",[t._v(t._s(t.errorMsg))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.newsMobileShow,expression:"newsMobileShow"}],staticClass:"updateMobile-button-group"},[i("p",{staticClass:"cursor updateMobile-primarybtn",on:{click:t.updateMobileClik}},[t._v("提交")])])],1)],1)]),i("Verify",{ref:"verify",attrs:{captchaType:"blockPuzzle",imgSize:{width:"400px",height:"200px"}},on:{success:t.verifySuccess}}),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.mobileSucShow,expression:"mobileSucShow"}]},[i("div",{staticClass:"modelbody"},[i("div",{staticClass:"model-success-icon"},[i("img",{attrs:{src:s("06b7"),alt:"",srcset:""}})]),i("p",{staticClass:"success-password"},[t._v(t._s(t.regmsg))]),i("p",{staticClass:"success-register"},[t._v(t._s(t.successMsg))]),i("div",{staticClass:"button-group"},[i("p",{staticClass:"cursor primarybtn",on:{click:t.hideRegDialog}},[t._v("返回登录")])])])]),i("Otherlogin",{directives:[{name:"show",rawName:"v-show",value:t.othershow,expression:"othershow"}],attrs:{ortherLogin:t.ortherLogin}}),i("qrCode",{attrs:{infoQrCode:t.infoQrCode,codeValue:t.codeValue,user_avatar:t.user_avatar,currUser:t.currUser,qrmsg:t.qrmsg},on:{"update:infoQrCode":function(e){t.infoQrCode=e},"update:info-qr-code":function(e){t.infoQrCode=e},hideInfoQrCode:t.hideInfoQrCode}})],1)},T=[],P=s("2f62"),W=s("7401"),z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.pwdshow,expression:"pwdshow"}]},[s("div",{staticClass:"modelbody"},[s("p",{staticClass:"title"},[t._v("修改密码")]),s("el-form",{ref:"updateform",staticClass:"update-form",attrs:{model:t.form,rules:t.rules}},[s("el-form-item",{attrs:{prop:"oldpwd"}},[s("div",{staticClass:"input-row"},[s("label",[t._v("原密码")]),s("el-input",{staticClass:"user-input",attrs:{type:"password",placeholder:"请输入原密码",clearable:""},model:{value:t.form.oldpwd,callback:function(e){t.$set(t.form,"oldpwd",e)},expression:"form.oldpwd"}})],1)]),s("el-form-item",{attrs:{prop:"newpwd"}},[s("div",{staticClass:"input-row"},[s("label",[t._v("新密码")]),s("el-input",{staticClass:"user-input",attrs:{type:"password",placeholder:"请输入新密码",clearable:""},model:{value:t.form.newpwd,callback:function(e){t.$set(t.form,"newpwd",e)},expression:"form.newpwd"}})],1)]),s("el-form-item",{attrs:{prop:"surepwd"}},[s("div",{staticClass:"input-row"},[s("label",[t._v("确认新密码")]),s("el-input",{staticClass:"user-input",attrs:{type:"password",placeholder:"请确认新密码",clearable:""},model:{value:t.form.surepwd,callback:function(e){t.$set(t.form,"surepwd",e)},expression:"form.surepwd"}})],1)])],1),s("div",{staticClass:"button-group"},[s("button",{staticClass:"primarybtn default",on:{click:t.cancleUpdate}},[t._v("取消")]),s("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.saveUpdate}},[t._v("保存")])])],1)])},V=[],Y={props:["pwdshow"],data(){let t=(t,e,s)=>e?e!=this.form.newpwd?s(new Error("两次输入密码不一致")):void s():s(new Error("请确认新密码"));return{loading:!1,form:{oldpwd:"",newpwd:"",surepwd:""},rules:{oldpwd:[{required:!0,message:"请输入原密码",trigger:"blur"}],newpwd:[{required:!0,message:"请输入新密码",trigger:"blur"}],surepwd:[{validator:t,trigger:"blur"}]}}},methods:{cancleUpdate(){this.$emit("hideUpdatePwd",!1),this.$refs["updateform"].resetFields()},saveUpdate(){this.$refs.updateform.validate(async t=>{if(t){this.loading=!0;let t=this.$store.state.User.currUser,{oldpwd:e,newpwd:s}=this.form,i="$",a="{",r="}",o={initPwd:e};if(t.phone){let e=`${i}${a}${t.phone}${r}${s}`,n=l.a.MD5(l.a.enc.Latin1.parse(e)).toString();o.newPwd=n}if(t.email){let e=`${i}${a}${t.email}${r}${s}`,n=l.a.MD5(l.a.enc.Latin1.parse(e)).toString();o.emailpwd=n}let c=await n["l"].updatePwd(o);c.ok?(n["l"].logout().then(t=>{location.reload()}),Object(n["j"])("修改成功,请重新登录")):Object(n["j"])(c.msg),this.loading=!1}})}}},K=Y,J=(s("ae2d"),Object(C["a"])(K,z,V,!1,null,"08a6eb6e",null)),H=J.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.infoshow&&1==t.type,expression:"infoshow&&type==1"}]},[s("div",{staticClass:"modelbody"},[s("p",{staticClass:"title"},[t._v("修改个人信息")]),s("div",{staticClass:"update-item"},[s("label",{staticClass:"update-item_label"},[t._v("账号")]),s("span",{staticClass:"update-col"},[t._v(t._s(t.userinfo.loginname))])]),s("div",{staticClass:"update-item"},[s("label",{staticClass:"update-item_label"},[t._v("昵称")]),s("div",{staticClass:"update-col input-col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userinfo.nick,expression:"userinfo.nick"}],attrs:{type:"text",maxlength:"30"},domProps:{value:t.userinfo.nick},on:{input:function(e){e.target.composing||t.$set(t.userinfo,"nick",e.target.value)}}}),s("span",{staticClass:"num-count"},[t._v(t._s(t.userinfo.nick?t.userinfo.nick.length:0)+"/30")])])]),s("div",{staticClass:"update-item"},[s("label",{staticClass:"update-item_label self-label_top"},[t._v("签名")]),s("div",{staticClass:"update-col update-sign"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userinfo.sign,expression:"userinfo.sign"}],attrs:{maxlength:"50"},domProps:{value:t.userinfo.sign},on:{input:function(e){e.target.composing||t.$set(t.userinfo,"sign",e.target.value)}}}),s("p",{staticClass:"num-count"},[t._v(t._s(t.userinfo.sign?t.userinfo.sign.length:0)+"/50")])])]),s("div",{staticClass:"update-item"},[s("label",{staticClass:"update-item_label"},[t._v("性别")]),s("div",{staticClass:"sex-col"},[s("el-select",{staticClass:"sex-select",attrs:{placeholder:"请选择"},model:{value:t.userinfo.sex,callback:function(e){t.$set(t.userinfo,"sex",e)},expression:"userinfo.sex"}},t._l(t.sexList,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),s("div",{staticClass:"update-item"},[s("label",{staticClass:"update-item_label self-label_top"},[t._v("地区")]),s("div",{staticClass:"update-col"},[s("p",[t._v(t._s(t.userinfo.province)+" "+t._s(t.userinfo.city))]),s("p",{staticClass:"area-tips"},[t._v("(注册IP归属地，暂不支持修改)")])])]),s("div",{staticClass:"update-item"},[s("label",{staticClass:"update-item_label self-label_top"},[t._v("设置")]),s("div",{staticClass:"update-col"},[s("p",{staticClass:"info-item_set"},[s("span",{staticClass:"search-set"},[t._v("允许别人搜到我")]),s("span",{staticClass:"search-status"},[s("label",{staticClass:"tioim-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchflag,expression:"searchflag"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.searchflag)?t._i(t.searchflag,null)>-1:t.searchflag},on:{change:function(e){var s=t.searchflag,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);i.checked?o<0&&(t.searchflag=s.concat([r])):o>-1&&(t.searchflag=s.slice(0,o).concat(s.slice(o+1)))}else t.searchflag=a}}})])])]),s("p",{staticClass:"info-item_set"},[s("span",{staticClass:"search-set"},[t._v("加好友时需要验证")]),s("span",{staticClass:"search-status"},[s("label",{staticClass:"tioim-switch"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fdvalidtype,expression:"fdvalidtype"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.fdvalidtype)?t._i(t.fdvalidtype,null)>-1:t.fdvalidtype},on:{change:function(e){var s=t.fdvalidtype,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);i.checked?o<0&&(t.fdvalidtype=s.concat([r])):o>-1&&(t.fdvalidtype=s.slice(0,o).concat(s.slice(o+1)))}else t.fdvalidtype=a}}})])])])])]),s("div",{staticClass:"button-group"},[s("button",{staticClass:"primarybtn default",on:{click:t.hideUpdateInfo}},[t._v("取消")]),s("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.saveUpdateUser}},[t._v("保存")])])])]),s("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.infoshow&&2==t.type,expression:"infoshow&&type==2"}]},[s("div",{staticClass:"modelbody tailoring-container"},[s("div",{staticClass:"ff44 tailoring-content-two"},[s("div",{staticClass:"tailoring-box-parcel"},[s("img",{attrs:{id:"tailoringImg"}})]),s("div",{staticClass:"preview-box-parcel"},[s("div",{staticClass:"square previewImg"}),s("div",{staticClass:"middle_square previewImg"}),s("div",{staticClass:"middle_circular previewImg"}),s("div",{staticClass:"small_square previewImg"}),s("div",{staticClass:"small_circular previewImg"}),s("div",{attrs:{id:"cropper_data"}},[t._v(" 宽："),s("span",{attrs:{id:"dataWidth"}},[t._v(t._s(t.txcropper.width))]),t._v(" 高："),s("span",{attrs:{id:"dataHeight"}},[t._v(t._s(t.txcropper.height))])])])]),s("div",{staticClass:"tailoring-content-three"},[s("div",{staticClass:"btn-group-left"},[s("button",{staticClass:"commonbtn cropper-reset-btn",on:{click:t.cropperReset}},[t._v("复位")]),s("button",{staticClass:"commonbtn cropper-rotate-btn",on:{click:t.cropperRotate}},[t._v("旋转")]),s("button",{staticClass:"commonbtn cropper-scaleX-btn",on:{click:t.cropperflagX}},[t._v("换向")])]),s("div",{staticClass:"btn-group-right"},[s("button",{staticClass:"primarybtn",attrs:{title:"选择图片"}},[s("input",{staticClass:"hidefile",attrs:{type:"file",accept:"image/jpg, image/jpeg, image/png, image/gif",name:"file",id:"chooseImg"},on:{change:t.changeAvatar}}),t._v(" 选择图片 ")]),s("button",{staticClass:"primarybtn",on:{click:t.sureCut}},[t._v("提 交")]),s("button",{staticClass:"primarybtn",on:{click:t.closeCropper}},[t._v(" 关 闭")])])])])])],1)},X=[],Z=s("0f53"),$=Z["a"],tt=(s("e939"),Object(C["a"])($,q,X,!1,null,"3f59d806",null)),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.outshow,expression:"outshow"}]},[s("div",{staticClass:"modelbody"},[s("p",{staticClass:"singletitle"},[t._v("确定要退出当前账号吗？")]),s("div",{staticClass:"button-group"},[s("button",{staticClass:"primarybtn default",on:{click:t.hideLogOut}},[t._v("取消")]),s("button",{staticClass:"primarybtn",on:{click:t.sureLogOut}},[t._v("确定")])])])])},it=[],at=s("4e08"),rt=s("3a23"),ot={props:["outshow"],computed:{...Object(P["d"])({chatOn:t=>t.Ws.chatOn,uid:t=>t.User.currUid})},methods:{hideLogOut(){this.$emit("update:outshow",!1)},sureLogOut(){this.chatOn&&Object(at["a"])(rt["c"].WxSessionOperReq,{chatlinkid:this.chatOn,oper:2}),n["l"].changeUserOnlineState({uid:this.uid,isonline:0}).then(t=>{}),n["l"].logout().then(t=>{location.reload()})}}},nt=ot,ct=Object(C["a"])(nt,st,it,!1,null,null,null),lt=ct.exports,dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Dialog",[i("div",{staticClass:"other-modelbody modelbody"},[i("div",{staticClass:"other-header"},[i("p",[t._v("绑定手机号")]),i("p",[t._v("根据国家有关法律法规要求，使用互联网服务需进行账号实名，请绑定实名手机号。")])]),i("el-form",{ref:"ortherLoginform",staticClass:"user-form",attrs:{model:t.ortherLogin.form}},[i("el-form-item",{attrs:{prop:"loginName"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("eb08"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{maxlength:"11",placeholder:"请输入您的手机号"},on:{input:t.OthMobileInput},model:{value:t.ortherLogin.form.loginName,callback:function(e){t.$set(t.ortherLogin.form,"loginName",e)},expression:"ortherLogin.form.loginName"}})],1)]),i("el-form-item",{attrs:{prop:"mobileCode"}},[i("div",{staticClass:"input-row"},[i("img",{staticClass:"iconfont",attrs:{src:s("c329"),alt:"",srcset:""}}),i("el-input",{staticClass:"user-input",attrs:{type:"text",placeholder:"请输入您的验证码"},on:{input:t.otherCodeInput},model:{value:t.ortherLogin.form.code,callback:function(e){t.$set(t.ortherLogin.form,"code",e)},expression:"ortherLogin.form.code"}}),i("p",{class:[t.mobileTipsFlag?"countDown":"","get-mobileCode"],staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),!t.mobileTipsFlag&&t.getVerify(t.ortherLogin.form.loginName)}}},[t._v(t._s(t.mobileTips))])],1)]),i("div",{staticClass:"bot-group"},[i("span",[t._v(t._s(t.errorMsg))])]),i("div",{staticClass:"other-button-group"},[i("p",{staticClass:"other-primarybtn cursor",on:{click:t.cancel}},[t._v("取消")]),i("input",{staticClass:"primarybtn other-primarybtn cursor",attrs:{disabled:t.checkMobileFlag&&!t.checkSmsFlag||!t.checkMobileFlag&&t.checkSmsFlag||!t.checkMobileFlag&&!t.checkMobileFlag,readonly:"readonly",value:"提交"},on:{click:t.bindMobile}})])],1)],1)]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.tipsShow,expression:"tipsShow"}]},[i("div",{staticClass:"tipsShow-modelbody modelbody"},[i("div",{staticClass:"other-header"},[i("p",{staticStyle:{"line-height":"34px"}},[t._v(" 该手机号已注册，如绑定至该手机，"),i("br"),t._v(" 则当前三方账号将清空，是否绑定该手机？ ")])]),i("div",{staticClass:"tipsShow-button-group"},[i("p",{staticClass:"tipsShow-primarybtn cancelBtn cursor",on:{click:function(e){t.tipsShow=!1,t.ortherLogin.form.loginName=""}}},[t._v("换其他手机")]),i("p",{staticClass:"tipsShow-primarybtn cursor",on:{click:function(e){return t.getVerify(t.ortherLogin.form.loginName)}}},[t._v("绑定该手机")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.errorTipsShow,expression:"errorTipsShow"}]},[i("div",{staticClass:"tipsShow-modelbody modelbody"},[i("div",{staticClass:"other-header"},[i("p",[t._v(t._s(t.regmsg))])]),i("div",{staticClass:"tipsShow-button-group"},[i("p",{staticClass:"tipsShow-primarybtn cursor",on:{click:function(e){t.errorTipsShow=!1}}},[t._v("确定")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.successShow,expression:"successShow"}]},[i("div",{staticClass:"modelbody"},[i("div",{staticClass:"model-success-icon"},[i("img",{attrs:{src:s("06b7"),alt:"",srcset:""}})]),i("p",{staticClass:"success-register"},[t._v(t._s(t.regmsg))]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn cursor",on:{click:t.successify}},[t._v("确定")])])])]),i("Verify",{ref:"verify",attrs:{captchaType:"blockPuzzle",imgSize:{width:"400px",height:"200px"}},on:{success:t.verifySuccess}})],1)},ut=[],ht={data(){return{tipsShow:!1,errorTipsShow:!1,successShow:!1,regmsg:""}},props:["ortherLogin"],components:{Verify:B,Dialog:d["a"]},mixins:[N],mounted(){},methods:{verifySuccess(t){let e=t.captchaVerification;this.getMobileCode(8,this.ortherLogin.form.loginName,e),this.tipsShow=!1},OthMobileInput(t){this.errorMsg="",11===t.length&&(this.currentIndex=-1,this.checkOtherMobile(8,this.ortherLogin.form.loginName))},otherCodeInput(t){this.errorMsg="",this.checkSmsFlag=!1,6==t.length&&(this.currentIndex=-1,this.smsCheck(8,this.ortherLogin.form.loginName,this.ortherLogin.form.code))},checkOtherMobile(t,e){if(""==e||"undefined"==e)return this.errorMsg="请输入您的手机号",!1;if(!/^1[3456789]\d{9}$/.test(e))return this.errorMsg="请输入正确的手机号",!1;let s={biztype:t,mobile:e};n["l"].smsBeforeCheck(s).then(t=>{t.ok?(this.checkMobileFlag=!0,1==t.data&&(this.tipsShow=!0)):(this.checkMobileFlag=!1,this.errorTipsShow=!0,this.regmsg=t.msg,this.ortherLogin.form.loginName="")})},bindMobile(){let{loginName:t,code:e}=this.ortherLogin.form;if(""===t)return void(this.errorMsg="请输入您的手机号");""===e&&(this.errorMsg="请输入您的验证码");let s={phone:t,code:e};n["l"].userThirdbindphone(s).then(t=>{t.ok?(this.successShow=!0,this.regmsg=t.msg||"手机号绑定成功"):Object(n["j"])(t.msg)})},cancel(){this.successShow=!1,n["l"].logout().then(t=>{t.ok?location.reload():Object(n["j"])(t.msg)})},successify(){this.successShow=!1,location.reload()}}},pt=ht,gt=(s("4384"),Object(C["a"])(pt,dt,ut,!1,null,"78329a77",null)),mt=gt.exports,ft=s("a7fe"),At=s("20ff"),vt={data(){return{show:!1,moreshow:!1,userinfo:{},infoshow:!1,pwdshow:!1,outshow:!1,infotype:1,bindMobileShow:!1,updateMobileShow:!1,bindMobile:{form:{loginName:"",passWord:"",code:""}},updateMobile:{form:{loginName:"",passWord:"",code:"",newCode:""}},ortherLogin:{form:{loginName:"",code:""}},seepwd:!1,mobileSucShow:!1,regmsg:"",successMsg:"",oldMobileShow:!1,newsMobileShow:!1,sendSuccess:!1,infoQrCode:!1,logo:s("4419"),codeValue:"",user_avatar:"",qrmsg:"加我为好友",collectShowFlag:!1,tabList:[{title:"图片"},{title:"视频"}],tabIndex:0}},components:{UpdatePwd:H,CurrInfo:et,LogOut:lt,Verify:B,Dialog:d["a"],Otherlogin:mt,qrCode:At["a"]},computed:{...Object(P["d"])({currUser:t=>t.User.currUser,allNotRead:t=>t.Ws.allNotRead,noReadApply:t=>t.Ws.noReadApply,applyThis:t=>t.Ws.applyThis}),currentRoute(){return this.$route.path}},mounted(){this.currUser.phonebindflag,this.codeValue="https://a.app.qq.com/o/simple.jsp?pkgname=com.tiocloud.chat&uid="+this.currUser.id,this.user_avatar=Object(ft["l"])(this.currUser.avatarbig)},mixins:[N],methods:{...Object(P["c"])(["setChatOn"]),toRoute(t){this.$router.push(t),1===this.currUser.thirdbindflag&&2===this.currUser.phonebindflag&&(this.othershow=!0)},showUserCard(){document.documentElement.click(),this.show=!this.show,this.show&&this.$setAddEventListener("show")},stopProp(){},showUpdateInfo(t){this.show=!1,this.userinfo={...this.currUser},this.infotype=t,this.infoshow=!0},showMoreOper(){document.documentElement.click(),this.moreshow=!this.moreshow,this.moreshow&&this.$setAddEventListener("moreshow")},showUpdatePwd(){this.moreshow=!1,this.pwdshow=!0},hideUpdatePwd(){this.pwdshow=!1},showLogOut(){this.moreshow=!1,this.outshow=!0},async sendMsg(){let t={touid:this.currUser.id},e=this.$route.path,s=await W["a"].chatActChat(t);if(document.documentElement.click(),s.ok){let t=s.data.chat;"/home"==e?this.applyThis.$refs.chatlist.chatColClick(t):(this.setChatOn({chatOn:t.id,bizid:t.bizid,isGroup:!1}),this.$router.push({path:"/home"}))}else Object(n["j"])(s.msg)},updateShow(t){this.errorMsg="",this.seepwd=!1,this.checkSmsFlag=!1,this.currentIndex=-1,this.moreshow=!1,1===t?(this.updateMobileShow=!0,this.oldMobileShow=!0,this.newsMobileShow=!1,this.checkMobileFlag=!0,this.mobileTipsFlag=!1,this.mobileTips="获取验证码",clearInterval(this.deltimer),this.updateMobile=this.$options.data().updateMobile):2===t&&(this.bindMobileShow=!0,this.bindMobile=this.$options.data().bindMobile)},verifySuccess(t){this.currentIndex;let e=t.captchaVerification;this.bindMobileShow?this.getMobileCode(1,this.bindMobile.form.loginName,e):this.updateMobileShow&&this.oldMobileShow?this.getMobileCode(5,this.currUser.phone,e):this.updateMobileShow&&this.newsMobileShow&&this.getMobileCode(7,this.updateMobile.form.loginName,e)},nextStepClick(){log("下一步"),""!=this.updateMobile.form.code&&void 0!=this.updateMobile.form.code?this.checkSmsFlag&&(this.mobileTipsFlag=!1,this.mobileTips="获取验证码",clearInterval(this.deltimer),this.oldMobileShow=!1,this.newsMobileShow=!0,this.mobileSendTips=""):this.errorMsg="请输入您的验证码"},updateMobileClik(){let{loginName:t,passWord:e,newCode:s}=this.updateMobile.form;if(""==t)return void(this.errorMsg="请输入您的手机号");if(""==s)return void(this.errorMsg="请输入您的验证码");if(""==e)return void(this.errorMsg="请输入您的验证码");let i=this.currUser.email,a="$",r="{",o="}",c=`${a}${r}${t}${o}${e}`,d=l.a.MD5(l.a.enc.Latin1.parse(c)).toString(),u=`${a}${r}${i}${o}${e}`,h=l.a.MD5(l.a.enc.Latin1.parse(u)).toString(),p={code:s,phone:t,phonepwd:d,emailpwd:h};n["b"].bindnewphone(p).then(t=>{t.ok?(this.mobileSucShow=!0,this.regmsg=t.msg||"手机号修改成功",this.successMsg="请重新登录",this.errorMsg=""):Object(n["j"])(t.msg)})},bindMobileClik(){let{loginName:t,passWord:e,code:s}=this.bindMobile.form;if(""==t||"undefined"==t)return this.errorMsg="请输入您的手机号",!1;if(!/^1[3456789]\d{9}$/.test(t))return this.errorMsg="请输入正确的手机号",!1;if(""==s||"undefined"==s)return this.errorMsg="请输入您的验证码",!1;if(""==e||"undefined"==e)return this.errorMsg="请输入您当前的账号密码",!1;let i=this.currUser.email,a="$",r="{",o="}",c=`${a}${r}${t}${o}${e}`,d=l.a.MD5(l.a.enc.Latin1.parse(c)).toString(),u=`${a}${r}${i}${o}${e}`,h=l.a.MD5(l.a.enc.Latin1.parse(u)).toString(),p={code:s,phone:t,phonepwd:d,emailpwd:h};n["b"].bindphone(p).then(t=>{t.ok?(this.mobileSucShow=!0,this.regmsg=t.msg||"手机号绑定成功",this.successMsg="您可以使用手机或邮箱进行登录了",this.errorMsg=""):Object(n["j"])(t.msg)})},hideRegDialog(){this.mobileSucShow=!1,n["l"].logout().then(t=>{t.ok?location.reload():Object(n["j"])(t.msg)})},hideInfoQrCode(){this.infoQrCode=!1},collectShow(){this.collectShowFlag=!this.collectShowFlag},switchTab(t){this.tabIndex=t}}},Ct=vt,bt=(s("a374"),Object(C["a"])(Ct,Q,T,!1,null,"339e4338",null)),wt=bt.exports,yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{class:[t.fullState?"fullscreen":""]},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.callShow&&2==t.calltype,expression:"callShow&&calltype==2"}],staticClass:"modelbody callercontent"},[i("div",{staticClass:"exchange-content"},[i("div",{staticClass:"playcontent left-big-content",on:{click:t.changeFrame}},[i("p",{directives:[{name:"show",rawName:"v-show",value:!t.callObj.remotesrc,expression:"!callObj.remotesrc"}],staticClass:"calltips"},[t._v(" "+t._s(2==t.callRole?"对方向你发起视频通话邀请...":"等待对方接听...")+" ")]),i("video",{directives:[{name:"show",rawName:"v-show",value:t.callObj.remotesrc,expression:"callObj.remotesrc"}],attrs:{id:"wxCallRemoteVideo",autoplay:"autoplay",playsinline:""}})]),i("div",{staticClass:"playcontent right-sml-content",on:{click:t.changeFrame}},[i("video",{directives:[{name:"show",rawName:"v-show",value:t.callObj.localsrc,expression:"callObj.localsrc"}],staticClass:"wxCallLocalVideo",attrs:{id:"wxCallLocalVideo",autoplay:"autoplay",muted:"",playsinline:""},domProps:{muted:!0}})])]),i("div",{staticClass:"opera-content"},[i("div",{staticClass:"opera-left"},[i("el-image",{staticClass:"calleravatar",attrs:{src:t.callInfo&&t.callInfo.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{staticClass:"audio-nick"},[t._v(t._s(t.callInfo&&t.callInfo.nick))])],1),i("div",{staticClass:"opera-center"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.callObj.localsrc,expression:"callObj.localsrc"}],staticClass:"talktime"},[t._v(t._s(t.talk.time))])]),i("div",{staticClass:"opera-right"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.callObj.localsrc,expression:"!callObj.localsrc"}]},[i("button",{directives:[{name:"show",rawName:"v-show",value:1==t.callRole,expression:"callRole==1"}],staticClass:"callbtn canclebtn",on:{click:t.localCancleCall}},[t._v("取消")]),i("button",{directives:[{name:"show",rawName:"v-show",value:2==t.callRole,expression:"callRole==2"}],staticClass:"callbtn canclebtn",on:{click:t.remoteRefuseVideo}},[t._v("拒绝")]),i("button",{directives:[{name:"show",rawName:"v-show",value:2==t.callRole,expression:"callRole==2"}],staticClass:"callbtn agreebtn",on:{click:t.remoteAgreeVideo}},[t._v("接听")])]),i("button",{directives:[{name:"show",rawName:"v-show",value:t.callObj.localsrc,expression:"callObj.localsrc"}],staticClass:"callbtn canclebtn",on:{click:t.videoHangUp}},[t._v(" 挂断 ")]),i("i",{directives:[{name:"show",rawName:"v-show",value:!t.fullState&&t.callObj.localsrc,expression:"!fullState&&callObj.localsrc"}],staticClass:"iconfont iconIMweb_extend iconfull",on:{click:t.setFullScreen}}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.fullState&&t.callObj.localsrc,expression:"fullState&&callObj.localsrc"}],staticClass:"iconfont iconIMweb_shrink iconfull",on:{click:t.exitFullscreen}})])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.callShow&&1==t.calltype,expression:"callShow&&calltype==1"}],staticClass:"modelbody"},[i("div",{staticClass:"audiomain"},[i("el-image",{staticClass:"audio-avatar",attrs:{src:t.callInfo&&t.callInfo.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"audio-nick"},[t._v(t._s(t.callInfo&&t.callInfo.nick))]),i("img",{staticClass:"audiowave",attrs:{src:s("0b42")}}),i("p",{directives:[{name:"show",rawName:"v-show",value:t.callObj.remotesrc,expression:"callObj.remotesrc"}],staticClass:"call-time"},[t._v(t._s(t.talk.time))]),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.callObj.remotesrc,expression:"!callObj.remotesrc"}],staticClass:"waiting-msg"},[t._v(" "+t._s(2==t.callRole?"对方向你发起语音通话邀请...":"等待对方接听...")+" ")]),i("div",{staticClass:"call-opera"},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.callObj.localsrc,expression:"callObj.localsrc"}],staticClass:"callbtn canclebtn",on:{click:t.videoHangUp}},[t._v(" 挂断 ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.callObj.localsrc,expression:"!callObj.localsrc"}],staticClass:"loadingcall"},[i("button",{directives:[{name:"show",rawName:"v-show",value:1==t.callRole,expression:"callRole==1"}],staticClass:"callbtn canclebtn",on:{click:t.localCancleCall}},[t._v(" 取消 ")]),i("button",{directives:[{name:"show",rawName:"v-show",value:2==t.callRole,expression:"callRole==2"}],staticClass:"callbtn canclebtn",on:{click:t.remoteRefuseVideo}},[t._v("拒绝")]),i("button",{directives:[{name:"show",rawName:"v-show",value:2==t.callRole,expression:"callRole==2"}],staticClass:"callbtn agreebtn",on:{click:t.remoteAgreeVideo}},[t._v("接听")])])])],1),t._m(0)])])},kt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{display:"none"}},[s("audio",{attrs:{id:"wxCallRemoteAudio",autoplay:"autoplay"}}),s("audio",{attrs:{id:"wxCallLocalAudio",autoplay:"autoplay",muted:""}})])}],xt=s("ecd1"),It=xt["a"],Ot=(s("d977"),Object(C["a"])(It,yt,kt,!1,null,"0f02caf8",null)),Mt=Ot.exports,St={data(){return{}},computed:{...Object(P["d"])({chatOn:t=>t.Ws.chatOn,uid:t=>t.User.currUid})},components:{NavBar:wt,Call:Mt},mounted(){window.addEventListener("visibilitychange",this.handleVisibilityChange)},beforeDestroy(){window.removeEventListener("visibilitychange",this.handleVisibilityChange)},methods:{handleVisibilityChange(){document.hidden?(console.log("Window is now hidden"),n["l"].changeUserOnlineState({uid:this.uid,isonline:0}).then(t=>{})):(console.log("Window is now visible"),n["l"].changeUserOnlineState({uid:this.uid,isonline:1}).then(t=>{}))}}},jt=St,Lt=(s("4daf"),Object(C["a"])(jt,G,F,!1,null,"8c3b650c",null)),Bt=Lt.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mainbody"},[s("div",{staticClass:"listcontent"},[s("Search",{attrs:{show:t.searchShow},on:{"update:show":function(e){t.searchShow=e}}}),s("ChatList",{directives:[{name:"show",rawName:"v-show",value:!t.searchShow,expression:"!searchShow"}],ref:"chatlist",on:{getMsg:t.getMsg}})],1),s("MsgList",{ref:"msglist"})],1)},Nt=[],Rt=s("c106"),Ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chatlist"},[i("div",{staticClass:"tioim-chat-list",attrs:{id:"tioim-chat-list"}},[i("ul",t._l(t.chatList,(function(e){return i("li",{key:e.id,class:["chat-col",t.contextmenushow&&t.contextmenu.data.chatlinkid==e.id?"hover":"",t.chatOn==e.id?"active":""],on:{click:function(s){return t.chatColClick(e)},contextmenu:function(s){return s.preventDefault(),t.chatContextMenu(s,e)}}},[i("span",{directives:[{name:"show",rawName:"v-show",value:1==e.topflag,expression:"item.topflag == 1"}],staticClass:"triangtop"}),i("el-image",{staticClass:"chat-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("div",{staticClass:"chat-col-right"},[i("p",{staticClass:"chat-info-top"},[i("span",{staticClass:"chat-name"},[t._v(t._s(null==e.remarkname||""==e.remarkname?e.name:e.remarkname))]),e.notreadcount>0&&1!=e.msgfreeflag?i("span",{staticClass:"chat-notread"},[t._v(t._s(e.notreadcount>99?"...":e.notreadcount))]):t._e()]),i("p",{staticClass:"chat-info-bottom"},[i("span",{staticClass:"chat-last-msg"},[e.notreadcount>0&&1==e.msgfreeflag?i("span",{staticClass:"msgfreeNotread"},[t._v("["+t._s(e.notreadcount>99?"...":e.notreadcount)+"条消息]")]):t._e(),i("span",{directives:[{name:"show",rawName:"v-show",value:e.sysflag&&2==e.sysflag&&e.toreadflag&&e.lastmsguid==t.curruid&&1==e.chatmode,expression:"\n                  item.sysflag&&item.sysflag == 2 &&\n                    item.toreadflag &&\n                    item.lastmsguid == curruid &&\n                    item.chatmode == 1\n                "}],class:[2==e.toreadflag?"notread":"readed"]},[t._v(" "+t._s(2==e.toreadflag?"[未读]":"[已读]")+" ")]),i("span",{directives:[{name:"show",rawName:"v-show",value:2==e.atreadflag,expression:"item.atreadflag == 2"}],staticClass:"notread"},[t._v("[有人@你]")]),i("span",{staticClass:"chat-last-bot",domProps:{innerHTML:t._s(2==e.chatmode&&e.sysflag&&2==e.sysflag&&12!=e.ct&&1==e.msgtype&&e.msgresume&&13!=e.ct||e.ct&&2==e.chatmode&&1==e.msgtype&&e.msgresume&&e.sysflag&&2==e.sysflag&&13!=e.ct?e.fromnick+"："+e.msgresume:2==e.chatmode&&e.sysflag&&2==e.sysflag&&e.msgresume&&12==e.ct?e.msgresume:1!=e.ct&&12==e.msgtype&&e.uid==e.lastmsguid?"发出红包，请在手机端查看":1!=e.ct&&12==e.msgtype&&e.uid!==e.lastmsguid?"收到红包，请在手机端查看":88==e.msgtype?"分享一个链接":e.msgresume)}})]),i("span",{directives:[{name:"show",rawName:"v-show",value:!(t.callShow&&t.callInfo.id==e.bizid),expression:"!(callShow && callInfo.id == item.bizid)"}],staticClass:"chat-last-time"},[t._v(t._s(t.getShowTime(e.sendtime,"chat")))]),t.callShow&&t.callInfo.id==e.bizid?i("i",{class:["iconfont","rtcicon",1==t.calltype?"iconvoicecall":"iconVideocall"]}):t._e()])]),i("div",{directives:[{name:"show",rawName:"v-show",value:1==e.msgfreeflag,expression:"item.msgfreeflag==1"}],staticClass:"chat-msgfree"},[i("p",{directives:[{name:"show",rawName:"v-show",value:e.notreadcount>0,expression:"item.notreadcount > 0"}],staticClass:"icon_msgfree_notread"}),i("img",{staticClass:"icon_msgfree",attrs:{src:s("470b"),alt:""}})])],1)})),0)]),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.contextmenushow,expression:"contextmenushow"}],staticClass:"contextmenu-ul",style:{top:t.contextmenu.top,left:t.contextmenu.left}},[i("li",{on:{click:function(e){return t.chatOper(1==t.contextmenu.data.topflag?22:21)}}},[t._v(" "+t._s(1==t.contextmenu.data.topflag?"取消置顶":"置顶聊天")+" ")]),i("li",{on:{click:t.delChat}},[t._v("删除聊天")]),i("li",{on:{click:function(e){return t.modifyGroupPush(1==t.contextmenu.data.msgfreeflag?2:1)}}},[t._v(t._s(1==t.contextmenu.data.msgfreeflag?"取消免打扰":"消息免打扰"))]),i("li",{directives:[{name:"show",rawName:"v-show",value:1==t.contextmenu.data.bizrole,expression:"contextmenu.data.bizrole == 1"}],on:{click:function(e){return t.editGroupName(t.contextmenu.data)}}},[t._v(" 修改群名称 ")])]),i("GroupName",{attrs:{show:t.group.show,name:t.group.name,groupid:t.group.groupid},on:{"update:show":function(e){return t.$set(t.group,"show",e)},"update:name":function(e){return t.$set(t.group,"name",e)}}}),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.delshow,expression:"delshow"}]},[i("div",{staticClass:"modelbody delchat"},[i("div",{staticClass:"maintitle"},[i("p",[t._v("确定删除该聊天吗？")]),i("p",{staticClass:"tmcheckbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.delcheck,expression:"delcheck"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.delcheck)?t._i(t.delcheck,null)>-1:t.delcheck},on:{change:function(e){var s=t.delcheck,i=e.target,a=!!i.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);i.checked?o<0&&(t.delcheck=s.concat([r])):o>-1&&(t.delcheck=s.slice(0,o).concat(s.slice(o+1)))}else t.delcheck=a}}}),t._v(" 同时删除聊天记录 ")])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleDel}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:function(e){return t.chatOper(t.delcheck?1:11)}}},[t._v(" 确定 ")])])])])],1)},_t=[],Dt=s("8adc"),Gt=Dt["a"],Ft=(s("88f2"),Object(C["a"])(Gt,Ut,_t,!1,null,"de01a72a",null)),Qt=Ft.exports,Tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"maincontent"},[i("div",{staticClass:"chatinfo"},[t.isGroup?i("span",{staticClass:"chat-name"},[t._v(t._s(t.chatinfo.name+"("+t.chatinfo.joinnum+")"))]):null!=t.allconfig.wx_chat_user_isonline_show&&"1"==t.allconfig.wx_chat_user_isonline_show?i("span",{staticClass:"chat-name"},[t._v(t._s("1"==t.isonline?t.chatinfo.name+"(在线)":t.chatinfo.name+"(离线)"))]):i("span",{staticClass:"chat-name"},[t._v(t._s(t.chatinfo.name))]),i("div",{staticClass:"info-opera"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.isGroup&&1==t.chatinfo.linkflag||!t.isGroup,expression:"(isGroup && chatinfo.linkflag == 1)||!isGroup"}],staticClass:"cursor",on:{click:function(e){t.reportShow=!0,t.isGroup?t.reportmsg="群聊":t.reportmsg="用户"}}}),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isGroup&&1==t.chatinfo.linkflag,expression:"isGroup && chatinfo.linkflag == 1"}],staticClass:"iconfont iconttubiao_point",on:{click:function(e){return e.stopPropagation(),t.chatGroupSet(e)}}}),i("i",{directives:[{name:"show",rawName:"v-show",value:!t.isGroup,expression:"!isGroup"}],staticClass:"iconfont iconttubiao_point",on:{click:function(e){return e.stopPropagation(),t.chatPersonSet(e)}}})])]),i("div",{class:t.msgcontainers,attrs:{id:"msgcontainer"}},[i("ul",t._l(t.MessageList,(function(e){return i("li",{key:e.mid,class:[!e.delwhere&&e.singleshow?1==e.type&&12!==e.ct?"msg-col msg-right-col":2==e.type&&12!==e.ct?"msg-col msg-left-col":3==e.type||4==e.type||12==e.ct?"msg-col msg-center-col":"msg-hide":"msg-hide"],attrs:{mid:e.mid}},[3==e.type&&e.singleshow&&13!==e.ct?i("div",[i("p",[t._v(t._s(t.getShowTime(e.t)))]),i("p",{domProps:{innerHTML:t._s(e.html)}})]):t._e(),3==e.type&&13==e.ct?i("div",[i("p",[t._v(t._s(t.getShowTime(e.t)))]),i("p",[t._v(t._s(e.name)+"想邀请好友加入群聊，"),i("span",{staticClass:"cursor examine",on:{click:function(s){return t.goExamine(e)}}},[t._v(t._s(1==e.apply.status?"已确认":"去确认"))])])]):t._e(),1==e.type&&12==e.ct&&e.singleshow&&e.touid==t.curruid||2==e.type&&12==e.ct&&e.singleshow?i("div",[i("p",[t._v(t._s(t.getShowTime(e.t)))]),i("p",[t._v("收到红包，请在手机端查看")])]):t._e(),1==e.type&&12==e.ct&&e.singleshow&&e.touid!=t.curruid?i("div",[i("p",[t._v(t._s(t.getShowTime(e.t)))]),i("p",[t._v("发出红包，请在手机端查看")])]):t._e(),4==e.type?i("div",[i("p",{staticClass:"systime"},[t._v(t._s(t.getShowTime(e.t)))]),i("span",{staticClass:"sysmsg"},[t._v(t._s(e.html)),i("span",{staticClass:"sendapply",on:{click:t.sendApply}},[t._v("发送好友验证")])])]):t._e(),(1==e.type&&12!==e.ct&&13!==e.ct||2==e.type&&12!==e.ct&&13!==e.ct)&&e.singleshow&&!e.delwhere?[i("el-image",{staticClass:"msg-avatar",attrs:{src:e.avatar},on:{contextmenu:function(s){return s.preventDefault(),t.chatContextMenu(s,e,"avatar")},click:function(s){return s.stopPropagation(),t.showCard(s,e.uid,e)}}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")},on:{contextmenu:function(s){return s.preventDefault(),t.chatContextMenu(s,e,"avatar")},click:function(s){return s.stopPropagation(),t.showCard(s,e.uid,e)}}})])]),i("div",{staticClass:"msg-right",on:{contextmenu:function(s){return s.preventDefault(),t.chatContextMenu(s,e,"msg")}}},[i("p",{staticClass:"msg-top"}),t.curruid==e.uid||t.isGroup||1!==e.showIp?t._e():i("div",{staticClass:"msg-ip"},[t._v("IP: "+t._s(e.ip)+"-"+t._s(e.country)+" "+t._s(e.city))]),i("span",{staticClass:"msg-nick"},[t._v(t._s(e.remarkname||e.nick))]),i("span",{staticClass:"msg-time"},[t._v(t._s(t.getShowTime(e.t)))]),i("p"),i("div",{class:["msg-bot",5==e.ct||6==e.ct||9==e.ct?"msg-bot-nbg":88==e.ct?"msg-bot-nbg not-max-width":""]},[null==e.g||""==e.g?i("div",[e.touid!=t.curruid?i("i",{class:["msgreadsta",1==e.readflag?"wxc_read":"wxc_notread"]},[t._v(" "+t._s(1==e.readflag?"已读":2==e.readflag?"未读":"")+" ")]):t._e()]):null!=t.allconfig.wx_group_readflag_show&&"1"==t.allconfig.wx_group_readflag_show?i("div",[e.f==t.curruid?i("i",{class:["msgreadsta",1==e.groupreadflag?"wxc_read":"wxc_notread"]},[t._v(" "+t._s(1==e.groupreadflag?"已读":0==e.groupreadflag?"未读":"")+" ")]):t._e()]):t._e(),1==e.ct?i("div",[null!=e.refGroupMsg?i("div",{staticStyle:{"background-color":"aquamarine",padding:"5px"}},[t._v(" "+t._s(e.refGroupMsg.nick)+" : "),1==e.refGroupMsg.ct?i("div",{attrs:{id:"copy"+e.refGroupMsg.mid},domProps:{innerHTML:t._s(e.refGroupMsg.c)}}):5==e.refGroupMsg.ct?i("div",{staticClass:"videocol",on:{click:function(s){t.videoClick(JSON.parse(e.refGroupMsg.c))}}},[i("el-image",{staticClass:"el-image",style:{width:80,height:60},attrs:{src:t.getResUrl(JSON.parse(e.refGroupMsg.c).coverurl),fit:"cover"}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])])],1):6==e.refGroupMsg.ct?i("div",{staticClass:"imgcol cursor",attrs:{id:"copy"+e.refGroupMsg.mid}},[i("img",{staticClass:"el-image",style:{width:80,height:60},attrs:{src:t.getResUrl(JSON.parse(e.refGroupMsg.c).coverurl),fit:"cover",id:"copyImg"+e.refGroupMsg.mid},on:{click:function(s){return t.imgClick(e.refGroupMsg.mid)}}})]):t._e()]):t._e(),i("div",{attrs:{id:"copy"+e.mid},domProps:{innerHTML:t._s(e.html)}})]):3==e.ct?i("div",{staticClass:"file-flex"},[i("div",[i("div",{staticClass:"filebg",domProps:{innerHTML:t._s(t.strRep(e.html))}}),i("div",{staticClass:"fileSize"},[t._v(" "+t._s(t.formatFileSize(e.fc.size))+" ")])]),"docx"==e.fc.ext?i("img",{attrs:{src:s("c12c"),alt:""}}):"jpg"==e.fc.ext||"png"==e.fc.ext||"gif"==e.fc.ext?i("img",{attrs:{src:s("1589"),alt:""}}):"xls"==e.fc.ext||"xlsx"==e.fc.ext?i("img",{attrs:{src:s("bd75"),alt:""}}):"mp4"==e.fc.ext?i("img",{attrs:{src:s("d0b5"),alt:""}}):"mp3"==e.fc.ext?i("img",{attrs:{src:s("71df"),alt:""}}):"pdf"==e.fc.ext?i("img",{attrs:{src:s("c6b2"),alt:""}}):"ppt"==e.fc.ext||"pptx"==e.fc.ext?i("img",{attrs:{src:s("7423"),alt:""}}):"zip"==e.fc.ext?i("img",{attrs:{src:s("83f9"),alt:""}}):"apk"==e.fc.ext?i("img",{attrs:{src:s("6877"),alt:""}}):"txt"==e.fc.ext?i("img",{attrs:{src:s("a386"),alt:""}}):i("img",{attrs:{src:s("b17c"),alt:""}})]):4==e.ct?i("div",{staticClass:"audiomsg",style:{width:e.bodyData.width+"px"},on:{click:function(s){return t.playAudio(e)}}},[i("span",[t._v(t._s(e.bodyData.seconds)+"″")]),i("span",{domProps:{innerHTML:t._s(e.html)}}),i("img",{directives:[{name:"show",rawName:"v-show",value:1==e.type&&!e.bodyData.play,expression:"item.type == 1 && !item.bodyData.play"}],attrs:{src:s("043d")}}),i("img",{directives:[{name:"show",rawName:"v-show",value:2==e.type&&!e.bodyData.play,expression:"item.type == 2 && !item.bodyData.play"}],attrs:{src:s("c083")}}),i("img",{directives:[{name:"show",rawName:"v-show",value:1==e.type&&e.bodyData.play,expression:"item.type == 1 && item.bodyData.play"}],attrs:{src:s("d92e")}}),i("img",{directives:[{name:"show",rawName:"v-show",value:2==e.type&&e.bodyData.play,expression:"item.type == 2 && item.bodyData.play"}],attrs:{src:s("d130")}})]):5==e.ct?i("div",{staticClass:"videocol",on:{click:function(s){return t.videoClick(e.bodyData)}}},[i("el-image",{staticClass:"el-image",style:{width:e.bodyData.sWidth,height:e.bodyData.sHeight},attrs:{src:e.bodyData.vcoverurl,fit:"cover"}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])])],1):6==e.ct?i("div",{staticClass:"imgcol cursor",attrs:{id:"copy"+e.mid}},[i("img",{staticClass:"el-image",style:{width:e.bodyData.showWidth,height:e.bodyData.showHeight},attrs:{src:e.bodyData.coverurl,fit:"cover",id:"copyImg"+e.mid},on:{click:function(s){return t.imgClick(e.mid)}}})]):9==e.ct?i("div",{staticClass:"cardbg",on:{click:function(s){return s.stopPropagation(),t.cardClick(s,e)}}},[i("div",{staticClass:"cardtop"},[i("el-image",{staticClass:"el-image",attrs:{src:e.bodyData.bizavatar,fit:"cover"}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{staticClass:"cardname"},[t._v(t._s(e.bodyData.bizname))])],1),i("div",{staticClass:"cardbot"},[i("img",{directives:[{name:"show",rawName:"v-show",value:1==e.bodyData.cardtype,expression:"item.bodyData.cardtype == 1"}],attrs:{src:s("1a9b")}}),i("img",{directives:[{name:"show",rawName:"v-show",value:2==e.bodyData.cardtype,expression:"item.bodyData.cardtype == 2"}],attrs:{src:s("ab74")}}),t._v(" "+t._s(2==e.bodyData.cardtype?"群名片":"个人名片")+" ")])]):10==e.ct||11==e.ct?i("div",{staticClass:"callcol"},[10==e.ct?i("img",{class:["call-icon",1==e.type?"right-icon rotate":""],attrs:{src:s("08b7")}}):t._e(),11==e.ct&&2==e.type?i("img",{staticClass:"call-icon",attrs:{src:s("ac25")}}):t._e(),11==e.ct&&1==e.type?i("img",{staticClass:"call-icon right-icon",attrs:{src:s("45f1")}}):t._e(),t._v(" "+t._s(e.bodyData.reason)+" ")]):15==e.ct?i("div",[i("div",{staticClass:"mediarow"},t._l(JSON.parse(e.bodyData.files),(function(a,r){return i("div",{key:r,staticClass:"mediacol"},["img"===a.type?i("img",{staticClass:"el-image",style:{width:e.coverwidth,height:e.coverheight},attrs:{src:a.url,fit:"cover",id:"copyImg"+e.mid},on:{click:function(e){return t.imgClicks(a)}}}):"video"==a.type?i("div",{staticClass:"mediacol",on:{click:function(e){return t.videoClicks(a)}}},[i("el-image",{staticClass:"el-image",style:{width:a.coverwidth,height:a.coverheight},attrs:{src:t.getResUrl(a.coverurl),fit:"cover"}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])])],1):t._e()])})),0),i("span",{domProps:{innerHTML:t._s(e.html)}})]):17==e.ct?i("div",[i("div",{staticStyle:{"flex-direction":"column",display:"flex"},on:{click:function(s){return t.openNotice(e)}}},[i("div",{staticStyle:{"flex-direction":"row",display:"flex","align-items":"center"}},[i("div",{staticStyle:{"flex-direction":"column",display:"flex"}},[i("span",{staticStyle:{"max-lines":"3"},domProps:{innerHTML:t._s(JSON.parse(JSON.parse(e.c).content).text)}}),i("span",{staticStyle:{"max-lines":"3"},domProps:{innerHTML:t._s(JSON.parse(JSON.parse(e.c).content).text)}})]),i("div",{staticStyle:{display:"flex","align-items":"center","margin-left":"10px"}},[null!=JSON.parse(JSON.parse(e.c).content).firstpic?i("img",{staticClass:"el-image",staticStyle:{width:"60px",height:"60px","align-items":"center","justify-items":"center"},attrs:{src:t.getResUrl(JSON.parse(JSON.parse(e.c).content).firstpic),fit:"cover"}}):t._e()])]),i("div",{staticStyle:{"background-color":"beige",height:"0.5px","margin-top":"10px"}}),i("span",{staticStyle:{"margin-top":"8px"}},[t._v("笔记")])])]):88==e.ct?i("div",[i("div",{staticClass:"hyperlinks cursor",on:{click:function(s){return t.openNews(e.temp.url)}}},[i("div",{staticClass:"hyperlinks-title"},[t._v(t._s(e.temp.title))]),i("div",{staticClass:"hyperlinks-content"},[i("span",{staticClass:"cardname"},[t._v(t._s(e.temp.subtitle))]),i("el-image",{staticClass:"el-image",attrs:{src:e.temp.img,fit:"cover"}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("218d")}})])])],1)])]):t._e()])])]:t._e()],2)})),0)]),null!=t.referenceMessageModel?i("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-between",padding:"5px"}},[i("div",[t._v(" "+t._s(t.referenceMessageModel.nick)+" : "),6==t.referenceMessageModel.ct?i("div",{staticClass:"imgcol cursor",attrs:{id:"copy"+t.referenceMessageModel.mid}},[i("img",{staticClass:"el-image",staticStyle:{width:"80px",height:"60px"},attrs:{src:t.referenceMessageModel.bodyData.coverurl,fit:"cover",id:"copyImg"+t.referenceMessageModel.mid},on:{click:function(e){return t.imgClick(t.referenceMessageModel.mid)}}})]):1==t.referenceMessageModel.ct?i("div",{attrs:{id:"copy"+t.referenceMessageModel.mid},domProps:{innerHTML:t._s(t.referenceMessageModel.html)}}):5==t.referenceMessageModel.ct?i("div",{staticClass:"videocol",on:{click:function(e){return t.videoClick(t.referenceMessageModel.bodyData)}}},[i("el-image",{staticClass:"el-image",staticStyle:{width:"80px",height:"60px"},attrs:{src:t.referenceMessageModel.bodyData.vcoverurl,fit:"cover"}})],1):t._e()]),i("div",{staticStyle:{display:"flex","align-content":"flex-end","margin-right":"40px","align-items":"center"}},[i("img",{attrs:{src:s("d705")},on:{click:t.referenceMsgClose}})])]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isAdministrator,expression:"isAdministrator"}],staticClass:"chat-bottom",attrs:{id:"chat-bottom"}},[i("div",{staticClass:"chat-send-opera"},[i("div",{staticClass:"chat-send-icon"},[i("i",{staticClass:"iconfont iconIMweb_expression",attrs:{title:"选择表情"},on:{click:[function(e){return t.IconColor("iconIMweb_expression")},function(e){return e.stopPropagation(),t.chooseEmoji(e)}]}}),i("i",{staticClass:"iconfont iconIMweb_picture",attrs:{title:"发送图片"}},[i("input",{attrs:{type:"file",accept:"image/*",id:"chat-send-img"},on:{change:t.uploadImg}})]),i("i",{staticClass:"iconfont iconIMweb_file",attrs:{title:"发送文件"}},[i("input",{attrs:{type:"file",accept:"*"},on:{change:t.uploadDix}})]),i("i",{staticClass:"iconfont iconIMweb_video",attrs:{title:"发送视频"}},[i("input",{attrs:{type:"file",accept:"video/*"},on:{change:t.uploadVideo}})]),i("i",{directives:[{name:"show",rawName:"v-show",value:t.isGroup,expression:"isGroup"}],staticClass:"iconfont iconIMweb_",attrs:{title:"@"},on:{click:[function(e){return t.IconColor("iconIMweb_")},function(e){return e.stopPropagation(),t.getRemindContent(e)}]}}),i("i",{staticClass:"iconfont iconIMweb_grcard",attrs:{title:"推荐好友"},on:{click:[function(e){return t.IconColor("iconIMweb_grcard")},function(e){return e.stopPropagation(),t.shareFriend(e)}]}}),i("i",{staticClass:"iconfont iconIMweb_qcard",attrs:{title:"分享群聊"},on:{click:[function(e){return t.IconColor("iconIMweb_qcard")},function(e){return e.stopPropagation(),t.shareGroup(e)}]}}),t.isGroup?t._e():i("i",{staticClass:"iconfont iconvoicecall",attrs:{title:"语音通话"},on:{click:[function(e){return t.IconColor("iconvoicecall")},function(e){return e.stopPropagation(),t.wxCallInvite(1)}]}}),t.isGroup?t._e():i("i",{staticClass:"iconfont iconVideocall",attrs:{title:"视频通话"},on:{click:[function(e){return t.IconColor("iconVideocall")},function(e){return e.stopPropagation(),t.wxCallInvite(2)}]}}),i("i",{staticClass:"iconfont iconIMweb_shrink",attrs:{title:"发送多媒体"},on:{click:[function(e){return t.IconColor("iconIMweb_shrink")},function(e){return e.stopPropagation(),t.showMedia(e)}]}})])]),i("div",{staticClass:"chat-editor",attrs:{id:"chat-editor",name:"content",contenteditable:"true"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.wxTextKey(e))},paste:t.pasteSend,input:t.listenRemind,blur:t.getSelecRange}}),i("div",{staticClass:"chat-send-bot"},[t._m(0),i("button",{staticClass:"primarybtn",on:{click:function(e){return e.stopPropagation(),t.chatSendMessage(e)}}},[t._v("发送")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showEmoji,expression:"showEmoji"}],staticClass:"tm-emoji-container"},[i("div",{attrs:{id:"tm-emoji-body"}},[i("ul",{staticClass:"tm-emoji-body flexbox"},t._l(t.emojiList,(function(e,s){return i("li",{key:s,attrs:{alt:e.alt},on:{click:t.appendMessage}},[i("img",{staticClass:"small-emoji",staticStyle:{width:"24px"},attrs:{src:t.staticUrl+"static/emoji/emoji/"+e.url}})])})),0)]),i("ul",{staticClass:"tm-emoji-btngroup flexbox"},[i("li",{staticClass:"on"},[i("img",{attrs:{src:t.staticUrl+"static/emoji/emoji/"+t.emojiList[0].url}})])])]),i("ShareCard",{attrs:{pcarshow:t.pcarshow,gcarshow:t.gcarshow},on:{"update:pcarshow":function(e){t.pcarshow=e},"update:gcarshow":function(e){t.gcarshow=e}}}),i("media-form",{attrs:{showmediaform:t.showmediaform},on:{"update:showmediaform":function(e){t.showmediaform=e}}})],1),i("div",{staticClass:"view-container",staticStyle:{display:"none"},attrs:{id:"view-containers"}},[i("img",{attrs:{src:t.picItem.url}})]),i("div",{staticClass:"view-container",staticStyle:{display:"none"},attrs:{id:"view-container"}},t._l(t.imgList,(function(t){return i("img",{key:t.mid,attrs:{src:t.imgsrc}})})),0),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.video.show,expression:"video.show"}]},[i("div",{staticClass:"modelbody videomodel"},[i("p",{staticClass:"title"},[i("span",{staticClass:"videoname",attrs:{id:"videoname"}},[t._v(t._s(t.video.title))]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel closeicon",on:{click:t.closeVideo}})]),i("video",{attrs:{src:t.video.url,id:"tm-video",controls:"",loop:"loop",autoplay:"autoplay"}})])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.joinshow,expression:"joinshow"}]},[i("div",{staticClass:"modelbody"},[i("div",{staticClass:"maintitle"},[t._v(" 是否接受邀请加入群聊？ ")]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleJoin}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.sureJoinGroup}},[t._v(" 确定 ")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.imageSendConfirmshow,expression:"imageSendConfirmshow"}]},[i("div",{staticClass:"modelbody"},[i("div",{staticClass:"maintitle"},[t._v(" 是否确定发送？ ")]),i("div",[i("img",{staticStyle:{width:"80%",height:"200px","margin-left":"10%"},attrs:{src:t.imageUrl}})]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleSendImg}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.sureSendImg}},[t._v(" 确定 ")])])])]),i("div",{staticClass:"remindList",attrs:{id:"remindContent"},on:{click:function(e){return e.stopPropagation(),t.stopProp(e)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.remindshow,expression:"remindshow"}],staticClass:"remindContent"},[i("p",{staticClass:"remind-title"},[i("span",[t._v("选择需要提醒的人")]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel closeicon",on:{click:t.hideRemind}})]),i("p",{staticClass:"tm-search-friend"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.remindsearch,expression:"remindsearch"}],staticClass:"tm-search-input",attrs:{type:"text",autocomplete:"off",placeholder:"请输入好友名称",id:"remindsearch"},domProps:{value:t.remindsearch},on:{input:[function(e){e.target.composing||(t.remindsearch=e.target.value)},t.remindSearch]}})]),i("div",{staticClass:"remindbody",attrs:{id:"remindfriends"}},[i("ul",{staticClass:"remindfriends"},[i("li",{staticClass:"remind-col",on:{click:function(e){return e.stopPropagation(),t.addReMind(t.atAll)}}},[i("img",{staticClass:"icon_all",attrs:{src:s("11d6"),alt:""}}),i("span",[t._v("提醒所有人")])]),t._l(t.atMemList,(function(e){return i("li",{directives:[{name:"show",rawName:"v-show",value:t.curruid!=e.uid,expression:"curruid != item.uid"}],key:e.uid,staticClass:"remind-col",on:{click:function(s){return s.stopPropagation(),t.addReMind(e)}}},[i("el-image",{staticClass:"remind-col_img",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{staticClass:"flexauto",domProps:{textContent:t._s(e.nick)}})],1)}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.atMemList.length,expression:"atMemList.length == 0"}],staticClass:"noremind"},[t._v("暂无数据")])])])]),i("ContextMenu",{attrs:{show:t.contextmenushow,contextmenu:t.contextmenu,groupInfo:t.groupInfo,cmenutype:t.cmenutype,isFriend:t.isFriend,isforbidden:t.isforbidden},on:{rightRemind:t.rightRemind,userApply:t.userApply,referenceMessage:t.referenceMessage}}),i("UserCard",{ref:"usercard",attrs:{show:t.cardshow,userCard:t.userCard},on:{"update:show":function(e){t.cardshow=e}}}),i("GroupMore",{ref:"groupmore",attrs:{show:t.groupmore},on:{"update:show":function(e){t.groupmore=e}}}),i("GroupModel",{ref:"groupmodel",attrs:{groupInfo:t.commGroupInfo,groupApplyInfo:t.groupApplyInfo}}),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.reportShow,expression:"reportShow"}]},[i("div",{staticClass:"modelbody reportShow-model"},[i("p",{staticClass:"title"},[t._v(" 举报投诉 ")]),i("div",{staticClass:"areacontainer"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reportInput,expression:"reportInput"}],attrs:{maxlength:"500",placeholder:"请填写举报投诉原因"},domProps:{value:t.reportInput},on:{input:function(e){e.target.composing||(t.reportInput=e.target.value)}}}),i("p",{staticClass:"num-count"},[t._v(t._s(t.reportInput.length)+"/500")])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:function(e){t.reportShow=!1}}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.sureSysReport}},[t._v(" 提交 ")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.noticeShow,expression:"noticeShow"}]},[null!=t.clickNotice?i("div",{staticClass:"modelbody",staticStyle:{"overflow-y":"auto","max-height":"800px"}},[i("div",{staticClass:"maintitle"},[i("span",{domProps:{innerHTML:t._s(JSON.parse(JSON.parse(t.clickNotice.c).content).text)}})]),t._l(JSON.parse(JSON.parse(t.clickNotice.c).content).files,(function(e,a){return i("div",{key:a,staticClass:"mediacol"},["1"===e.type?i("img",{staticClass:"el-image",staticStyle:{width:"100%",height:"400px"},attrs:{src:e.url,fit:"cover"},on:{click:function(s){return t.imgClicks(e)}}}):"2"==e.type?i("div",{staticClass:"mediacol",on:{click:function(s){return t.videoClicks(e)}}},[i("el-image",{staticClass:"el-image",staticStyle:{width:"100%",height:"400px"},attrs:{src:t.getResUrl(e.coverurl),fit:"cover"}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])])],1):t._e()])})),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.noticeDialogClose}},[t._v("取消")])])],2):t._e()])],1)},Pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-send-tips"},[t._v(" Ctrl+Enter：换行 "),s("span",[t._v("|")]),t._v(" Enter：发送 ")])}],Wt=s("5659"),zt=Wt["a"],Vt=(s("fa5e"),Object(C["a"])(zt,Tt,Pt,!1,null,"87782692",null)),Yt=Vt.exports,Kt={data(){return{searchShow:!1}},components:{Search:Rt["a"],ChatList:Qt,MsgList:Yt},computed:{...Object(P["d"])({chatOn:t=>t.Ws.chatOn,isConnect:t=>t.Ws.isConnect})},async created(){this.initChatRoom([]),this.initData()},async mounted(){await this.$refs.chatlist.getChatList(),this.isConnect&&this.chatOn?(this.getFocus(),Object(at["a"])(rt["c"].WxChatItemInfoReq,{chatlinkid:this.chatOn}),this.$refs.msglist.getMsgList()):this.setIsConnect(!0)},beforeDestroy(){this.initChatRoom(),this.setChatInfo({name:"",chatmode:1,joinnum:0}),Object(at["a"])(rt["c"].WxSessionOperReq,{chatlinkid:this.chatOn,oper:2}),this.setChatOn({chatOn:"",bizid:"",isGroup:!0})},methods:{...Object(P["c"])(["initChatRoom","setIsConnect","setApplyThis","setChatOn","setChatInfo"]),initData(){this.setApplyThis(this)},getFocus(){Object(at["a"])(rt["c"].WxSessionOperReq,{chatlinkid:this.chatOn,oper:1})},getMsg(){this.getFocus(),this.$refs.msglist.getMsgList()},hideSearchList(){this.searchShow=!1}}},Jt=Kt,Ht=(s("7c61"),Object(C["a"])(Jt,Et,Nt,!1,null,"6002754a",null)),qt=Ht.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mainbody"},[s("div",{staticClass:"listcontent"},[s("Search",{attrs:{show:t.searchShow},on:{"update:show":function(e){t.searchShow=e}}}),s("FriendList",{directives:[{name:"show",rawName:"v-show",value:!t.searchShow,expression:"!searchShow"}],ref:"friendlist",attrs:{type:t.type,friendid:t.friendid},on:{setFriendId:t.setFriendId,setType:t.setType,sendCard:t.sendCard,sendMsg:t.sendMsg,delFriend:t.delFriend}})],1),s("FriendInfo",{ref:"friendinfo",attrs:{type:t.type,friendid:t.friendid},on:{sendCard:t.sendCard}}),s("TransMsg",{attrs:{transShow:t.sendShow,transType:t.sendType,transData:t.data},on:{"update:transShow":function(e){t.sendShow=e},"update:trans-show":function(e){t.sendShow=e}}})],1)},Zt=[],$t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"friendcontent"},[i("div",{staticClass:"friendlist",attrs:{id:"friendlist"}},[i("ul",[i("li",{class:["friend-row",1==t.type?"on":""],on:{click:t.newfriendClick}},[i("img",{staticClass:"friend-avatar",attrs:{src:s("4072")}}),i("p",{staticClass:"friend-name"},[t._v(t._s(t.newfrititle))])]),i("div",{staticClass:"friend-total"},[i("span",{staticClass:"friend-line"}),i("span",{staticClass:"total-count"},[t._v(t._s(t.myFriends.totalRow)+"位联系人")]),i("span",{staticClass:"friend-line"})]),t._l(t.friendList,(function(e){return i("div",{key:e.index},[i("div",{staticClass:"letter"},[t._v(t._s(e.index))]),i("div",t._l(e.data,(function(e){return i("li",{key:e.uid,class:["friend-row",t.contextmenushow&&t.contextmenu.data.uid==e.uid?"hover":"",2==t.type&&t.friendid==e.uid?"on":""],on:{click:function(s){return t.friendClick(e)},contextmenu:function(s){return s.preventDefault(),t.chatContextMenu(s,e)}}},[i("el-image",{staticClass:"friend-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"friend-name"},[t._v(t._s(e.remarkname||e.nick))]),null!=t.allconfig.wx_chat_user_isonline_show&&"1"==t.allconfig.wx_chat_user_isonline_show?i("p",{staticClass:"friend-name"},[t._v(t._s("1"==e.isonline?"在线":"离线"))]):t._e()],1)})),0)])}))],2)]),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.contextmenushow,expression:"contextmenushow"}],staticClass:"contextmenu-ul",style:{top:t.contextmenu.top,left:t.contextmenu.left}},[i("li",{on:{click:t.sendMsg}},[t._v("发消息")]),i("li",{on:{click:t.sendCard}},[t._v("发送名片")]),i("li",{on:{click:t.delFriend}},[t._v("删除好友")])])])},te=[],ee=s("7fe7"),se=ee["a"],ie=(s("60eb"),Object(C["a"])(se,$t,te,!1,null,"f82db978",null)),ae=ie.exports,re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"maincontent"},[i("div",{staticClass:"infohead",attrs:{id:"infohead"}},[t._v(" "+t._s(t.title)+" ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.type,expression:"type==1"}],staticClass:"apply-list",attrs:{id:"apply-list"}},[i("ul",t._l(t.applyList,(function(e){return i("li",{key:e.uid,staticClass:"apply-item",style:1==e.status?"cursor:pointer;":"",attrs:{status:"v.status"},on:{click:function(s){return s.stopPropagation(),t.showUserCard(s,e.uid,e)}}},[i("el-image",{staticClass:"apply-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("div",{staticClass:"apply-detail"},[i("p",{staticClass:"apply-name"},[t._v(t._s(e.nick))]),i("p",{staticClass:"apply-greet"},[t._v(t._s(e.greet))])]),i("button",{directives:[{name:"show",rawName:"v-show",value:1==e.status,expression:"v.status==1"}],staticClass:"apply-passed"},[t._v("已添加")]),i("button",{directives:[{name:"show",rawName:"v-show",value:3==e.status,expression:"v.status==3"}],staticClass:"apply-passed"},[t._v("已忽略")]),i("div",{directives:[{name:"show",rawName:"v-show",value:2==e.status,expression:"v.status==2"}]},[i("button",{staticClass:"ignore",on:{click:function(s){return s.stopPropagation(),t.ignoreApply(e.id)}}},[t._v("忽略")]),i("button",{staticClass:"apply-agree",on:{click:function(s){return s.stopPropagation(),t.agreeApply(e.id)}}},[t._v("同意")])])],1)})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.type,expression:"type==2"}],staticClass:"friend-info"},[i("div",{staticClass:"user-info"},[i("el-image",{staticClass:"user-avatar",attrs:{src:t.friendInfo.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("div",{staticClass:"nick-sign"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showRemark,expression:"!showRemark"}],staticClass:"friend-nick"},[i("span",{staticClass:"nick"},[t._v(t._s(t.friendInfo.remarkname||t.friendInfo.nick))]),i("i",{directives:[{name:"show",rawName:"v-show",value:t.curruid!=t.friendid,expression:"curruid!=friendid"}],staticClass:"iconfont iconttubiao_bianji",on:{click:function(e){return e.stopPropagation(),t.showEditIpt(e)}}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showRemark,expression:"showRemark"}],staticClass:"edit-name",on:{click:function(e){return e.stopPropagation(),t.stopProp(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userremark,expression:"userremark"}],attrs:{type:"text",maxlength:"30",placeholder:"请输入备注名"},domProps:{value:t.userremark},on:{mouseup:function(e){return e.stopPropagation(),t.stopProp(e)},input:function(e){e.target.composing||(t.userremark=e.target.value)}}}),i("span",{staticClass:"edit-sure",on:{click:t.sureSaveRemark}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.curruid!=t.friendid,expression:"curruid!=friendid"}],staticClass:"delfriend",on:{click:function(e){return t.delFriend(t.friendid)}}},[i("i",{staticClass:"iconfont iconIMweb_deldte"}),t._v("删除好友 ")])],1),i("div",{staticClass:"friend-sign"},[t._v(" "+t._s(t.friendInfo.sign)+" ")]),i("div",{staticClass:"user-detail"},[i("p",{staticClass:"detail-row"},[i("label",[t._v("昵 称")]),i("span",[t._v(t._s(t.friendInfo.nick))])]),i("p",{staticClass:"detail-row"},[i("label",[t._v("地 区")]),i("span",[t._v(t._s(t.friendInfo.province)+" "+t._s(t.friendInfo.city))])])]),i("div",{staticClass:"user-btngroup"},[i("button",{staticClass:"primarybtn default",on:{click:t.sendCard}},[t._v("发送名片")]),i("button",{staticClass:"primarybtn",on:{click:function(e){return t.sendMessage(t.friendid)}}},[t._v("发消息")])])]),i("UserCard",{ref:"usercard",attrs:{show:t.cardshow,userCard:t.userCard},on:{"update:show":function(e){t.cardshow=e}}}),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.applyshow,expression:"applyshow"}]},[i("div",{staticClass:"modelbody applybody"},[i("p",{staticClass:"title"},[i("label",[t._v("好友备注")])]),i("div",{staticClass:"apply-content"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remarkname,expression:"remarkname"}],attrs:{maxlength:"30"},domProps:{value:t.remarkname},on:{input:function(e){e.target.composing||(t.remarkname=e.target.value)}}}),i("span",{staticClass:"count"},[t._v(t._s(t.remarkname.length)+"/30")])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleApply}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.sureAgree}},[t._v("保存")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.IgnoreApplyshow,expression:"IgnoreApplyshow"}]},[i("div",{staticClass:"modelbody IgnoreApplyshow"},[i("p",{staticClass:"title"},[i("label",[t._v("确定忽略好友请求吗？")])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:function(e){t.IgnoreApplyshow=!1}}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.sureIgnoreApply}},[t._v("忽略")])])])])],1)},oe=[],ne=s("2f2d"),ce=ne["a"],le=(s("a7a0"),Object(C["a"])(ce,re,oe,!1,null,"86f0c790",null)),de=le.exports,ue=s("669e"),he={data(){return{searchShow:!1,friendid:"",type:1,sendShow:!1,sendType:2,data:{}}},components:{Search:Rt["a"],FriendList:ae,FriendInfo:de,TransMsg:ue["a"]},mounted(){this.setApplyThis(this)},methods:{...Object(P["c"])(["setApplyThis"]),setFriendId(t){this.friendid=t.uid},setType(t){this.type=t},sendCard(t){this.data={...t},this.sendShow=!0},sendMsg(t){this.$refs.friendinfo.sendMessage(t)},delFriend(t){this.$refs.friendinfo.delFriend(t)}}},pe=he,ge=(s("ab43"),Object(C["a"])(pe,Xt,Zt,!1,null,"d8d23500",null)),me=ge.exports,fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mainbody"},[s("div",{staticClass:"listcontent"},[s("Search",{attrs:{show:t.searchShow},on:{"update:show":function(e){t.searchShow=e}}}),s("GroupList",{directives:[{name:"show",rawName:"v-show",value:!t.searchShow,expression:"!searchShow"}],ref:"grouplist",attrs:{groupid:t.groupid},on:{setGroupId:t.setGroupId,sendCard:t.sendCard,sendMsg:t.sendMsg}})],1),s("GroupInfo",{ref:"groupinfo",attrs:{groupid:t.groupid},on:{sendCard:t.sendCard,sendMsg:t.sendMsg}}),s("TransMsg",{attrs:{transShow:t.sendShow,transType:t.sendType,transData:t.data,setid:t.setid},on:{"update:transShow":function(e){t.sendShow=e},"update:trans-show":function(e){t.sendShow=e}}})],1)},Ae=[],ve=s("df35"),Ce=ve["a"],be=(s("3040"),Object(C["a"])(Ce,fe,Ae,!1,null,"86b57d1a",null)),we=be.exports;i["default"].use(a["a"]);const ye=a["a"].prototype.push;a["a"].prototype.push=function(t){return ye.call(this,t).catch(t=>t)};const ke=[{path:"/",component:Bt,children:[{path:"/home",name:"聊天",component:qt},{path:"/friend",name:"好友",component:me},{path:"/group",name:"群聊",component:we}]},{path:"/login",component:D}],xe=new a["a"]({mode:"history",base:"/",routes:ke});e["a"]=xe},a374:function(t,e,s){"use strict";s("301b")},a386:function(t,e){t.exports="data:image/png;base64,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"},a4ea:function(t,e,s){"use strict";s("d8c2")},a688:function(t,e,s){"use strict";(function(t){var i=s("c50e"),a=s("a7fe");const r={data(){return{timer:"",searchVal:"",searchDom:"",searchShow:!1,friendList:[],groupList:[],moshengList:[],upfriendList:[],upgroupList:[],upmsList:[],fList:[],gList:[],msList:[],orgGroupList:[]}},methods:{debounce(t,e){null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(t,e)},resetSearchData(){this.searchVal="",this.fList=[],this.gList=[],this.orgGroupList=[],this.serchOne=!0},searchFriends(){let t=this;this.debounce((function(){if(!t.searchVal)return t.fList=[],t.gList=[],void(t.msList=[]);t.getSearchFriend(),t.serchOne?(t.getAllGroupList(),t.serchOne=!1):t.getSearchGroup()}),300)},async getSearchFriend(){let e={mode:1,searchkey:t.trim(this.searchVal)},s=await i["b"].chatMailList(e),r=s.data;if(!r)return;let o=r.fd;o.map(t=>{t.avatar=Object(a["l"])(t.avatar)});let n=r.unfd;n.map(t=>{t.avatar=Object(a["l"])(t.avatar)}),this.friendList=o,this.moshengList=n,this.upfriendList=[...this.friendList].splice(0,5),this.fList=this.upfriendList,this.upmsList=[...this.moshengList].splice(0,5),this.msList=this.upmsList,this.$nextTick(()=>{this.searchDom&&this.searchDom.mCustomScrollbar("update")})},async getAllGroupList(){let t={mode:2},e=[],s=await i["b"].chatMailList(t),r=s.data;r&&(e=r.group,e.map(t=>{t.avatar=Object(a["l"])(t.avatar)})),this.orgGroupList=e,this.getSearchGroup()},getSearchGroup(){if(this.orgGroupList.length>0){let t=new RegExp(""+this.searchVal,"gi"),e=[],s=[...this.orgGroupList];s.forEach((function(s){t.lastIndex=0,t.test(s.name)&&e.push(s)})),this.groupList=[...e],this.upgroupList=e.splice(0,5),this.gList=this.upgroupList,this.$nextTick(()=>{this.searchDom&&this.searchDom.mCustomScrollbar("update")})}},seeAllFriend(){this.fList=this.friendList},seeAllMosheng(){this.msList=this.moshengList},seeAllGroup(){this.gList=this.groupList},upSearchFriend(){this.fList=this.upfriendList},upSearchMosheng(){this.msList=this.upmsList},upSearchGroup(){this.gList=this.upgroupList},brightenKeyword(t,e){return t+="",-1!==t.indexOf(e)&&""!==e?t.replace(e,'<font class="keywordcolor">'+e+"</font>"):t}}};e["a"]=r}).call(this,s("1157"))},a7a0:function(t,e,s){"use strict";s("c8fa")},a7fe:function(module,__webpack_exports__,__webpack_require__){"use strict";(function($){__webpack_require__.d(__webpack_exports__,"l",(function(){return resUrl})),__webpack_require__.d(__webpack_exports__,"n",(function(){return tioCache})),__webpack_require__.d(__webpack_exports__,"g",(function(){return formatSize1})),__webpack_require__.d(__webpack_exports__,"e",(function(){return formatDateByTime})),__webpack_require__.d(__webpack_exports__,"b",(function(){return dataURLtoBlob})),__webpack_require__.d(__webpack_exports__,"j",(function(){return getWithCache})),__webpack_require__.d(__webpack_exports__,"k",(function(){return messageEmoji})),__webpack_require__.d(__webpack_exports__,"c",(function(){return debounce})),__webpack_require__.d(__webpack_exports__,"i",(function(){return getShowTime})),__webpack_require__.d(__webpack_exports__,"f",(function(){return formatMilliseconds})),__webpack_require__.d(__webpack_exports__,"d",(function(){return defineScroll})),__webpack_require__.d(__webpack_exports__,"m",(function(){return setContextmenu})),__webpack_require__.d(__webpack_exports__,"a",(function(){return changeURLArgs})),__webpack_require__.d(__webpack_exports__,"h",(function(){return getQueryString}));var core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("3c5d"),core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_0__),web_storage_cache__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b738"),web_storage_cache__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(web_storage_cache__WEBPACK_IMPORTED_MODULE_1__),_axios_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("eca5"),_public_static_emoji_emojUtil__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("eed2"),_assets_js_ws_tiocookie__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4509"),malihu_custom_scrollbar_plugin_jquery_mCustomScrollbar_concat_min_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("b8b7"),malihu_custom_scrollbar_plugin_jquery_mCustomScrollbar_concat_min_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(malihu_custom_scrollbar_plugin_jquery_mCustomScrollbar_concat_min_js__WEBPACK_IMPORTED_MODULE_5__),malihu_custom_scrollbar_plugin_jquery_mCustomScrollbar_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("e4bd"),malihu_custom_scrollbar_plugin_jquery_mCustomScrollbar_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(malihu_custom_scrollbar_plugin_jquery_mCustomScrollbar_css__WEBPACK_IMPORTED_MODULE_6__);function resUrl(t){let e=JSON.parse(sessionStorage.getItem("tiocomconfig")),s=e.res_server;if(t){var i=t.indexOf("http://"),a=t.indexOf("https://");return i>=0||a>=0?t:0==t.indexOf("/")?s+t:s+"/"+t}return null}let wsCache=new web_storage_cache__WEBPACK_IMPORTED_MODULE_1___default.a({storage:"sessionStorage"}),tioCache={splitStr:"_&_:",set:function(t,e,s,i){wsCache.set(t+tioCache.splitStr+e,s,i)},get:function(t,e){var s=wsCache.get(t+tioCache.splitStr+e);return s},remove:function(t,e){wsCache.delete(t+tioCache.splitStr+e)}};async function getWithCache(t,e,s,i){var a=null;return a=tioCache.get(t,e),a||(a=await i.call(i),a&&tioCache.set(t,e,a,{exp:s}),a)}function formatSize(t,e,s){if(!t)return"0";var i;s=s.concat()||["B","K","M","G","TB"];while((i=s.shift())&&t>1024)t/=1024;return("B"===i?t:t.toFixed(void 0===e?2:e))+i}function formatSize1(t){return formatSize(t,2,["B","K","M","G","TB"])}function btDate(t){if(isBlank(t))return"";var e,s,i,a=Date.parse(t.replace(/-/g,"/")),r=(new Date).getTime(),o=r-a,n=Math.round(o/6e4);return n<1?"刚刚":n>=1&&n<59?n+"分钟前":n>=60?(e=Math.round(n/60),n<1440?e+"小时前":(s=Math.round(e/24),s<=365?s+"天前":(i=Math.round(s/365),i<=10?i+"年前":"很久以前"))):""}function formatDateByTime(t,e){var s=new Date;s.setTime(t);var i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return e}function isBlank(t){return null===t||void 0===t||""===$.trim(t)}function dataURLtoBlob(t){if("data:"!=t){var e=t.split(","),s=e[0].match(/:(.*?);/)[1],i=atob(e[1]),a=i.length,r=new Uint8Array(a);while(a--)r[a]=i.charCodeAt(a);return new Blob([r],{type:s})}}function messageEmoji(t){if(t)return null!=t.match(/\[([^(\]|\[)]*)\]/g)&&(t=Object(_public_static_emoji_emojUtil__WEBPACK_IMPORTED_MODULE_3__["b"])(t)),t}function getCookie(t){for(var e=document.cookie,s=e.split("; "),i=0;i<s.length;i++){var a=s[i].split("=");if(a[0]==t)return decodeURIComponent(a[1])}return""}function debounce(t,e){var s;return function(){let i=this,a=arguments;clearTimeout(s),s=setTimeout((function(){t.apply(i,a)}),e)}}function getShowTime(t,e){if(!t)return"";let s=new Date(Date.parse(t.replace(/-/g,"/"))).getTime(),i=new Date(Date.parse(t.replace(/-/g,"/"))).getFullYear(),a=(new Date).getFullYear();new Date(s);var r,o=formatDateByTime(s,"HH:mm"),n=(new Date).getTime(),c=formatDateByTime(n,"yyyy-MM-dd").replace(/-/g,"/"),l=new Date(c+" 00:00:00").getTime(),d=new Date(c+" 23:59:59").getTime(),u=l-864e5,h=l-864e5;return r=s>l&&s<d?e?btDate(t):o:s>u?"昨天 "+o:s>h?"前天 "+o:formatDateByTime(s,i==a?"MM-dd HH:mm":"yyyy-MM-dd HH:mm"),r}function formatMilliseconds(t){var e="";if(t/=1e3,t>-1){var s=Math.floor(t/60)%60,i=parseInt(t%60);s<10&&(s="0"+s),e+=s+":",i<10&&(i="0"+i),e+=i}return e}function defineScroll(t,e,s,i){t.mCustomScrollbar("destroy"),t.mCustomScrollbar({scrollbarPosition:"outside",theme:"minimal-dark",mouseWheel:{preventDefault:!0},setTop:e||0,callbacks:s||{},updateOnImageLoad:!0,...i})}function setContextmenu(t,e=0,s=0){let i=$(window).width(),a=$(window).height(),r=t.pageY-(document.body.scrollHeight-$("#bodycontent").height())/2;a-r<=e&&(r=a-e),r+="px";let o=0;i-t.pageX<=s&&(o=s);let n=t.pageX-(document.body.scrollWidth-$("#bodycontent").width())/2-o+"px";return{otop:r,oleft:n}}function getBase64(t){let e=new Image;e.setAttribute("crossOrigin","anonymous");let s=$.Deferred();if(t)return e.onload=function(){s.resolve(getBase64Image(e))},e.src=t,s.promise()}function getBase64Image(t,e,s){let i=document.createElement("canvas");i.width=e||t.width,i.height=s||t.height;let a=i.getContext("2d");a.drawImage(t,0,0,i.width,i.height);let r=i.toDataURL();return r}function convertBase64ToBlob(t){var e=t.split(","),s="",i="";e.length>1&&(i=e[1],s=e[0].substring(e[0].indexOf(":")+1,e[0].indexOf(";")));for(var a=atob(i),r=new ArrayBuffer(a.length),o=new Uint8Array(r),n=0;n<a.length;n++)o[n]=a.charCodeAt(n);return new Blob([r],{type:s})}function changeURLArg(url,arg,arg_val){var pattern=arg+"=([^&]*)",replaceText=arg+"="+arg_val;if(url.match(pattern)){var tmp="/("+arg+"=)([^&]*)/gi";return tmp=url.replace(eval(tmp),replaceText),tmp}return url.match("[?]")?url+"&"+replaceText:url+"?"+replaceText}function changeURLArgs(t){for(var e=window.location.href,s=0;s<t.length;s++){var i=t[s];null!=i[1]&&(e=changeURLArg(e,i[0],i[1]))}var a=null,r=null;history.pushState(a,r,e)}function getQueryString(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),s=window.location.search.substr(1).match(e);if(null!=s){var i=s[2];return decodeURIComponent(i)}return null}}).call(this,__webpack_require__("1157"))},a9f5:function(t,e,s){},ab43:function(t,e,s){"use strict";s("2665")},ab74:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAABUElEQVQoU43RMS9EQRQF4HNeXrPFbvwArUInu2OziVqQbKFQSOgoNEKhlFAoJCgUQkE0EgWi8AO2oFjZmaw/oKLQCLaSvDfvyNt4wiOY8t77TeaeIXLHOTcCoAagCeAFwLGkZwBzxpjrbJyfnbX2hOREVpN0miTJfBAELZI9URT112q1+7T/Aa214yTP8y+QVCc5AGBN0pIxZusLdM6tAFjNQwDLkh5J7kpaNMZs52EdwEUeeu/HwjCckTTqve+rVqsPX2Cj0QhLpdIJgPGPAMjTNKQkSdaDIJgsl8tn38Jpt9tD3vtpALMkQ0kxyT0AVyR7JaVPvkn7xpjbbjjOuQ0ASz/sl5U2JR2QvEwvjON4kM65KQBHv6CsNQmgAOCQ5H4KWwDMP2Cz0+kMF4vFJ5LPtNZG6U5/QUmvxpiCtfaum6q1duH9g/+ytlKp7GRDb3MhkB8lA7i/AAAAAElFTkSuQmCC"},abe8:function(t,e,s){"use strict";s("75db")},ac25:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACvElEQVRIS9WUMWgUURCGZ94FbguLXGKRImCKdCe4b56BgIoKacQEFBsFJYgJSUARSRpRiJIiioU2FlbaRRCJhYE0YsDCFO7by8miQSUpUlgkkMJik719I0925ZI7L3uCha98zJvvzcw/P8I/PthMfinlFUR04jheWFpaCrK8bQqglBoEgH4AOMrMi4g47HneeiNQU4A0UbFY3JfP56cRsS8Mw54gCH78CVIX4LruESHEI0QMoygaKpfLyzYBEb1DxFZjzB3f918qpV4AwLrneWOZAVLKQ0KIeWa+DAAdiDiV/PK7TeK67olcLjdjjDm/vb297DjOysbGRmF1dTWsB6mpgIjeA8ATrfUz+0ApNcXMrtZ6IE3guu6QEOK41voSEX1h5gu+73/YE2B/J4R4oLXuqQpuUUr5aVvsfbFY7Mjn8+e01o+JaKRSqcyVy+W1PQFKqXFm7tRa36gOllL2IeL0LnAWlcKOFrmue0YIMai1Ppu+llIeAIDbQoj9nuf9vs+UHaAG0JrL5T5FUdRjS+7q6nLa29tXmHl+a2vrWiM5ZlYREU0CQLcdYCLNW3axtNansv66Oq5GRckSfTTGXC2VSnMA0EJEb5n5te/795uF1F00IupFxNm0VVY1juNYyHOt9V0i6gaAGQDYZOZ7vu+/ydyiNFApdR0ARlMrSKQ5azcXABwAWDDGBFbWiFgCgLF6vtTQi4joIQAcNsYMlEqlTdsuKeW49aBkJhUrhLa2tilEvMjMx7TWXxvOYHepRGR/2B+G4ckgCH7ZRb0jpRxFxNPVG2/jMrlp0q6JOI5Hk8HXMKz6ELHT87zhpipIg5PBP2Xmz4g44Xnet8T8WoUQtkXWumuqzFRBCkkWbwQAJpjZtmsNEXsB4FUcxzeTOe2orilANahQKBy0vhVF0WKj2fwVoJll+/8BPwGIID4oNJSc4wAAAABJRU5ErkJggg=="},ad34:function(t,e,s){},ae2d:function(t,e,s){"use strict";s("d487")},ae31:function(t,e,s){"use strict";s("7aac")},af8d:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.infoshow&&2==t.type,expression:"infoshow&&type==2"}]},[s("div",{staticClass:"modelbody tailoring-container"},[s("div",{staticClass:"ff44 tailoring-content-two"},[s("div",{staticClass:"tailoring-box-parcel"},[s("img",{attrs:{id:"toDataURL_group"}})]),s("div",{staticClass:"preview-box-parcel"},[s("div",{staticClass:"square previewImg"}),s("div",{staticClass:"middle_square previewImg"}),s("div",{staticClass:"middle_circular previewImg"}),s("div",{staticClass:"small_square previewImg"}),s("div",{staticClass:"small_circular previewImg"}),s("div",{attrs:{id:"cropper_data"}},[t._v(" 宽："),s("span",{attrs:{id:"dataWidth"}},[t._v(t._s(t.txcropper.width))]),t._v(" 高："),s("span",{attrs:{id:"dataHeight"}},[t._v(t._s(t.txcropper.height))])])])]),s("div",{staticClass:"tailoring-content-three"},[s("div",{staticClass:"btn-group-left"},[s("button",{staticClass:"commonbtn cropper-reset-btn",on:{click:t.cropperReset}},[t._v("复位")]),s("button",{staticClass:"commonbtn cropper-rotate-btn",on:{click:t.cropperRotate}},[t._v("旋转")]),s("button",{staticClass:"commonbtn cropper-scaleX-btn",on:{click:t.cropperflagX}},[t._v("换向")])]),s("div",{staticClass:"btn-group-right"},[s("button",{staticClass:"primarybtn",attrs:{title:"选择图片"}},[s("input",{staticClass:"hidefile",attrs:{type:"file",accept:"image/jpg, image/jpeg, image/png, image/gif",name:"file",id:"chooseImg"},on:{change:t.changeAvatar}}),t._v(" 选择图片 ")]),s("button",{staticClass:"primarybtn",on:{click:t.sureCut}},[t._v("提 交")]),s("button",{staticClass:"primarybtn",on:{click:t.closeCropper}},[t._v(" 关 闭")])])])])])],1)},a=[],r=s("3ae4"),o=r["a"],n=(s("0032"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,"c9e19da6",null);e["a"]=c.exports},afa8:function(t,e,s){},b06f:function(t,e,s){t.exports=s.p+"static/media/group.4971214f.mp3"},b17c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABXCAYAAABbeCjDAAAFKUlEQVR4Xu2c30sjVxTHz8298yMxWlt/VaX4UMrCsmwf+1AW9rVP3f4NGvLQv0QfdpH2oRhffC60+NDXhSJqbZAlmhh/xh+QxN8WRFKD5pYzdkISM0lmbmbxTuaCSMBzMudzv99z79yMIeDySKfTrzOZzGwul/vS5bdqKT3n/IoQ8jchJDoxMXGIQaSlSId/tLCw8MPY2NivyWSSZrNZh1ncCeOcn1NKvx4fH8+5BmFpaenNyMjIb5RSsr6+Dk8Nwv9o5yORyBtXICwuLn4/Ojr6O2OMcM5hbW0NcrmcO1MqkJVzXohEIl1thxCPx78bGBj4wwRQKpUgmUw+SQjIjzH2aVshLC8vvx4eHn5fCQCVgBDy+bzAnLkX2lYICGBoaOi9qqqGBVAB5u+NjQ3vQ1hZWXk1ODj4Zz0ACCKVSsHx8bF70ymQuS1KaAQA1YA/m5ub3oXQTAGmJdLpNJycnAjMl3uhQkqIx+Pf9vf3L1hZoLInbG1teQ+CHQDYExDC6empe9MpkNmREhKJxDc9PT3LrSjAXB12dna8A2F1dfVlX1/fB1VVA7XLYKPX29vbcHZ2JjBf7oXaUgIC6O3t/RAMBlsCcH9/X94n7O3tyQ/BLoDKpogK2d3dhfPzc/emUyBzS0pIJBIvwuFwolUF1ALA15lMRl4ICKC7u7sKgLkBstMTEMLFxYXAfLkX2lAJJgBd11vqAfUUYII6ODiQD0IqlXoeDAbXRSxgAkA4COHy8tK96RTIXFcJCCAUCq3puk7tSN5UQuWqYMYfHR3JAyGTyTwjhKScArCyxOHhIVxdXQnMl3uhVUrIZrNfFIvF/XYDQDC4bb69vXWvEoHMZQgIoFAoZMLhMLOygJNVAWOur69hf39f4DLdDTUgNALgtHAT5M3NDaAV7u7u3K1EILsBYX5+Pq9p2ueYBy/e/BF5HSAECoUC/PtELVDJzIAwOTlZ4py37cBVV1XjEx09FIIApQJz9HFC2w5BU1UIAICiqqBo2sepQvBd2grBVAAhBPSuLsDfMoy2QMBiNUUpf6ipBYNAGZOhfuMahSEYABgrzzpTFFB1XRoAwhACgQAojBk9AIdsNjBnyrESEIBKaZXvZbOBEASKCqgBgD0AIcg4bCuBUgpKIFClAFlt4EgJ9QBgImyE2BBlHS0rgVEKrEYBWLTMNrClBMYYMELqbn6C4bA0myIrpTZVAi6BqIB6Q3YbtKQEVVGAWmx9vWCDphBUxgCXQquB9wa4V/DCqGuHRgrAovHuEO8SvTIeQcAbITwQsRp4PoDnBF4aVRCaKQAL95INqnrC1NTUvUJpoJECjE2RpgHzkA2qIEy/e4fP2jU8AcEmiCrw4jDsMP32LW9WnBdtUK2EJhC8thrUTnhTJRC0QSgk/da4kdKbQpDl2LyZnR1DkPG80AkMSyXIflBiB4YlBFnPC+0U33B16BQbWELoJBtYQugkG9SF0Gk2eAShE23wCIJXzgsdrw4/TU8X9VBI3g8OnFReEWPsE2ZmZv4hhHwimEvacANCLBbDBwx7pa1C8MJ9COZDGr4SfDs8PK7jK8GH4CsBFxbfDj6Ehw2GrwQfgq+E8mbbt4NvB98Ovh0q7779nuD3BL8n+D3B7wk1Z5JmY9wEgGeC55VShpe/ijAWi/0MAD9KWYX4RT98KeXs7OxnpVLpL0LIV+I55cmAX0/KOX8ZjUbzxvOLc3NzfcVi8RcAeAUAQ/KUYv9K8YtqASDOOY9Eo9EjzCDHv7Har9VWxH/JtyjVMw4cYAAAAABJRU5ErkJggg=="},b309:function(t,e,s){"use strict";s("388f")},b377:function(t,e,s){"use strict";s("3c70")},b99e:function(t,e,s){"use strict";(function(t){var i=s("c50e"),a=s("a7fe");const r={data(){return{myFriendFilter:[],fpagenum:1,ftotalpage:0,pcardsearch:"",letterArr:[],orgSetList:[]}},methods:{initFriend(){let t={myFriendFilter:[],fpagenum:1,ftotalpage:0,pcardsearch:"",letterArr:[],orgSetList:[]};Object.assign(this.$data,t)},brightenKeyword(t,e){return t+="",-1!==t.indexOf(e)&&""!==e?t.replace(e,'<font class="keywordcolor">'+e+"</font>"):t},async getMyFriendList(){let t={searchkey:this.pcardsearch,mode:1,pageNumber:this.fpagenum},e=await i["b"].chatMailList(t);if(!e.ok)return void Object(i["j"])(e.msg);let s=e.data;if(!s)return;let a=s.fd;this.ftotalpage=a.totalPage;let r=a.list;if("search-friend-list"==this.friendscrollid){let t=r.findIndex(t=>t.uid==this.curruid);-1!=t&&r.splice(t,1)}let o=[];1==this.fpagenum?(this.myFriendFilter=[],this.letterArr=[]):o=[...this.myFriendFilter];let n=this.setChatIndex(r,o,"letterArr");this.myFriendFilter=n.contdata,this.scrollNextPage(n)},scrollNextPage(e){let s=this;1==this.fpagenum?(this.orgSetList=e.list,this.$nextTick(()=>{Object(a["d"])(t("#"+this.friendscrollid),"",{whileScrolling:function(){95==this.mcs.topPct&&s.fpagenum<s.ftotalpage&&(s.fpagenum++,s.getMyFriendList())}})})):this.orgSetList=this.orgSetList.concat(e.list)},friendQuerylist:Object(a["c"])((function(){this.fpagenum=1,this.getMyFriendList()}),300),setChatIndex(t,e,s){return t.map(t=>{let i=t.chatindex;if(t.avatar=Object(a["l"])(t.avatar),this[s].find(t=>t==i))e[e.length-1]["data"].push(t);else{let a={index:"",data:[]};this[s].push(i),a.index=i,a.data.push(t),e.push(a)}}),{contdata:e,list:t}}}};e["a"]=r}).call(this,s("1157"))},bb02:function(t,e,s){"use strict";(function(t){var i=s("4360"),a=s("a7fe");const r=function(e,s,r,o,n){log("收到服务器消息",r,n);let c,l,d,u=i["a"].state.Ws,h=i["a"].state.User.currUid,p=u.chatOldMsg,g=n.chatlinkid;if(g!=u.chatOn)return;let m=n.data;if(!m||0==m.length)return void Object(a["d"])(t("#msgcontainer"));let f=u.applyThis;f.$refs.msglist.chatLength=m.length;for(let t=0;t<m.length;t++){let e=m[t];c=e.uid==h,l=2,d={nick:e.nick,avatar:e.avatar},c&&(l=1,d=i["a"].state.User.currUser),1==e.sendbysys&&(l=3),i["a"].commit("chatMessageCt",{bodyObj:e,fromuser:d,sendtype:l,unshift:"unshift"})}f.$refs.msglist.privorgroup(p.startmid)};e["a"]=r}).call(this,s("1157"))},bd30:function(t,e,s){"use strict";(function(t){var i=s("4360"),a=s("c50e"),r=s("453a"),o=async function(e,s,o,n,c){log("收到服务器消息",o,c);let l=i["a"].state.User.currUid;i["a"].commit("setCallShow",!1),Object(a["j"])("通话取消"),t(".iconvoicecall").removeClass("icon_select"),c.fromuid!=l&&Object(r["i"])(!1)};e["a"]=o}).call(this,s("1157"))},bd75:function(t,e){t.exports="data:image/png;base64,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"},be35:function(t,e,s){},bf50:function(t,e,s){t.exports=s.p+"static/img/avatar.2a3e20d9.jpg"},c083:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA0UlEQVRIiWMYBaNg4IH/lP9rQBiXQ1hIcaHxzP+swpwv2XbFSXyFif1lYAjGp4eJFAsk/vw/yfZZ7FXkzP8ixOrBaYHblF9JIIwi+J9BieE/I9f3fww8FFlQP/+/AAsD61wQJtYgkiy4+ICBn4nU8CPFAmoCrBboKzB8ZPz/nwGEaeKDxkTGDwx/GRPAmEKAMx9sLmBciC7GyMD47B8DA9crBoZvxFpLUkb7wshg9ouJgetYJuMrmlhwIJvxC8geZDFmBoa1pJgxCkYBiYCBgQEAU2k3q5zx9ZIAAAAASUVORK5CYII="},c106:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-container",style:{height:t.show?"100%":"auto"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"search-in"},[i("div",{staticClass:"search-ipt"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{attrs:{type:"text",readonly:"",placeholder:"搜索"},on:{click:t.showSearchList}})]),i("i",{staticClass:"iconfont iconIMweb_add addicon",on:{click:function(e){return e.stopPropagation(),t.showMoreOper(e)}}}),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.moreshow,expression:"moreshow"}],staticClass:"more-oper"},[i("span",{staticClass:"popper__arrow"}),i("li",{staticClass:"more-item",on:{click:t.showCreateGroup}},[i("i",{staticClass:"iconfont iconIMweb_group"}),i("span",[t._v("创建群聊")])]),i("li",{staticClass:"more-item",on:{click:t.showAddFriend}},[i("i",{staticClass:"iconfont iconIMweb_addfriends"}),i("span",[t._v("添加好友")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"searchcontent"},[i("div",{staticClass:"search-in"},[i("div",{staticClass:"search-ipt"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],attrs:{type:"text",autocomplete:"off",placeholder:"搜索",id:"list-search"},domProps:{value:t.searchVal},on:{input:[function(e){e.target.composing||(t.searchVal=e.target.value)},t.searchFriends]}}),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel hide-search-icon",on:{click:t.hideSearchContent}})]),i("i",{staticClass:"iconfont iconIMweb_add addicon",on:{click:function(e){return e.stopPropagation(),t.showMoreOper(e)}}}),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.moreshow,expression:"moreshow"}],staticClass:"more-oper"},[i("span",{staticClass:"popper__arrow"}),i("li",{staticClass:"more-item",on:{click:t.showCreateGroup}},[i("i",{staticClass:"iconfont iconIMweb_group"}),i("span",[t._v("创建群聊")])]),i("li",{staticClass:"more-item",on:{click:t.showAddFriend}},[i("i",{staticClass:"iconfont iconIMweb_addfriends"}),i("span",[t._v("添加好友")])])])]),i("div",{staticClass:"trans-list",attrs:{id:"search-mail-list"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.fList.length>0,expression:"fList.length>0"}]},[i("div",{staticClass:"search-title"},[i("span",[t._v("好友")]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.friendList.length>5&&t.fList.length<=5,expression:"friendList.length>5&&fList.length<=5"}],staticClass:"trans-updown",on:{click:t.seeAllFriend}},[t._v(" 查看全部("+t._s(t.friendList.length)+") "),i("i",{staticClass:"iconfont iconttubiao_xiala"})]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.fList.length>5,expression:"fList.length>5"}],staticClass:"trans-updown",on:{click:t.upSearchFriend}},[t._v("收起"),i("i",{staticClass:"iconfont iconttubiao_shangla"})])]),i("ul",t._l(t.fList,(function(e){return i("li",{key:e.uid,staticClass:"trans-row",on:{click:function(s){return t.searchLiClick(1,e.uid)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"row-name",domProps:{innerHTML:t._s(t.brightenKeyword(e.remarkname||e.nick,t.searchVal))}})],1)})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.gList.length>0,expression:"gList.length>0"}]},[i("div",{staticClass:"search-title"},[i("span",[t._v("群聊")]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.groupList.length>5&&t.gList.length<=5,expression:"groupList.length>5&&gList.length<=5"}],staticClass:"trans-updown",on:{click:t.seeAllGroup}},[t._v(" 查看全部("+t._s(t.groupList.length)+") "),i("i",{staticClass:"iconfont iconttubiao_xiala"})]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.gList.length>5,expression:"gList.length>5"}],staticClass:"trans-updown",on:{click:t.upSearchGroup}},[t._v(" 收起 "),i("i",{staticClass:"iconfont iconttubiao_shangla"})])]),i("ul",t._l(t.gList,(function(e){return i("li",{key:e.groupid,staticClass:"trans-row",on:{click:function(s){return t.searchLiClick(2,e.groupid)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"row-name",domProps:{innerHTML:t._s(t.brightenKeyword(e.name,t.searchVal))}})],1)})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.msList.length>0,expression:"msList.length>0"}]},[i("div",{staticClass:"search-title"},[i("span",[t._v("陌生人")]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.moshengList.length>5&&t.msList.length<=5,expression:"moshengList.length>5&&msList.length<=5"}],staticClass:"trans-updown",on:{click:t.seeAllMosheng}},[t._v(" 查看全部("+t._s(t.moshengList.length)+") "),i("i",{staticClass:"iconfont iconttubiao_xiala"})]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.msList.length>5,expression:"msList.length>5"}],staticClass:"trans-updown",on:{click:t.upSearchMosheng}},[t._v(" 收起 "),i("i",{staticClass:"iconfont iconttubiao_shangla"})])]),i("ul",t._l(t.msList,(function(e){return i("li",{key:e.uid,staticClass:"trans-row",on:{click:function(s){return t.searchLiStrangerClick(e.uid)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"row-name",domProps:{innerHTML:t._s(t.brightenKeyword(e.remarkname||e.nick,t.searchVal))}})],1)})),0)])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.addfriend,expression:"addfriend"}]},[i("div",{staticClass:"modelbody addfriend"},[i("div",{staticClass:"title"},[i("label",[t._v("添加好友")]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel",on:{click:t.cancleAdd}})]),i("div",{staticClass:"user-search"},[i("div",{staticClass:"search-content"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"search-input",attrs:{type:"text",placeholder:"输入昵称"},domProps:{value:t.searchValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchFriend(e)},input:function(e){e.target.composing||(t.searchValue=e.target.value)}}})]),i("button",{staticClass:"primarybtn",on:{click:t.searchFriend}},[t._v("查找")])]),i("div",{staticClass:"searchUserList",attrs:{id:"searchUserList"}},[i("ul",{directives:[{name:"show",rawName:"v-show",value:t.searchResult,expression:"searchResult"}],attrs:{id:"sxe4"}},[0==t.searchData.length?i("li",{staticClass:"search-nouser nodata-content"},[i("img",{staticClass:"search-nodata",attrs:{src:s("1e27")}}),i("p",{staticClass:"search-nodata_tips"},[t._v("抱歉，没有找到相关信息")])]):t._l(t.searchData,(function(e){return i("li",{key:e.id,staticClass:"search-row"},[i("el-image",{staticClass:"search-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("div",{staticClass:"search-center"},[i("p",{staticClass:"search-nick",domProps:{textContent:t._s(e.nick)}}),i("p",{staticClass:"search-city"},[t._v(t._s(e.province)+" "+t._s(e.city))])]),i("span",{staticClass:"apply-add",on:{click:function(s){return t.userApply(e.id)}}},[t._v("加好友")])],1)}))],2)])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.creategroup,expression:"creategroup"}]},[i("div",{staticClass:"modelbody transcontainer"},[i("p",{staticClass:"title"},[i("label",{staticClass:"trans-title"},[t._v("创建群聊")]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel",on:{click:t.cancleCreate}})]),i("div",{staticClass:"trans-body"},[i("div",{staticClass:"trans-left"},[i("div",{staticClass:"fillheight"},[i("div",{staticClass:"search-content"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.pcardsearch,expression:"pcardsearch"}],staticClass:"search-input",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.pcardsearch},on:{input:[function(e){e.target.composing||(t.pcardsearch=e.target.value)},t.friendQuerylist]}})]),i("div",{staticClass:"trans-list",attrs:{id:"search-friend-list"}},[i("ul",[0==t.myFriendFilter.length?i("div",{staticClass:"nodata-content"},[i("img",{staticClass:"search-nodata",attrs:{src:s("1e27")}}),i("p",{staticClass:"search-nodata_tips"},[t._v("抱歉，没有找到相关信息")])]):t._e(),t._l(t.myFriendFilter,(function(e){return i("div",{key:e.index},[i("p",{staticClass:"letter-index"},[t._v(t._s(e.index))]),t._l(e.data,(function(e){return i("li",{key:e.uid,staticClass:"trans-row",on:{click:function(s){return t.friendClick(e.uid)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{staticClass:"row-name",domProps:{innerHTML:t._s(t.brightenKeyword(e.remarkname||e.nick,t.pcardsearch))}}),i("span",{staticClass:"tm-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.choosedArr,expression:"choosedArr"}],attrs:{type:"checkbox"},domProps:{value:e.uid,checked:Array.isArray(t.choosedArr)?t._i(t.choosedArr,e.uid)>-1:t.choosedArr},on:{change:function(s){var i=t.choosedArr,a=s.target,r=!!a.checked;if(Array.isArray(i)){var o=e.uid,n=t._i(i,o);a.checked?n<0&&(t.choosedArr=i.concat([o])):n>-1&&(t.choosedArr=i.slice(0,n).concat(i.slice(n+1)))}else t.choosedArr=r}}})])],1)}))],2)}))],2)])])]),i("div",{staticClass:"trans-right-list"},[i("p",{staticClass:"choose-title"},[i("span",[t._v("请勾选要添加的联系人"+t._s(t.choosedArr.length>0?"("+t.choosedArr.length+")":""))]),i("button",{staticClass:"primarybtn",attrs:{disabled:!(t.choosedArr.length>0)},on:{click:t.showSureCreate}},[t._v("创建群聊")])]),i("div",{staticClass:"trans-choosed-list",attrs:{id:"create-choosed-list"}},[i("ul",t._l(t.choosedList,(function(e){return i("li",{key:e.uid,staticClass:"trans-row"},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"row-name"},[t._v(t._s(e.remarkname?e.remarkname:e.nick))]),i("i",{staticClass:"iconfont iconttubiao_cha",on:{click:function(s){return t.cancleDelCoosed(e.uid)}}})],1)})),0)])])])])]),i("UserCard",{ref:"usercard",attrs:{show:t.cardshow,userCard:t.userCard},on:{"update:show":function(e){t.cardshow=e}}}),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.surecreate,expression:"surecreate"}]},[i("div",{staticClass:"modelbody surecreate"},[i("div",{staticClass:"title"},[i("label",[t._v("创建群聊")])]),i("div",{staticClass:"create-content"},[i("div",{staticClass:"create-row"},[i("label",{staticClass:"create-label"},[t._v("群聊名称：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.groupname,expression:"groupname"}],staticClass:"create-name",attrs:{type:"text",maxlength:"30",placeholder:t.createname},domProps:{value:t.groupname},on:{input:function(e){e.target.composing||(t.groupname=e.target.value)}}})]),i("div",{staticClass:"create-row"},[i("label",{staticClass:"create-label"},[t._v("群聊简介：")]),i("div",{staticClass:"areacontainer"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.groupintro,expression:"groupintro"}],attrs:{maxlength:"500",placeholder:"请填写群简介"},domProps:{value:t.groupintro},on:{input:function(e){e.target.composing||(t.groupintro=e.target.value)}}}),i("p",{staticClass:"num-count"},[t._v(t._s(t.groupintro.length)+"/500")])])])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.closeCreate}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.wxSureCreate}},[t._v("创建")])])])])],1)},a=[],r=s("453e"),o=r["a"],n=(s("9173"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,"57102436",null);e["a"]=c.exports},c126:function(t,e,s){"use strict";var i=s("c50e"),a=s("a7fe"),r=s("2f62");const o={data(){return{userCard:{top:0,left:0,data:{},isfriend:!1},cardshow:!1}},methods:{...Object(r["b"])(["getUserInfo"]),async showUserCard(t,e,s){document.documentElement.click();let r=await this.getUserInfo(e);r.avatar=Object(a["l"])(r.avatar),s&&Object.assign(r,{greet:s.greet});let o=await i["e"].isMyFriend(e),n=Object(a["m"])(t,250,250);this.userCard={top:n.otop,left:n.oleft,data:r,isfriend:1==o},this.cardshow=!0}}};e["a"]=o},c12c:function(t,e){t.exports="data:image/png;base64,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"},c2df:function(t,e,s){"use strict";(function(t){var i=s("eca5"),a=s("bc3a"),r=s.n(a),o=s("b311"),n=s.n(o),c=s("2f62"),l=s("c50e"),d=s("7401"),u=s("669e");s("a7fe");e["a"]={props:["show","contextmenu","cmenutype","isFriend","isforbidden","groupInfo"],data(){return{delshow:!1,transType:1,transShow:!1,kickshow:!1,loading:!1,prohibitShow:!1,relieveProhibit:!1,prohibitList:[{title:"10分钟",isCheck:!0,mode:1,oper:1,duration:600},{title:"1小时",isCheck:!1,mode:1,oper:1,duration:3600},{title:"24小时",isCheck:!1,mode:1,oper:1,duration:86400},{title:"长期禁言",isCheck:!1,mode:3,oper:1,duration:""}],prohibitData:{mode:1,oper:1,duration:600},withdrawShow:!1}},computed:{...Object(c["d"])({curruid:t=>t.User.currUid,chatOn:t=>t.Ws.chatOn,bizId:t=>t.Ws.bizId,applyThis:t=>t.Ws.applyThis})},components:{TransMsg:u["a"]},mixins:[],methods:{...Object(c["c"])(["setChatOn"]),copyLink(e){let s=this,i=new n.a(".copymessage",{text:function(){let e=t("#copy"+s.contextmenu.data.mid).html();var i=/<[^>]*>|<\/[^>]*>|&nbsp;/gm;return e=e.replace(/<img[^>]*>|<\/[^>]*>/gm,(e,s)=>{let i=t(e).attr("alt");return i||e}),e=e.replace(i,""),e}});i.on("success",t=>{i.destroy(),Object(l["j"])("复制成功")}),i.on("error",t=>{i.destroy()})},copyImg(t){let e=this;var s=new n.a(".copymessage",{target:function(t){return document.querySelector("#copy"+e.contextmenu.data.mid)}});s.on("success",t=>{s.destroy(),Object(l["j"])("复制成功")}),s.on("error",t=>{s.destroy()})},dealMessage(t){this.loading=!0;let e={chatlinkid:this.chatOn,mids:this.contextmenu.data.mid,oper:t};if(9==t&&this.curruid!==this.contextmenu.data.uid)return this.withdrawShow=!0,void(this.loading=!1);d["a"].msgOper(e).then(t=>{t.ok?this.delshow=!1:Object(l["j"])(t.msg),this.loading=!1})},surerWithdraw(){let t={chatlinkid:this.chatOn,mids:this.contextmenu.data.mid,oper:9};d["a"].msgOper(t).then(t=>{t.ok||Object(l["j"])(t.msg),this.withdrawShow=!1,this.loading=!1})},showDelMsgModel(){this.delshow=!0},cancleDel(){this.delshow=!1},saveAs(t){let e=this.contextmenu.data;6===e.ct?this.downFileVideo(e.bodyData.url,e.bodyData.filename):5===e.ct?(log(e.bodyData.url),this.downFileVideo(e.bodyData.url,e.vc.filename)):3===e.ct&&this.downFileVideo(e.fc.url,e.fc.filename)},downloadCrossDomainFile(t,e){var s=new XMLHttpRequest;s.open("get",t),s.responseType="arraybuffer",s.onprogress=t=>{if(t.lengthComputable)parseInt(t.loaded/t.total*100)},s.onload=function(){var t=document.createElement("a");t.href=window.URL.createObjectURL(new Blob([s.response])),t.download=e,t.click(),t.remove()},s.send()},downFileVideo(t,e){let s="http://121.43.236.18:7070"+t;alert(s+"-"+e),r()({method:"get",responseType:"blob",url:s}).then(t=>{const e=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=e,s.setAttribute("download","filename.docx"),document.body.appendChild(s),s.click(),setTimeout(()=>{URL.revokeObjectURL(e),document.body.removeChild(s)},100)})},downSingle(t,e){let s=t;Object(i["e"])(s).then(t=>{let s=document.createElement("a"),i=window.URL.createObjectURL(t);s.href=i;let a="";a=e,s.download=a,s.click(),window.URL.revokeObjectURL(i)})},downloadIamge(t,e){var s=new Image;s.setAttribute("crossOrigin","anonymous"),s.onload=function(){var t=document.createElement("canvas");t.width=s.width,t.height=s.height;var i=t.getContext("2d");i.drawImage(s,0,0,s.width,s.height);var a=t.toDataURL("image/png"),r=document.createElement("a"),o=new MouseEvent("click");r.download=e||"photo",r.href=a,r.dispatchEvent(o)},s.src="img"+t},showTransMessage(t){this.transType=t,this.transShow=!0},async sendChatMsg(t,e){let s={touid:this.contextmenu.data.uid,uid:this.curruid},i=await d["a"].chatActChat(s),a=this.$route.path;if(i.ok){let t=i.data.chat;"/home"==a?this.applyThis.$refs.chatlist.chatColClick(t):(this.setChatOn({chatOn:t.id,bizid:t.bizid,isGroup:!1}),this.$router.push({path:"/home"}))}else Object(l["j"])(i.msg)},rightRemind(){this.$emit("rightRemind")},referenceMessage(){this.$emit("referenceMessage",this.contextmenu.data)},kickGroup(){this.kickshow=!0,this.loading=!1},cancleKick(){this.kickshow=!1},sureDelGroupMemb(){this.loading=!0;let t=this,e=this.contextmenu.data.uid,s={uids:e,groupid:this.contextmenu.data.groupid||this.bizId},i=this.$route.path;l["g"].kickGroup(s).then(s=>{s.ok?(Object(l["j"])("删除成功"),t.cancleKick(),"/group"==i&&this.applyThis.$refs.groupinfo.afterDelGroup(e),"/home"==i&&"gavatar"==this.cmenutype&&this.$parent.$listeners.getGroupMembers()):Object(l["j"])(s.msg),this.loading=!1})},applyFriend(){let t=this.contextmenu.data.uid;this.$emit("userApply",t),relieveSpeak},prohibitSpeak(){this.prohibitShow=!0},relieveSpeak(){this.relieveProhibit=!0},rohibitIsSelect(t,e){this.prohibitList.forEach(t=>{t.isCheck=!1}),this.prohibitList[e].isCheck=!0;let{mode:s,oper:i,duration:a}=t;this.prohibitData={mode:s,oper:i,duration:a},3==s&&(this.prohibitData.duration="")},sureForbidden(){let t=this.prohibitData;t.uid=this.contextmenu.data.uid,t.groupid=this.contextmenu.data.groupid||this.contextmenu.data.g,l["g"].chatForbidden(t).then(e=>{e.ok?(Object(l["j"])("禁言成功"),this.prohibitShow=!1,""!=t.duration?this.contextmenu.data.forbiddenflag=1:this.contextmenu.data.forbiddenflag=3,"avatar"==this.cmenutype&&(""==t.duration?this.isforbidden.flag=3:this.isforbidden.flag=1),this.resetList()):Object(l["j"])(e.msg)})},surerRelieveForbidden(){let t=this.prohibitData;t.uid=this.contextmenu.data.uid,t.groupid=this.contextmenu.data.groupid||this.contextmenu.data.g,t.oper=2,l["g"].chatForbidden(t).then(t=>{t.ok?(Object(l["j"])("取消禁言成功"),this.relieveProhibit=!1,this.contextmenu.data.forbiddenflag=2,"avatar"==this.cmenutype&&(this.isforbidden.flag=2),this.resetList()):Object(l["j"])(t.msg)})},resetList(){this.prohibitList=this.$options.data().prohibitList,this.prohibitData=this.$options.data().prohibitData},setManager(t){let e={uid:this.contextmenu.data.uid,groupid:this.contextmenu.data.groupid||this.bizId,grouprole:t},s=this.contextmenu.data.nick;var i=3==t?`设置${s}为管理员成功`:`已取消${s}的管理员`;l["g"].group_manager(e).then(e=>{e.ok?(this.contextmenu.data.grouprole=t,this.contextmenu.data.selfGrouprole=t,Object(l["j"])(i)):Object(l["j"])(e.msg)})},async removeUser(){let t=await this.getGroupInfo();log(t)},async getGroupInfo(){let t=await l["g"].getWxGroupInfo(this.groupid,1);return this.groupUser=t.groupuser,t.group.intro=t.group.intro||"",t.group.noticetime=t.group.noticetime?t.group.noticetime.substring(0,16):"",this.groupInfo=t,this.groupInfo}}}}).call(this,s("1157"))},c329:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADPElEQVRoQ+2YXVLbMBDHdx3glfQE0BMAJyCcADgBYQZpeANOUHqChjdGygzmBDUnaLhBuAE9QdtXJ3iZzcgd4SbYKycNmbEebX38f7ur1UoIK95wxfVDA7BsDzYeaDxQ0wJNCNU0YO3hc/NAt9ttr62t7SPiEQBsI2KH1RHREACGRJSMx+PHOI5/11btTVAbQGt9RESHiNgtE0ZELD5hmH6//1DWv8r/IAC29vr6+gkiXrK184WI6BERkyzLhv1+f8Dfz87OOlEU7RLRESLue6KeASBO0/SmjlfEAFrrayK6QMS2C5GfiNiLoii5vb1lUTPb+fn5dpZl7LFLRNzywOPRaHQVAiICYPEA8MUJZ2v3jDFJFVcX+7Bn2IOIeJjvFWvtnnQuEYBSasBhQESn1tpYuti0/uyVl5cXnneLiPastbzpKzcRgNaaeGZjjGhcmZrcMFmWHeR7p2xM/l8kpAGYYdaV8IBSahcAfgDAvbWW0+/f9uEBcvEu9d4bY94ceh8aoCD+KU3TTjHfLx3ApUI+H278NFhFPMfR0gG01hzT31ytc8AQVcX/VwCl1DMfOFEUffbLBq6NNjY2uPbZcRBXDORifmrYLGUTv3cS+xCeuFLxbtwvHpOm6SdpPSQ9yCa1EBE9WGu57n/TChCl4l34dBHxDgCejDGcakVNCsCiv5dZiwu1qiWBUipxBd0/6bUKiQjAWWyyD+ZR0PnhE1IHsR4xQF5SE9HAWntQxUqz+uTZKzR8ggCc1fjisgkAX40xvC/ErZBmj0PvFWIPsFK+B+d7IdT1Wmuu+zntPlprJw8AIS0IwD98AOA5TdM9SfpTSvUQ8QIA/vB9uewq+h5YMEAhZSbGmOMqFnSXfK5KuQWHTr5WMIDzwi4i8gm8SUSxtfb0PYhC3AfvH3+NWgASCPd+dDerpK7ivWl9agNMgRi2Wq1jP6791wy+0BTvA6Hig9LorMU4PBCRXyp2XB9+buF0O3lqdN+ujDG9OoKLY+figXxSt7FZ4Im/EKdKIrquWl5IAOcKkC/sLjj8cNV2J7borWfpABIBdfsuxAN1RUnGNwASay2ib+OBRVhVMmfjAYm1FtF35T3wCnmsCE+mZZhBAAAAAElFTkSuQmCC"},c411:function(t,e,s){},c45d:function(t,e,s){"use strict";(function(t){var i=s("4360"),a=s("a7fe");const r=async function(e,s,r,o,n){log("收到服务器消息",r,n);let c,l,d,u=i["a"].state.Ws,h=i["a"].state.User.currUid,p=u.chatOldMsg,g=n.chatlinkid;if(g!=u.chatOn)return;let m=n.data;if(!m||0==m.length)return void Object(a["d"])(t("#msgcontainer"));let f=u.applyThis;f.$refs.msglist.chatLength=m.length;for(let t=0;t<m.length;t++){let e=m[t];c=e.f==h,l=2,c&&(l=1),d={nick:e.nick,avatar:e.avatar},1==e.sendbysys&&(l=3),i["a"].commit("chatMessageCt",{bodyObj:e,fromuser:d,sendtype:l,unshift:"unshift"})}f.$refs.msglist.privorgroup(p.startmid)};e["a"]=r}).call(this,s("1157"))},c50e:function(t,e,s){"use strict";s.d(e,"j",(function(){return l})),s.d(e,"i",(function(){return d})),s.d(e,"h",(function(){return u})),s.d(e,"c",(function(){return h})),s.d(e,"f",(function(){return m})),s.d(e,"k",(function(){return g})),s.d(e,"d",(function(){return p})),s.d(e,"l",(function(){return A})),s.d(e,"b",(function(){return v})),s.d(e,"e",(function(){return C})),s.d(e,"g",(function(){return b})),s.d(e,"a",(function(){return f}));var i=s("eca5"),a=s("a7fe"),r=s("a026"),o=s("d842"),n=s.n(o);s("2ba8");let c=n()(r["default"]);function l(t){c.msg(t||"网络异常")}function d(){c.loading()}function u(){c.closeAll()}function h(){return Object(i["b"])("/config/viewmodel")}function p(){return Object(i["b"])("/user/curr")}function g(t,e){return Object(i["d"])(t,e)}function m(t,e){let s="/im/turnserver",r="x";return Object(a["j"])(s,r,10,(async function(){var a=null;return await Object(i["b"])(s,{groupid:t,userflag:e}).then(t=>{t.ok&&(a=t.data)}),a}))}const f={getAllConfigs(){return Object(i["b"])("/configs/getAllConfigs")}},A={userLogin(t){return Object(i["c"])("/login/pcloginWithTioNo",t)},retrievePwd(t){return Object(i["c"])("/register/retrievePwd",t)},userRegister(t){let e="";return e=""==t.code?"/register/1":"/register/2",Object(i["c"])(e,t)},updatUser(t){return Object(i["c"])("/user/updatUser",t)},updateAvatar(t){return Object(i["d"])("/user/updateAvatar",t)},updatePwd(t){return Object(i["c"])("/user/updatePwd",t)},logout(){return Object(i["c"])("/logout",[])},reqGet(t){return Object(i["c"])("/anjiCaptcha/get",t)},reqCheck(t){return Object(i["c"])("/anjiCaptcha/check",t)},reqverify(t){return Object(i["c"])("/anjiCaptcha/verify",t)},smsSend(t){return Object(i["b"])("/sms/send",t)},smsCheck(t){return Object(i["b"])("/sms/check",t)},smsBeforeCheck(t){return Object(i["b"])("/sms/beforeCheck",t)},userResetPwdBefore(t){return Object(i["b"])("/user/resetPwdBefore",t)},userResetPwd(t){return Object(i["b"])("/user/resetPwd",t)},userThirdbindphone(t){return Object(i["b"])("/user/thirdbindphone",t)},userRegbindemail(t){return Object(i["c"])("/user/regbindemail",t)},ndapiLogin(t){return Object(i["c"])("/ndapi/login",t)},ndapiAutologin(t){return Object(i["c"])("/ndapi/autologin",t)},changeUserOnlineState(t){return Object(i["c"])("/chat/changeUserOnlineState",t)},getUserInfo(t){return Object(i["b"])("/user/info",t)}},v={chatRecent(){return Object(i["b"])("/chat/list")},chatOper(t){return Object(i["c"])("/chat/oper",t)},msgOper(t){return Object(i["c"])("/chat/msgOper",t)},msgForward(t){return Object(i["c"])("/chat/msgForward",t)},chatMailList(t){return Object(i["b"])("/chat/pcmailList",t)},chatActChat(t){return Object(i["b"])("/chat/actChat",t)},chatActStrangerChat(t){return Object(i["b"])("/chat/actChatStranger",t)},shareCard(t){return Object(i["c"])("/chat/shareCard",t)},bindphone(t){return Object(i["c"])("/user/bindphone",t)},bindnewphone(t){return Object(i["c"])("/user/bindnewphone",t)},chatReadAck(t){return Object(i["b"])("/chat/readAck",t)},msgfreeflag(t){return Object(i["c"])("/chat/msgfreeflag",t)},sysReport(t){return Object(i["c"])("/sys/report",t)}},C={getApplyData(t){return Object(i["b"])("/chat/applyData",t)},getApplyFriendList(t){return Object(i["b"])("/chat/applyList",t)},isMyFriend(t){let e="/chat/isFriend",s=t;return Object(a["j"])(e,s,10,(async function(){var s=null;return await Object(i["c"])(e,{touid:t}).then(t=>{t.ok&&(s=t.data)}),s}))},checkAddFriend(t){return Object(i["b"])("/chat/checkAddFriend",t)},chatAddFriend(t){return Object(i["c"])("/chat/addFriend",t)},modifyRemarkname(t){return Object(i["c"])("/friend/modifyRemarkname",t)},delFriend(t){return Object(i["c"])("/chat/delFriend",t)},dealApply(t){return Object(i["c"])("/chat/dealApply",t)},friendApply(t){return Object(i["c"])("/chat/friendApply",t)},searchUser(t){return Object(i["b"])("/user/search",t)},friendIgnoreApply(t){return Object(i["b"])("/friend/ignoreApply",t)}},b={addMediaGroupChat(t){return Object(i["c"])("/chat/addMediaGroupChat",t)},atGroupUserList(t){return Object(i["b"])("/chat/atGroupUserList",t)},modifyName(t){return Object(i["c"])("/group/modifyName",t)},getWxGroupInfo(t,e){let s="/chat/group",r=t+e;return Object(a["j"])(s,r,5,(async function(){var a=null;return await Object(i["b"])(s,{groupid:t,userflag:e}).then(t=>{t.ok&&(a=t.data)}),a}))},getchatGroupInfo(t){return Object(i["c"])("/chat/group",t)},checkGroupUser(t){return Object(i["b"])("/chat/checkGroupUser",t)},kickGroup(t){return Object(i["c"])("/chat/kickGroup",t)},checkCardJoinGroup(t){return Object(i["b"])("/chat/checkCardJoinGroup",t)},directInvite(t){return Object(i["c"])("/chat/joinGroup",t)},groupMember(t){return Object(i["b"])("/chat/groupUserList",t)},modifyIntro(t){return Object(i["c"])("/group/modifyIntro",t)},modifyNotice(t){return Object(i["c"])("/group/modifyNotice",t)},modifyGroupNick(t){return Object(i["c"])("/chat/modifyGroupNick",t)},leaveGroup(t){return Object(i["c"])("/chat/leaveGroup",t)},checkSendCard(t){return Object(i["b"])("/chat/checkSendCard",t)},modifyApply(t){return Object(i["c"])("/chat/modifyApply",t)},delGroup(t){return Object(i["c"])("/chat/delGroup",t)},changeOwner(t){return Object(i["c"])("/chat/changeOwner",t)},applyGroupFdList(t){return Object(i["b"])("/chat/applyGroupFdList",t)},joinGroup(t){return Object(i["c"])("/chat/joinGroup",t)},createGroup(t){return Object(i["c"])("/chat/createGroup",t)},chatForbidden(t){return Object(i["c"])("/chat/forbidden",t)},forbiddenUserList(t){return Object(i["c"])("/chat/forbiddenUserList",t)},chatForbiddenFlag(t){return Object(i["c"])("/chat/forbiddenFlag",t)},modifyReview(t){return Object(i["c"])("/group/modifyReview",t)},modifyGroupPush(t){return Object(i["c"])("/group/modifyGroupPush",t)},modifyAvatar(t){return Object(i["d"])("/group/modifyAvatar",t)},group_manager(t){return Object(i["c"])("/group/manager",t)},modifyFriendFlag(t){return Object(i["c"])("/group/modifyFriendFlag",t)},joinGroupApply(t){return Object(i["c"])("/chat/joinGroupApply",t)},dealGroupApply(t){return Object(i["c"])("/chat/dealGroupApply",t)},groupApplyInfo(t){return Object(i["c"])("/chat/groupApplyInfo",t)}}},c6b2:function(t,e){t.exports="data:image/png;base64,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"},c7d3:function(t,e,s){"use strict";s("6098")},c803:function(t,e,s){},c8fa:function(t,e,s){},c912:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADy0lEQVRoQ+1Z7VHbQBC9lQoIHYRUEI1UAKSC0AFQAVABdgWYCmIqCFSAKeDOooLYFQQK0G3mafYcxbF0d7Iww4zvH2Pd7b79ePsBqQ9+6IPrr/YA3tuDew/sPbClBQYPoSzLDpIkuSCiY6XUMTMvlFIza+1dWZazLfX97/qgAIqiuGDmEREdtCg6q6rqvCxLgBrkDAIgy7LjJEl+ENEhtGLmJyKaVFUFix8mSXJCRJdKqU/y+8hae1uW5cu2KLYCkGXZYZqmN0qpE1FsqZQaGWOm64rJtxOl1Hf59gWgtNZ324DoBaAR5yMnnJnH1tqJz6rirQkRfZW7ZVVVV33zIxpAURSnzAwFXJw/VFV1GRvXeZ6fIcxcWCml7gVIVH4EA4Dl0jS9BrNICDxba6F4b2YRT14SEd6tD0ggJj+CAIBdlFKwFs4rhBhj3N/bhHB9dz0/lFIIK7BV6XvcC0Bc/UOsc2utHfni3Ce07XfJjykRfRYQ33yyQgD8Rrwz89WQVu8AgUJYAkSIzE4AEvePzLw0xtQcv4vjvI56Yoypc67tdALI8xxV9ZqZb40xKETBR+L6yFq7mM/nT8EX/+bEL9zRWnfqGApgbIxZcX6XMptqhMRzFNcXRcE7B7BeI5j5WdqLuoWI4fqdA3DhJmy1qhHrXM/ML9baLz52eQ8AnWyFnEiS5B4tRAi77BxAiMAGKXhzKuQ9eHuwJA4RuAewgf72HnBGyfN8IT3Mxra4SbHMfL5p6GkaOCQkh84BTGU/hUYxKk6MMeMsyzKZ2lZtuDEm81XmnQOAQkKV6CaPNigY1Ya/CwCndFEUJzK1oS3GkBLdhg8FANMShvY7rfWZz+3rv8MjsaOm82SapmjmXrXWbSuaWpyvnUb8zkPLfyzAtu8bbcmD1rreeLSdkIGmZhdmnhpjzodSsu0dJH2SJI8yRHnZygtAWGQuArFZG28zyHco7laSrm33Wt8bQk6YTGb3jc3a1FoLIFErkDblpUZgeHJTX3DOeT3QAAELQQg2FGCWmutjViAbknx9VbO01p7FeDgYQAMI2uIV12P7TERXWmt4KOjIjHBDRI7ZompEU0g0gGZYCZCa67FCl81a5y4nz3MssUDPNT32qRGDAHCPCOU1N8/ID8y//2yepbjB6qsNtmz2vMurrWg0JCYQEmmaYlN32sgPAJmlaQqFweWuF1rKVjo45N4cQCOswOFY/Lb1QmjwgrYbIYYLptHQx9byo/4XExEtmLm01k59g3ysnDcD0EeRvnd6s1BfgUPf2wMY2qKx7314D/wBbF3vT1TdAXwAAAAASUVORK5CYII="},cac2:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"maincontent"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.hasGroup,expression:"hasGroup"}],staticClass:"infohead",attrs:{id:"infohead"}},[i("div",{staticClass:"head_left_box"},[i("p",{directives:[{name:"show",rawName:"v-show",value:(1==t.groupUser.grouprole||3==t.groupUser.grouprole)&&!t.showEditName,expression:"(groupUser.grouprole==1||groupUser.grouprole==3)&&!showEditName"}],staticClass:"user-name flexCenter",on:{click:function(e){return e.stopPropagation(),t.showEditIpt(e)}}},[i("span",{staticClass:"overell cursor"},[t._v(t._s(t.groupInfo.name)+"("+t._s(t.groupInfo.joinnum)+")")]),i("i",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole||3==t.groupUser.grouprole,expression:"groupUser.grouprole==1||groupUser.grouprole==3"}],staticClass:"iconfont iconttubiao_bianji"})]),i("p",{directives:[{name:"show",rawName:"v-show",value:1!=t.groupUser.grouprole&&3!=t.groupUser.grouprole,expression:"groupUser.grouprole!=1&&groupUser.grouprole!=3"}],staticClass:"user-name"},[t._v(t._s(t.groupInfo.name)+"("+t._s(t.groupInfo.joinnum)+")")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showEditName,expression:"showEditName"}],staticClass:"edit-name",on:{click:function(e){return e.stopPropagation(),t.stopProp(e)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{type:"text",placeholder:"请输入群名称"},domProps:{value:t.userName},on:{mouseup:function(e){return e.stopPropagation(),t.stopProp(e)},input:function(e){e.target.composing||(t.userName=e.target.value)}}}),i("span",{staticClass:"edit-sure",on:{click:t.sureSaveRemark}})])]),i("div",{staticClass:"head_right_box"},[i("div",{staticClass:"icon_qr cursor",on:{click:t.showQrCode}},[i("p")]),i("img",{staticClass:"icon_setup cursor",attrs:{src:s("c912"),alt:"",srcset:""},on:{click:function(e){return e.stopPropagation(),t.showGroupSet(e)}}})]),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.groupSet&&(1==t.groupUser.grouprole||3==t.groupUser.grouprole),expression:"groupSet&&(groupUser.grouprole==1||groupUser.grouprole==3)"}],class:["contextmenu-ul hjgytfnk","groupSet",1==t.groupUser.grouprole||3==t.groupUser.grouprole?"contextmenu-width":""],staticStyle:{"z-index":"888"}},[i("li",[i("span",[t._v("开启成员邀请")]),i("label",{staticClass:"tioim-switch",on:{click:function(e){return t.changeInvit("modifyApply")}}},[i("span",{class:["switch-span",1==t.groupInfo.applyflag?"checked":""]})])]),i("li",[i("span",[t._v("邀请审核")]),i("label",{staticClass:"tioim-switch",on:{click:function(e){return t.changeInvit("modifyReview")}}},[i("span",{class:["switch-span",1==t.groupInfo.joinmode?"checked":""]})])]),i("li",[i("label",{staticClass:"info-label"},[t._v("全员禁言")]),i("label",{staticClass:"tioim-switch",on:{click:t.allForbidden}},[i("span",{class:["switch-span",1==t.groupInfo.forbiddenflag?"checked":""]})])]),i("li",[i("span",[t._v("禁言名单")]),i("label",{staticClass:"tioim-switch",on:{click:t.getForbiddenList}},[i("span",[t._v(t._s(t.search.totalPage)+"人")]),i("i",{staticClass:"iconfont iconttubiao_jiantou"})])]),i("li",[i("span",[t._v("群内互加好友")]),i("label",{staticClass:"tioim-switch",on:{click:function(e){return t.changeInvit("modifyFriendFlag")}}},[i("span",{class:["switch-span",1==t.groupInfo.friendflag?"checked":""]})])]),i("div",{staticClass:"groupmanage_groupsBtn"},[i("button",{staticClass:"cursor",on:{click:function(e){return t.showModel("outgroup")}}},[t._v("退出群")]),i("button",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole,expression:"groupUser.grouprole==1"}],staticClass:"cursor",on:{click:function(e){return t.showModel("delgroup")}}},[t._v("解散群")]),i("button",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole,expression:"groupUser.grouprole==1"}],staticClass:"cursor",on:{click:function(e){return t.showModel("transgroup")}}},[t._v("转让群")])])]),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.groupSet&&2==t.groupUser.grouprole,expression:"groupSet&&groupUser.grouprole==2"}],staticClass:"contextmenu-ul groupSet"},[i("div",[i("li",{on:{click:function(e){return t.showModel("outgroup")}}},[t._v("退出群聊")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.hasGroup,expression:"hasGroup"}],staticClass:"group-container"},[i("div",{staticClass:"membercontent",attrs:{id:"membercontent"}},[i("ul",{staticClass:"memberlist"},[i("li",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole||3==t.groupUser.grouprole||1==t.groupInfo.applyflag,expression:"groupUser.grouprole==1||groupUser.grouprole==3||groupInfo.applyflag==1"}],staticClass:"memeber-col flex_column_between_Center"},[i("div",{staticClass:"groupoper",on:{click:function(e){return t.showModel("addmember")}}},[i("i",{staticClass:"iconfont iconttubiao_addpeople"})]),i("p",{staticClass:"user-name"},[t._v("添加")])]),i("li",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole||3==t.groupUser.grouprole,expression:"groupUser.grouprole==1||groupUser.grouprole==3"}],staticClass:"memeber-col flex_column_between_Center"},[i("div",{staticClass:"groupoper",on:{click:function(e){return t.showModel("delmember")}}},[i("i",{staticClass:"iconfont iconttubiao_Less"})]),i("p",{staticClass:"user-name"},[t._v("删除")])]),t._l(t.groupMember,(function(e){return i("li",{key:e.uid,staticClass:"memeber-col",attrs:{uid:e.uid}},[i("el-image",{staticClass:"user-avatar",attrs:{src:e.avatar},on:{click:function(s){return s.stopPropagation(),t.showUserCard(s,e.uid)},contextmenu:function(s){return s.preventDefault(),t.chatContextMenu(s,e)}}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")},on:{click:function(s){return s.stopPropagation(),t.showUserCard(s,e.uid)},contextmenu:function(s){return s.preventDefault(),t.chatContextMenu(s,e)}}})])]),i("p",{class:[1==e.grouprole?"groupUser":3==e.grouprole?"groupManage":""]}),i("p",{staticClass:"user-name"},[t._v(t._s(e.nick))])],1)}))],2)]),i("div",{staticClass:"group-detail"},[i("p",{staticClass:"group-row"},[i("label",[t._v("群简介")]),i("span",{staticClass:"content cursor",on:{click:function(e){return t.showModel("groupintro")}}},[t._v(t._s(t.groupInfo.intro||"暂无群简介"))]),i("i",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole||3==t.groupUser.grouprole,expression:"groupUser.grouprole==1||groupUser.grouprole==3"}],staticClass:"iconfont iconttubiao_bianji edit",on:{click:function(e){return t.showModel("editintro")}}})]),i("p",{staticClass:"group-row"},[i("label",[t._v("群公告")]),i("span",{staticClass:"content cursor",on:{click:function(e){return t.showModel("groupnotice")}}},[t._v(t._s(t.groupInfo.notice||"暂无群公告"))]),i("i",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole||3==t.groupUser.grouprole,expression:"groupUser.grouprole==1||groupUser.grouprole==3"}],staticClass:"iconfont iconttubiao_bianji edit",on:{click:function(e){return t.showModel("editnotice")}}})]),i("p",{staticClass:"group-row"},[i("label",[t._v("群昵称")]),i("span",[i("span",{staticClass:"content"},[t._v(t._s(t.groupUser.groupnick))]),i("i",{staticClass:"iconfont iconttubiao_bianji edit",on:{click:function(e){return t.showModel("editnick")}}})])])]),i("div",{staticClass:"group-btngroup"},[i("button",{staticClass:"primarybtn default",on:{click:t.sendCard}},[t._v("分享群聊")]),i("button",{staticClass:"primarybtn",on:{click:function(e){return t.sendMessage(t.groupid)}}},[t._v("发消息")])])]),i("GroupModel",{ref:"groupmodel",attrs:{type:t.grouptype,groupInfo:t.groupInfo,groupUser:t.groupUser,removeInfo:t.removeInfo},on:{"update:type":function(e){t.grouptype=e}}}),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.forbiddenListShow,expression:"forbiddenListShow"}]},[i("div",{staticClass:"modelbody addfriend"},[i("div",{staticClass:"title"},[i("label",[t._v("禁言名单")]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel",on:{click:function(e){t.forbiddenListShow=!1}}})]),i("div",{staticClass:"user-search"},[i("div",{staticClass:"search-content"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"search-input",attrs:{type:"text",placeholder:"输入昵称"},domProps:{value:t.searchValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchFriend(e)},input:function(e){e.target.composing||(t.searchValue=e.target.value)}}})]),i("button",{staticClass:"primarybtn",on:{click:t.searchFriend}},[t._v("查找")])]),i("div",{staticClass:"searchUserList",attrs:{id:"searchUserList"}},[i("ul",{directives:[{name:"show",rawName:"v-show",value:t.searchResult,expression:"searchResult"}]},[0==t.searchData.length?i("li",{staticClass:"search-nouser nodata-content"},[i("img",{staticClass:"search-nodata",attrs:{src:s("1e27")}}),i("p",{staticClass:"search-nodata_tips"},[t._v("抱歉，没有找到相关信息")])]):t._l(t.searchData,(function(e){return i("li",{key:e.id,staticClass:"search-row"},[i("el-image",{staticClass:"search-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("div",{staticClass:"search-center"},[i("p",{staticClass:"search-nick",domProps:{textContent:t._s(e.nick)}}),i("p",{staticClass:"search-city"},[t._v(t._s(e.province)+" "+t._s(e.city))])]),i("span",{staticClass:"forbidden_duration cursor",on:{click:function(s){return t.removeForbidden(e)}}},[t._v(t._s(t.SecondToDate(e.forbiddenduration)))]),i("img",{staticClass:"icon_remove cursor",attrs:{src:s("4219"),alt:""},on:{click:function(s){return t.removeForbidden(e)}}})],1)}))],2)])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.forbiddenList,expression:"forbiddenList"}],staticStyle:{"z-index":"1001"}},[i("div",{staticClass:"modelbody remove-modelbody"},[i("div",{staticClass:"singletitle"},[t._v(" 确认将"+t._s(t.removeInfo.nick)+"移除禁言名单？ ")]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:function(e){t.forbiddenList=!1}}},[t._v(" 取消 ")]),i("button",{staticClass:"primarybtn",on:{click:t.remvoeForbidden}},[t._v(" 确定 ")])])])]),i("qrCode",{attrs:{infoQrCode:t.infoQrCode,codeValue:t.codeValue,user_avatar:t.user_avatar,currUser:t.groupInfo,qrmsg:t.qrmsg},on:{"update:infoQrCode":function(e){t.infoQrCode=e},"update:info-qr-code":function(e){t.infoQrCode=e},hideInfoQrCode:t.hideInfoQrCode}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.groupSet,expression:"groupSet"}],staticClass:"mask",on:{click:function(e){t.groupSet=!1}}})],1)},a=[],r=s("f094"),o=r["a"],n=(s("7ea2"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,"d66d0212",null);e["a"]=c.exports},ccec:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[s("div",{staticClass:"modelbody"},[s("p",{staticClass:"title"},[t._v("群聊名称")]),s("div",{staticClass:"groupipt"},[s("input",{attrs:{maxlength:"30",placeholder:"自定义群名称"},domProps:{value:t.name},on:{input:t.handleInput}}),s("p",{staticClass:"num-count"},[t._v(t._s(t.name?t.name.length:0)+"/30")])]),s("div",{staticClass:"button-group"},[s("button",{staticClass:"primarybtn default",on:{click:t.cancleUpdateGn}},[t._v("取消")]),s("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.modifyGroupName}},[t._v("确定")])])])])},a=[],r=s("c50e"),o={props:["show","name","groupid"],data(){return{loading:!1}},methods:{cancleUpdateGn(){this.$emit("update:show",!1)},handleInput(t){this.$emit("update:name",t.target.value)},modifyGroupName(){this.loading=!0;let t={groupid:this.groupid,name:this.name};r["g"].modifyName(t).then(t=>{t.ok?(this.cancleUpdateGn(),this.$emit("saveSuccessName",this.name),Object(r["j"])("保存成功")):Object(r["j"])(t.msg),this.loading=!1})}}},n=o,c=(s("a4ea"),s("2877")),l=Object(c["a"])(n,i,a,!1,null,"4150b927",null);e["a"]=l.exports},d070:function(t,e,s){},d0b5:function(t,e){t.exports="data:image/png;base64,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"},d130:function(t,e){t.exports="data:image/gif;base64,R0lGODlhGAAYAMQSAOny/1aa/k6W//v8/9fo/lGW/vT3/9ro/+72/4i3//f7/lOZ/vb6/2ml/26p/vv9//L3/0yU/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkVGMENDMDZCRDVGODExRUFCQTY2RTQzMEIyOTJBRjNFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkVGMENDMDZDRDVGODExRUFCQTY2RTQzMEIyOTJBRjNFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUYwQ0MwNjlENUY4MTFFQUJBNjZFNDMwQjI5MkFGM0UiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUYwQ0MwNkFENUY4MTFFQUJBNjZFNDMwQjI5MkFGM0UiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQFBAASACwAAAAAGAAYAAAFKaAkjmRpnmiqrmzrvnAszzRLEPUgCLURRb1frlCoSQ4Ho3LJbDqf0GcIACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAsABwADAAoAAAUS4KNIzgIFEYCq6eqmjYAwiBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALBAABgACAAwAAAUJYJJEZGmepxgCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCACH5BAUEABIALAAAAAABAAEAAAUDoBQCADs="},d335:function(t,e,s){"use strict";(function(t){var i=s("4360"),a=s("a7fe"),r=s("a18c"),o=async function(e,s,o,n,c){log("收到服务器消息",o,c);let l=i["a"].state.Ws,{chatOn:d,bizId:u,allNotRead:h,chatSofftop:p,groupAudio:g,iscurrentpage:m,focuskeys:f}=l,A=i["a"].state.User.currUid;var v=c.f==A;c.g;c.t=Object(a["e"])(c.t,"yyyy-MM-dd HH:mm:ss");let C=c.sendbysys,b=f.find(t=>t==c.chatlinkid);if(log("群聊通知"),log("chatOn"),log(d),log("bodyObj.chatlinkid"),log(c.chatlinkid),""!=d&&d==c.chatlinkid){var w={nick:c.nick,avatar:c.avatar},y=2;if(v&&(y=1),1==C&&(y=3),i["a"].commit("chatMessageCt",{bodyObj:c,fromuser:w,sendtype:y}),t("#msgcontainer li:last").length>0){let e=t("#msgcontainer li:last").offset().top;(p>e-100||v)&&l.applyThis.$refs.msglist.scrollBotm()}log("群聊通知:chatOn!=''&&chatOn==bodyObj.chatlinkid"),i["a"].commit("changeChatList",c)}else"/home"==r["a"].history.current.path?(log("群聊通知:router.history.current.path=='/home'"),i["a"].commit("changeChatList",c),v||1==C||(g.play(),m||i["a"].commit("setPageTitle"))):(log("群聊通:总未读条数"),b||1==C||(i["a"].commit("setAllNotRead",++h),g.play(),m||i["a"].commit("setPageTitle")))};e["a"]=o}).call(this,s("1157"))},d378:function(t,e){t.exports="data:image/png;base64,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"},d487:function(t,e,s){},d705:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABJNJREFUWEftmFtoHGUUx/9nNikKEYVW8yBCyc5l2XqDZmZbRWrTUmzBBMHqg60gpC8VFcT3pj5UQQSpb17wwSpYrdCKiaKxiHjZmRS80GXnkvggSENb8BJQmswc+WYv2Z3Mzs5sU1nQeZrd75zv/L5zznfmfB+hzx/qcz78NwBHRrbemMtJG4l4k4gIM13y/eDywsK53682Qj17UJO3jYOCCQDjAEKw6MPAIoHfDoBPXdf6vBfYzICarD9GRE8xUMpikIAyM79qe9Y7GfXSiSuKfrfE0jEQ721oMOCB6bTEwYcrFCxu2PDXohi7cuX64QGWhgOiPSA8TMCWphWmGZb4Bccxv0pjOZUHNc0YQ4CPAVxXn3QWHBy3vbkzaYxo8ug4ID0DwlhdfpkJhx3HfKObfldAVTaOEGGq6TXGIcfrPnGcYVU2JonwestcU45nHk2CTARUVf0QMb3WnECiu2y7/GO3VSeNq+roXmJpuikT0Jg9Xz7bSacjoKoa9xFjFsCgULZds6u3s4BrisF1+b8D8HbXtb6P0+9oVJNL040NwRTsc5y5mSwA3WQ1rXQnAv4hlGOesT1rX2pAUUpAdKKm23vOdYNsy0nmA3ElKNaDBcX4rl7nZm3X3B01pMrGFBHv8Fl60vPKlSSQoqxvWSF6DyDLcctPRGU1xRAFfJeok1XX3BYdXwOoKPpuCfRZzfXBRFwp0RT9LED3M3B+gPnRimedj4Osw50koAjQr7ZbvnUNoChBJJ0W/xPzeNWzPmqVWQOoKfpLAD0njDuueXuc4UJh+x3s+6cAKJ0g2+HEYvGI7Znvx5YfxXAJkEF403bMyURAVTEuEDDMjMQapaqjBrH0AYDbopBZ4ARMQTZeZsKzAC7arnlLR0DRlQzmcr+F7g743uq89U1SfhVkfQcTCchNDUghv0JUD2uy5xpzF/L6PSzR1+L3su/f1NoFtYVYUfQRCTQvBH32Zc87F74nPVpefwASidANCUixtlrOpYMTYrK8NZ+jnCfeA3Deda2Fhs02wHrYymIwN7h0Q6VSWeoGKMZV1XiIGCcBDDTlE3IuOmexWBzyl4f+DNdEbDiOZa0roCYb+0Eh4OpzLQB7CnE73EovXkwd4qybJOK5JSYcpACDbd5M4cnUmyTMp9Uyc9TxzGabFc2bCNxFBPy4PW99IuTWhLwLZOoyE06eolBHAH4h5oNVz/qydRFZINUshTrdp874GcBmAC5TcMBx5sy43d4KKY4HjmsqayOR8VMnJmg2C4wvbM/cFZ1UVUpvEYLNlBt4ulr99qfEOhluInoFCBzbtXbGpMqsOAqkbhZqOdTn7VYNso8b1vrXob9b/jrkJPHqKQz9dGhqJPO1PXbSEccrP5+0yVKd1LR8aSckFkfF9Tu4Mw6nOV+nAhQrrF194BiI2q4+JMYZMJ+Ku/pAjvaAsZ8b7VfNVdNMeHFdrz7avxC9Xx4BOF51zXfTtHCx7VYWxYKsP8gSTYDD67ebY3UZF0B84l+9fosDWb3AxEYxzozLzNIlzyv/kWXRcbKpc/BqDfWq/z9gr55r6P0DD7CMRyhaoQgAAAAASUVORK5CYII="},d785:function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("c50e"),r=s("a7fe"),o=s("dce1"),n=s("2957"),c=s("c126"),l=s("4acc");e["a"]={props:["type","groupInfo","groupUser","removeInfo","groupApplyInfo"],data(){return{notice:"",intro:"",nick:"",isFriend:!1,isforbidden:!1,contextmenushow:!1,contextmenu:{top:0,left:0,data:{}},cmenutype:"gavatar",loading:!1,deltime:5,deltimer:"",transval:"",filterMemberList:[],member:{pagenum:1,totalPage:1,totalRow:1},trans:{show:!1,data:{}},delChoosedList:[],delArr:[],membval:"",delmembershow:!1,shownodata:!1,prohibitShow:!1,prohibitData:{mode:4,oper:1},groupid:"",inviteReason:"",modifyReviewShow:!1,auditProcessing:!1,groupApplyObj:{apply:{},items:{},groupApply:{apply:{}}}}},components:{ContextMenu:o["a"],UserCard:n["a"]},computed:{...Object(i["d"])({curruid:t=>t.User.currUid,applyThis:t=>t.Ws.applyThis})},mixins:[c["a"],l["a"]],watch:{type(t){if(t)switch(t){case"editintro":this.intro=this.groupInfo.intro;break;case"editnotice":this.notice=this.groupInfo.notice;break;case"editnick":this.nick=this.groupUser.groupnick;break;case"delgroup":this.deltime=5,clearInterval(this.deltimer),this.deltimer=setInterval(()=>{--this.deltime,0==this.deltime&&clearInterval(this.deltimer)},1e3);break;case"transgroup":this.transval="",this.memberQuerylist();break;case"delmember":this.delChoosedList=[],this.delArr=[],this.membval="",this.memberQuerylist();break;case"addmember":this.initApplyFd();break}},auditProcessing(t){t&&(this.groupApplyObj=this.groupApplyInfo)}},methods:{...Object(i["c"])(["setGroupMore"]),cancleModel(){"delgroup"==this.type&&clearInterval(this.deltimer),this.$emit("update:type","")},brightenKeyword(t,e){return t+="",-1!==t.indexOf(e)&&""!==e?t.replace(e,'<font class="keywordcolor">'+e+"</font>"):t},sureOutGroup(t){this.loading=!0;let e={groupid:t,uid:this.curruid};a["g"].leaveGroup(e).then(t=>{t.ok?(this.cancleModel(),this.$parent.groupSet=!1):Object(a["j"])(t.msg),this.loading=!1})},sureDelGroup(){this.loading=!0;let t={groupid:this.groupInfo.id,uid:this.curruid},e=this.$route.path;a["g"].delGroup(t).then(t=>{t.ok?(this.cancleModel(),Object(a["j"])("解散成功"),this.$parent.groupSet=!1,"/home"==e&&this.setGroupMore(!1)):Object(a["j"])(t.msg),this.loading=!1})},updateNotice(){this.loading=!0;let t={notice:this.notice,groupid:this.groupInfo.id};a["g"].modifyNotice(t).then(t=>{t.ok?(this.cancleModel(),this.groupInfo.notice=this.notice,Object(a["j"])("保存成功")):Object(a["j"])(t.msg),this.loading=!1})},updateIntro(){this.loading=!0;let t={intro:this.intro,groupid:this.groupInfo.id};a["g"].modifyIntro(t).then(t=>{t.ok?(this.cancleModel(),this.groupInfo.intro=this.intro,Object(a["j"])("保存成功")):Object(a["j"])(t.msg),this.loading=!1})},updateGroupNick(){this.loading=!0;let t={nick:this.nick,groupid:this.groupInfo.id};a["g"].modifyGroupNick(t).then(t=>{t.ok?(this.cancleModel(),this.groupUser.groupnick=this.nick,Object(a["j"])("保存成功")):Object(a["j"])(t.msg),this.loading=!1})},async chatContextMenu(t,e){log("groupModel");let s=e.uid;this.isFriend=await a["e"].isMyFriend(s);let i={uid:s,groupid:this.groupInfo.id},o=await a["g"].chatForbiddenFlag(i);o.ok&&(this.isforbidden=o.data,e.forbiddenInfo=o.data),e.selfGrouprole=this.groupUser.grouprole,e.groupid=this.groupInfo.id;let n=Object(r["m"])(t,130,80);this.contextmenu={top:n.otop,left:n.oleft,data:e},this.contextmenushow=!0,this.$setAddEventListener("contextmenushow")},userApply(t){this.userCard.data.id=t,this.$refs.usercard.applyFriend()},sureCloseInvit(){this.modifyApply(2)},modifyApply(t){this.loading=!0;let e={mode:t,groupid:this.groupInfo.id};a["g"].modifyApply(e).then(e=>{e.ok?(this.groupInfo.applyflag=t,this.cancleModel(),Object(a["j"])("修改成功")):Object(a["j"])(e.msg),this.loading=!1})},async transGroupMember(){let e,s="";"delmember"==this.type&&(s=this.membval,e=t("#group-member-list")),"transgroup"==this.type&&(s=this.transval,e=t("#transOwnerList"));let i={groupid:this.groupInfo.id,pageNumber:this.member.pagenum,searchkey:s},o=await a["g"].groupMember(i);if(o.ok){let t=o.data;this.member.totalPage=t.totalPage,this.member.totalRow=t.totalRow;let s=t.list;if(s.map(t=>{t.avatar=Object(r["l"])(t.avatar)}),this.filterMemberList=this.filterMemberList.concat(s),this.shownodata=!0,1==this.member.pagenum){let t=this;this.$nextTick(()=>{Object(r["d"])(e,"",{whileScrolling:function(){95==this.mcs.topPct&&t.member.pagenum<t.member.totalPage&&(t.member.pagenum++,t.transGroupMember())}})})}}else Object(a["j"])(o.msg)},memberQuerylist:Object(r["c"])((function(){this.shownodata=!1,this.member.pagenum=1,this.filterMemberList=[],this.transGroupMember()}),300),transRowClick(t){this.trans.data=t,this.trans.show=!0},cancleTrans(){this.trans.show=!1},sureTransGroup(){this.loading=!0;let t={otheruid:this.trans.data.uid,groupid:this.bizid||this.groupInfo.id};a["g"].changeOwner(t).then(t=>{t.ok?(this.trans.show=!1,this.cancleModel(),this.$parent.getGroupMembers(),Object(a["j"])("转让成功"),this.$parent.groupSet=!1):Object(a["j"])(t.msg),this.loading=!1})},delMemberClick(e){if(log(this.groupInfo),"delmember"==this.type&&this.groupInfo.uid==e)return;let s=this.delArr.findIndex(t=>t==e);if(-1!=s)this.delChoosedList.splice(s,1),this.delArr.splice(s,1);else{let s,i={};if("delmember"==this.type&&(s=this.filterMemberList),"addmember"==this.type&&(s=this.orgList,50==this.delArr.length))return void Object(a["j"])("一次最多邀请50位好友");s.map(t=>{t.uid==e&&(i=t)}),this.delChoosedList.push(i),this.$nextTick(()=>{Object(r["d"])(t("#del-choosed-list"))}),this.delArr.push(e)}},cancleDelCoosed(t){let e=this.delArr.findIndex(e=>e==t);this.delArr.splice(e,1),this.delChoosedList.splice(e,1)},cancleDelMemb(){this.delmembershow=!1},sureDelMember(){this.delmembershow=!0},delChoosedMember(){this.loading=!0;let t={uids:this.delArr.join(","),groupid:this.groupInfo.id},e=this.$route.path;a["g"].kickGroup(t).then(t=>{t.ok?(this.delmembershow=!1,this.groupInfo.joinnum=this.groupInfo.joinnum-this.delArr.length,Object(a["j"])("删除成功"),"/group"==e&&this.applyThis.$refs.groupinfo.getGroupMembers(),"/home"==e&&this.$emit("getGroupMembers")):Object(a["j"])(t.msg),this.cancleModel(),this.loading=!1})},sureAddMember(){if(this.loading=!0,log(this.groupInfo),1==this.groupInfo.joinmode&&2==this.groupUser.grouprole)return void(this.modifyReviewShow=!0);let t={uids:this.delArr.join(","),groupid:this.groupInfo.id},e=this.$route.path;a["g"].joinGroup(t).then(t=>{t.ok?(this.cancleModel(),this.groupInfo.joinnum=this.groupInfo.joinnum+this.delArr.length,Object(a["j"])("添加成功"),"/group"==e&&this.applyThis.$refs.groupinfo.getGroupMembers(),"/home"==e&&this.$emit("getGroupMembers")):Object(a["j"])(t.msg),this.loading=!1})},sureForbidden(){let t=this.prohibitData;t.oper=1,t.groupid=this.groupInfo.id,log(this.groupInfo.id),a["g"].chatForbidden(t).then(t=>{t.ok?(Object(a["j"])("禁言成功"),this.groupInfo.forbiddenflag=1,this.cancleModel()):Object(a["j"])(t.msg)})},surerRelieveForbidden(){let t=this.prohibitData;t.groupid=this.groupInfo.id,t.oper=2,log(this.groupInfo.id),a["g"].chatForbidden(t).then(t=>{t.ok?(Object(a["j"])("解除禁言成功"),this.groupInfo.forbiddenflag=2,this.cancleModel()):Object(a["j"])(t.msg)})},inviteReasonClick(){if(""==this.inviteReason)return void Object(a["j"])("请填写邀请理由");let t={uids:this.delArr.join(","),groupid:this.groupInfo.id,applymsg:this.inviteReason};a["g"].joinGroupApply(t).then(t=>{t.ok?(Object(a["j"])("申请入群成功"),this.cancleModel(),this.modifyReviewShow=!1,this.inviteReason=""):Object(a["j"])(t.msg)})},agreeToAudit(t){let e={mid:t.mid,aid:t.apply.id};a["g"].dealGroupApply(e).then(t=>{t.ok?(Object(a["j"])("成功"),this.auditProcessing=!1,this.groupApplyObj.groupApply.apply.status=1):Object(a["j"])(t.msg)})}}}}).call(this,s("1157"))},d8c2:function(t,e,s){},d92e:function(t,e){t.exports="data:image/gif;base64,R0lGODlhGAAYAMQWAObm5kBAQPLy8u7u7q6ursHBwa+srb6+vvX19ff391NTUzs7Ozc3N/v7+/Dw8FpaWvn5+UhISMvLy8DAwE5OTjMzM////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxYWFhYmVmNC0yMWM0LWE1NGEtYmU2MS1mODM4ZGMxMDUwNmIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkQ1RkFGMzhENUY5MTFFQTgxRjlFOUUyMDdBMTQ1MUQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkQ1RkFGMzdENUY5MTFFQTgxRjlFOUUyMDdBMTQ1MUQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MWFhYWJlZjQtMjFjNC1hNTRhLWJlNjEtZjgzOGRjMTA1MDZiIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFhYWFiZWY0LTIxYzQtYTU0YS1iZTYxLWY4MzhkYzEwNTA2YiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUEABYALAAAAAAYABgAAAUloCWOZGmeaKqubOu+cCzPdG0Vh11VOl/vPRvBYCsaj8ikcikLAQAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwLAAcAAwAKAAAFEmCTWM/iBBWAqunqpgozIIMVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwFAAYAAwAMAAAFFaAlSRZFQVUlpKvKvm6FVlYUWdMUAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgAh+QQFBAAWACwAAAAAAQABAAAFA6AVAgA7"},d977:function(t,e,s){"use strict";s("d070")},dc96:function(t,e,s){t.exports=s.p+"static/img/swiper1.f663db93.png"},dce1:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"contextmenu-ul",style:{top:t.contextmenu.top,left:t.contextmenu.left}},[s("div",{directives:[{name:"show",rawName:"v-show",value:"msg"==t.cmenutype,expression:"cmenutype=='msg'"}]},[s("li",{directives:[{name:"show",rawName:"v-show",value:3==t.contextmenu.data.grouprole||1==t.contextmenu.data.grouprole||t.curruid==t.contextmenu.data.uid,expression:"contextmenu.data.grouprole==3||contextmenu.data.grouprole==1||curruid==contextmenu.data.uid"}],on:{click:function(e){return t.dealMessage(9)}}},[t._v("撤回")]),s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.contextmenu.data.ct,expression:"contextmenu.data.ct==1"}],staticClass:"copymessage",attrs:{"data-clipboard-action":"copy"},on:{click:function(e){1==t.contextmenu.data.ct?t.copyLink():6==t.contextmenu.data.ct&&t.copyImg()}}},[t._v("复制")]),s("li",{directives:[{name:"show",rawName:"v-show",value:9!=t.contextmenu.data.ct&&10!=t.contextmenu.data.ct&&11!=t.contextmenu.data.ct,expression:"contextmenu.data.ct!=9&&contextmenu.data.ct!=10&&contextmenu.data.ct!=11"}],on:{click:function(e){return t.showTransMessage(1)}}},[t._v("转发")]),s("li",{directives:[{name:"show",rawName:"v-show",value:6==t.contextmenu.data.ct||5==t.contextmenu.data.ct||3==t.contextmenu.data.ct,expression:"contextmenu.data.ct==6||contextmenu.data.ct==5||contextmenu.data.ct==3"}],on:{click:t.saveAs}},[t._v("另存为")]),s("li",{on:{click:t.showDelMsgModel}},[t._v("删除")]),s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.contextmenu.data.ct||6==t.contextmenu.data.ct||5==t.contextmenu.data.ct,expression:"contextmenu.data.ct==1||contextmenu.data.ct==6||contextmenu.data.ct==5"}],on:{click:function(e){return t.referenceMessage()}}},[t._v("引用")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"avatar"==t.cmenutype&&1==t.contextmenu.data.isInGroup,expression:"cmenutype=='avatar'&&contextmenu.data.isInGroup==1"}]},[s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.isFriend,expression:"isFriend==1"}],on:{click:t.sendChatMsg}},[t._v("发消息")]),s("li",{directives:[{name:"show",rawName:"v-show",value:2==t.isFriend&&t.contextmenu.data.friendflag&&1==t.contextmenu.data.friendflag||2==t.isFriend&&(1==t.contextmenu.data.selfGrouprole||3==t.contextmenu.data.selfGrouprole),expression:"isFriend==2&&(contextmenu.data.friendflag&&contextmenu.data.friendflag==1)||isFriend==2&&(contextmenu.data.selfGrouprole==1||contextmenu.data.selfGrouprole==3)"}],on:{click:t.applyFriend}},[t._v("加好友")]),s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.contextmenu.data.isInGroup,expression:"contextmenu.data.isInGroup==1"}],staticClass:"overell",on:{click:t.rightRemind}},[t._v("@"+t._s(t.contextmenu.data.remindnick))]),s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.contextmenu.data.selfGrouprole&&2==t.isforbidden.grouprole,expression:"contextmenu.data.selfGrouprole==1&&isforbidden.grouprole==2"}],on:{click:function(e){return t.setManager(3)}}},[t._v("设置管理员")]),s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.contextmenu.data.selfGrouprole&&1==t.isforbidden.grant&&3==t.isforbidden.grouprole,expression:"contextmenu.data.selfGrouprole==1&&isforbidden.grant==1&&isforbidden.grouprole==3"}],on:{click:function(e){return t.setManager(2)}}},[t._v("取消管理员")]),s("li",{directives:[{name:"show",rawName:"v-show",value:t.curruid!=t.contextmenu.data.uid&&(1==t.isforbidden.grant||1==t.isforbidden.rolegrant)&&2==t.isforbidden.flag&&(2==t.isforbidden.grouprole||"undefind"==t.isforbidden.grouprole),expression:"curruid!=contextmenu.data.uid&&(isforbidden.grant==1||isforbidden.rolegrant==1)&&isforbidden.flag==2&&(isforbidden.grouprole==2||isforbidden.grouprole=='undefind')"}],on:{click:t.prohibitSpeak}},[t._v("禁言")]),s("li",{directives:[{name:"show",rawName:"v-show",value:t.curruid!=t.contextmenu.data.uid&&(1==t.isforbidden.grant||1==t.isforbidden.rolegrant)&&2!=t.isforbidden.flag&&(2==t.isforbidden.grouprole||"undefind"==t.isforbidden.grouprole),expression:"curruid!=contextmenu.data.uid&&(isforbidden.grant==1||isforbidden.rolegrant==1)&&isforbidden.flag!=2&&(isforbidden.grouprole==2||isforbidden.grouprole=='undefind')"}],on:{click:t.relieveSpeak}},[t._v("取消禁言")]),s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.contextmenu.data.isInGroup&&1==t.isforbidden.kickgrant&&(2==t.isforbidden.grouprole||"undefind"==t.isforbidden.grouprole),expression:"contextmenu.data.isInGroup==1&&isforbidden.kickgrant==1&&(isforbidden.grouprole==2||isforbidden.grouprole=='undefind')"}],on:{click:t.kickGroup}},[t._v("移出群聊")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"gavatar"==t.cmenutype,expression:"cmenutype=='gavatar'"}]},[s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.isFriend,expression:"isFriend==1"}],on:{click:t.sendChatMsg}},[t._v("发消息")]),s("li",{directives:[{name:"show",rawName:"v-show",value:2==t.isFriend&&t.groupInfo.friendflag&&1==t.groupInfo.friendflag||2==t.isFriend&&(1==t.contextmenu.data.selfGrouprole||3==t.contextmenu.data.selfGrouprole),expression:"isFriend==2&&(groupInfo.friendflag&&groupInfo.friendflag==1)||isFriend==2&&(contextmenu.data.selfGrouprole==1||contextmenu.data.selfGrouprole==3)"}],on:{click:t.applyFriend}},[t._v("加好友")]),s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.isFriend,expression:"isFriend==1"}],on:{click:function(e){return t.showTransMessage(2)}}},[t._v("发名片")]),s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.contextmenu.data.selfGrouprole&&2==t.contextmenu.data.grouprole,expression:"contextmenu.data.selfGrouprole==1&&contextmenu.data.grouprole==2"}],on:{click:function(e){return t.setManager(3)}}},[t._v("设置管理员")]),s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.contextmenu.data.selfGrouprole&&3==t.contextmenu.data.grouprole,expression:"contextmenu.data.selfGrouprole==1&&contextmenu.data.grouprole==3"}],on:{click:function(e){return t.setManager(2)}}},[t._v("取消管理员")]),s("li",{directives:[{name:"show",rawName:"v-show",value:(1==t.contextmenu.data.selfGrouprole||3==t.contextmenu.data.selfGrouprole)&&2==t.contextmenu.data.grouprole&&t.curruid!=t.contextmenu.data.uid&&2==t.contextmenu.data.forbiddenflag,expression:"(contextmenu.data.selfGrouprole==1||contextmenu.data.selfGrouprole==3)&&contextmenu.data.grouprole==2&&curruid!=contextmenu.data.uid&&contextmenu.data.forbiddenflag==2"}],on:{click:t.prohibitSpeak}},[t._v("禁言")]),s("li",{directives:[{name:"show",rawName:"v-show",value:(1==t.contextmenu.data.selfGrouprole||3==t.contextmenu.data.selfGrouprole)&&2==t.contextmenu.data.grouprole&&t.curruid!=t.contextmenu.data.uid&&2!==t.contextmenu.data.forbiddenflag,expression:"(contextmenu.data.selfGrouprole==1||contextmenu.data.selfGrouprole==3)&&contextmenu.data.grouprole==2&&curruid!=contextmenu.data.uid&&contextmenu.data.forbiddenflag!==2"}],on:{click:t.relieveSpeak}},[t._v("取消禁言")]),s("li",{directives:[{name:"show",rawName:"v-show",value:1==t.isforbidden.kickgrant&&2==t.contextmenu.data.grouprole,expression:"isforbidden.kickgrant==1&&contextmenu.data.grouprole==2"}],on:{click:t.kickGroup}},[t._v("移出群聊")])])]),s("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.delshow,expression:"delshow"}]},[s("div",{staticClass:"modelbody"},[s("p",{staticClass:"singletitle"},[t._v("确定删除该消息吗？")]),s("div",{staticClass:"button-group"},[s("button",{staticClass:"primarybtn default",on:{click:t.cancleDel}},[t._v("取消")]),s("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:function(e){return t.dealMessage(1)}}},[t._v("确定")])])])]),s("TransMsg",{attrs:{transShow:t.transShow,transType:t.transType,transData:t.contextmenu.data},on:{"update:transShow":function(e){t.transShow=e},"update:trans-show":function(e){t.transShow=e}}}),s("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.kickshow,expression:"kickshow"}]},[s("div",{staticClass:"modelbody"},[s("p",{staticClass:"singletitle"},[t._v("确定将该用户移出群聊？")]),s("div",{staticClass:"button-group"},[s("button",{staticClass:"primarybtn default",on:{click:t.cancleKick}},[t._v("取消")]),s("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.sureDelGroupMemb}},[t._v("删除")])])])]),s("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.prohibitShow,expression:"prohibitShow"}]},[s("div",{staticClass:"modelbody prohibit-modelbody"},[s("p",{staticClass:"singletitle"},[t._v("禁言时长")]),s("div",t._l(t.prohibitList,(function(e,i){return s("div",{key:i,staticClass:"m-prohibit-list",on:{click:function(s){return t.rohibitIsSelect(e,i)}}},[s("span",[t._v(t._s(e.title))]),s("p",{staticClass:"m-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isCheck,expression:"item.isCheck"}],attrs:{type:"checkbox",name:"",id:""},domProps:{checked:Array.isArray(e.isCheck)?t._i(e.isCheck,null)>-1:e.isCheck},on:{change:function(s){var i=e.isCheck,a=s.target,r=!!a.checked;if(Array.isArray(i)){var o=null,n=t._i(i,o);a.checked?n<0&&t.$set(e,"isCheck",i.concat([o])):n>-1&&t.$set(e,"isCheck",i.slice(0,n).concat(i.slice(n+1)))}else t.$set(e,"isCheck",r)}}})])])})),0),s("div",{staticClass:"button-group"},[s("button",{staticClass:"primarybtn default",on:{click:function(e){t.prohibitShow=!1}}},[t._v("取消")]),s("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.sureForbidden}},[t._v("确定")])])])]),s("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.relieveProhibit,expression:"relieveProhibit"}]},[s("div",{staticClass:"modelbody"},[s("div",{staticClass:"singletitle"},[t._v(" 确定要取消禁言吗？ ")]),s("div",{staticClass:"button-group"},[s("button",{staticClass:"primarybtn default",on:{click:function(e){t.relieveProhibit=!1}}},[t._v(" 取消 ")]),s("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.surerRelieveForbidden}},[t._v(" 确定 ")])])])]),s("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.withdrawShow,expression:"withdrawShow"}]},[s("div",{staticClass:"modelbody"},[s("div",{staticClass:"singletitle"},[t._v(" 确定撤回该群聊消息？ ")]),s("div",{staticClass:"button-group"},[s("button",{staticClass:"primarybtn default",on:{click:function(e){t.withdrawShow=!1}}},[t._v(" 取消 ")]),s("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.surerWithdraw}},[t._v(" 确定 ")])])])])],1)},a=[],r=s("c2df"),o=r["a"],n=(s("5b08"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,"7a4cebf1",null);e["a"]=c.exports},dce8:function(t,e,s){},dd00:function(t,e,s){"use strict";s("8c7e")},df0c:function(t,e,s){"use strict";(function(t){var i=s("4360"),a=s("a18c"),r=s("c50e"),o=s("4e08"),n=s("3a23"),c=s("a7fe"),l=function(e,s,l,d,u){log("收到服务器消息",l,u);let h=u.oper,p=i["a"].state,g=p.Ws,{applyThis:m,chatList:f,MessageList:A,allNotRead:v,chatOn:C,bizId:b}=(p.User.currUid,g),w=a["a"].history.current.path,y=u.chatlinkid,k=u.g,x="/home"==w,I="/group"==w,O=C==y,M=m.groupid==k,S=f.find(t=>t.id==y),j=u.chatItems;if(j){let e=f.find(t=>t.id==y);if(e){let s=Object.keys(j);t.each(s,(function(t,s){"avatar"==s&&(j[s]=Object(c["l"])(j[s])),e[s]=j[s]})),O&&j.name&&i["a"].commit("setChatInfoKey",{key:"name",val:j.name})}}switch(h){case 1:if(x){if(1==u.grouprole){if(S){let t=[...f],e=t.findIndex(t=>t.id==y);t.splice(e,1),i["a"].commit("setChatList",t)}return void(O&&(m.$refs.chatlist.chatColClick(),Object(r["j"])("解散本群成功")))}O&&Object(o["a"])(n["c"].WxChatItemInfoReq,{chatlinkid:C})}I&&m.inGroupOutGroup(u);break;case 2:O&&i["a"].commit("setGroupMore",!1),M&&(m.$refs.groupinfo.getGroupInfo(),m.$children[1].getAllGroupList());break;case 3:break;case 4:x&&O&&i["a"].commit("setChatInfoKey",{key:"joinnum",val:u.bizdata});break;case 5:if(x){if(S){let t=[...f],e=t.findIndex(t=>t.id==y);t.splice(e,1),i["a"].commit("setChatList",t),i["a"].commit("setGroupMore",!1)}O&&(m.$refs.chatlist.chatColClick(),Object(r["j"])("退出群聊"))}I&&m.inGroupOutGroup(u);break;case 6:x&&O&&(Object(o["a"])(n["c"].WxChatItemInfoReq,{chatlinkid:C}),i["a"].commit("setGroupMore",!1)),I&&m.inGroupOutGroup(u);break;case 9:if(x&&O){let t=A.findIndex(t=>t.mid==u.bizdata);-1!=t&&A.splice(t,1)}break;case 10:if(x){if(O){let t=A.findIndex(t=>t.mid==u.bizdata);-1!=t&&A.splice(t,1)}let t=f.find(t=>t.id==y);t.lastmsgid==u.operbizdata&&(i["a"].commit("setIsLastMsg",!0),Object(o["a"])(n["c"].WxChatItemInfoReq,{chatlinkid:y}))}break;case 21:if(x){let t=f.findIndex(t=>t.id==u.chatlinkid),e=u.bizdata;-1!=t&&(f[t].name=e,O&&i["a"].commit("setChatInfoKey",{key:"name",val:e}))}if(I){let t=u.g,e=m.$refs.grouplist.groupList.find(e=>e.groupid==t);e&&(e.name=u.bizdata)}break;case 22:let e=JSON.parse(u.bizdata);if(x){let s=f.findIndex(t=>t.id==u.chatlinkid);if(-1!=s){let a=Object.keys(e);t.each(a,(function(t,i){"avatar"==i&&(e[i]=Object(c["l"])(e[i])),f[s][i]=e[i]})),O&&e.name&&i["a"].commit("setChatInfoKey",{key:"name",val:e.name})}}I&&m.intGroupInfo(u);break}};e["a"]=l}).call(this,s("1157"))},df35:function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("c106"),r=s("471d"),o=s("cac2"),n=s("669e"),c=s("c50e"),l=s("7401"),d=s("a7fe");e["a"]={data(){return{setid:"share",searchShow:!1,sendShow:!1,sendType:3,data:{},groupid:""}},components:{Search:a["a"],TransMsg:n["a"],GroupList:r["a"],GroupInfo:o["a"]},mounted(){this.setApplyThis(this)},methods:{...Object(i["c"])(["setApplyThis","setChatOn"]),setGroupId(t){this.groupid=t},async sendMsg(t){let e={groupid:t},s=await l["a"].chatActChat(e);if(document.documentElement.click(),s.ok){let t=s.data.chat;this.setChatOn({chatOn:t.id,bizid:t.bizid,isGroup:!0}),this.$router.push({path:"/home"})}else Object(c["j"])(s.msg)},async sendCard(t){let e={groupid:t.groupid},s=await c["g"].checkSendCard(e);s.ok?(t.avatar=Object(d["l"])(t.avatar),this.data={...t},this.sendShow=!0):Object(c["j"])(s.msg)},inGroupOutGroup(t){this.$refs.grouplist.afterOutGroup(t)},intGroupInfo(e){let s=this.$refs.grouplist.groupList,i=this.$refs.groupinfo.groupInfo,a=s.findIndex(t=>t.groupid==e.g),r=JSON.parse(e.bizdata);if(-1!=a){let o=Object.keys(r);t.each(o,(function(t,o){"avatar"==o&&(r[o]=Object(d["l"])(r[o])),s[a][o]=r[o],i.id==e.g&&(i[o]=r[o])}))}}}}}).call(this,s("1157"))},e108:function(t,e,s){t.exports=s.p+"static/img/icon_dy.b6f5416d.png"},e625:function(t,e,s){},e939:function(t,e,s){"use strict";s("ad34")},eb08:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABTklEQVRYR+2Y0U3DQAyG7TvlGZiAdgNGyAbABoeUi7JFGYHH6O4lTEA2QJ2gsEHZoLwmioxOIhI6pcVJKc2D8+zYn3/bZ8kIM/9w5nwggMdWaJSC1tobALiYGlRr/VGW5XbM/yzAAIaILwCwGON8yJaI3rTW91xQLmCNiLcA8BkCTIVExL4Cz845w/HDAszznIIzpdSSm/lQ8CzLUqXUKxGtvffpnwM651gJ7QssgKLgQG+weqofElFQFPzlYZNnRoZEhkSGZI8CskkOtIbs4p/iyCaRTSKbZK6bpCiKRdd11z1f27bvVVXtYt6zTPH3WWQTwzRNcxVDngXQGHOZJEkdAe6893f/pqC1douIoYRPRBTDcC4YvY1BRHOK08cjAKzGkByyJaIH733F8cfaxcGRtTZknxLR5BMcIobbYO2cY1eBDcjJ9hQ2Anisql+KtpM4L2L70wAAAABJRU5ErkJggg=="},ebf5:function(t,e,s){},ec0e:function(t,e,s){t.exports=s.p+"static/img/icon_qq.f2e9e52e.png"},ec36:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"more-body"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.groupmore,expression:"groupmore"}],staticClass:"white-mask",on:{click:t.closeGroupMore}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.groupmore,expression:"groupmore"}],staticClass:"morecontent"},[i("div",{staticClass:"group_tab"},[i("ul",{staticClass:"group_tab_list cursor"},t._l(t.tabList,(function(e,s){return i("li",{key:s,class:["group_tab_item",t.tabIndex==s?"tab_select":""],on:{click:function(e){return t.tabClick(s)}}},[t._v(" "+t._s(e.title)+" "),i("p")])})),0),i("img",{attrs:{src:s("9df7"),alt:"",srcset:""}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:0===t.tabIndex,expression:"tabIndex===0"}],staticClass:"groupcontainer"},[i("div",{staticClass:"group_info"},[i("div",{staticClass:"groupInfo-avatar"},[i("el-image",{staticClass:"info-avatar",attrs:{src:t.groupInfo_avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole||3==t.groupUser.grouprole,expression:"groupUser.grouprole==1||groupUser.grouprole==3"}],staticClass:"hoverblack",on:{click:function(e){return t.showUpdateInfo(2)}}}),i("img",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole||3==t.groupUser.grouprole,expression:"groupUser.grouprole==1||groupUser.grouprole==3"}],staticClass:"hover-icon",attrs:{src:s("914e")},on:{click:function(e){return t.showUpdateInfo(2)}}})],1),i("p",{staticClass:"groupInfo_name cursor info-row",on:{click:t.editGroupName}},[t._v(t._s(t.groupInfo_name)+" "),i("i",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole||3==t.groupUser.grouprole,expression:"groupUser.grouprole==1||groupUser.grouprole==3"}],staticClass:"iconfont iconttubiao_bianji edit",on:{click:t.editGroupName}})]),i("div",{staticClass:"icon_share cursor",on:{click:function(e){return t.shareGroup(t.groupInfo)}}},[i("p")]),i("div",{staticClass:"icon_qr cursor",on:{click:t.showQrCode}},[i("p")])]),i("div",{staticClass:"groupInfo_content"},[i("p",{staticClass:"info-row"},[i("label",{staticClass:"info-label"},[t._v("群人数")]),i("span",{staticClass:"info-content",on:{click:t.goMemberTab}},[t._v(t._s(t.member.totalRow)+"人")])]),i("p",{staticClass:"info-row"},[i("label",{staticClass:"info-label"},[t._v("群简介")]),i("span",{staticClass:"info-content",on:{click:function(e){return t.showModel(1==t.groupUser.grouprole||3==t.groupUser.grouprole?"editintro":"groupintro")}}},[t._v(t._s(t.groupInfo.intro||"暂无群简介"))]),1==t.groupUser.grouprole||3==t.groupUser.grouprole?i("i",{staticClass:"iconfont iconttubiao_bianji edit",on:{click:function(e){return t.showModel("editintro")}}}):t._e()]),i("p",{staticClass:"info-row"},[i("label",{staticClass:"info-label"},[t._v("群公告")]),i("span",{staticClass:"info-content",on:{click:function(e){return t.showModel(1==t.groupUser.grouprole||3==t.groupUser.grouprole?"editnotice":"groupnotice")}}},[t._v(t._s(t.groupInfo.notice||"暂无群公告"))]),1==t.groupUser.grouprole||3==t.groupUser.grouprole?i("i",{staticClass:"iconfont iconttubiao_bianji edit",on:{click:function(e){return t.showModel("editnotice")}}}):t._e()]),i("p",{staticClass:"info-row"},[i("label",{staticClass:"info-label"},[t._v("群主")]),i("span",{staticClass:"info-content no-cursor"},[t._v(t._s(t.groupInfo.nick))])]),i("p",{staticClass:"info-row"},[i("label",{staticClass:"info-label"},[t._v("本群昵称")]),i("span",{staticClass:"info-content",on:{click:function(e){return t.showModel("editnick")}}},[t._v(t._s(t.groupUser.groupnick))]),i("i",{staticClass:"iconfont iconttubiao_bianji edit",on:{click:function(e){return t.showModel("editnick")}}})]),i("p",{staticClass:"info-row"},[i("label",{staticClass:"info-label"},[t._v("消息免打扰")]),i("label",{staticClass:"tioim-switch",on:{click:function(e){return t.changeInvit("freeflag")}}},[i("span",{class:["switch-span",1==t.groupUser.msgfreeflag?"checked":""]})]),i("span",{staticClass:"apply-status"},[t._v(t._s(1==t.groupUser.msgfreeflag?"免打扰":"正常"))])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isGroupLeader,expression:"!isGroupLeader"}],staticClass:"groupmanage_groupsBtn"},[i("button",{staticClass:"cursor",on:{click:function(e){return t.showModel("outgroup")}}},[t._v("退出群")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.tabIndex,expression:"tabIndex===1"}],staticClass:"groupcontainer"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.searchshow,expression:"searchshow"}],staticClass:"groupcontainer"},[i("div",{staticClass:"search-in search-top"},[i("div",{staticClass:"search-ipt"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],attrs:{id:"group-search",type:"text",placeholder:"搜索群成员"},domProps:{value:t.searchVal},on:{input:[function(e){e.target.composing||(t.searchVal=e.target.value)},t.memberQuerylist]}}),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel hide-search-icon",on:{click:t.hideSearchList}})])]),i("div",{staticClass:"searchlist",attrs:{id:"searchlist"}},[i("ul",t._l(t.filterMemberList,(function(e){return i("li",{key:e.uid,staticClass:"trans-row",on:{click:function(s){return s.stopPropagation(),t.showCard(s,e.uid)},contextmenu:function(s){return s.preventDefault(),t.chatContextMenu(s,e)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")},on:{click:function(s){return s.stopPropagation(),t.showCard(s,e.uid)}}})])]),i("p",{staticClass:"row-name",domProps:{innerHTML:t._s(t.brightenKeyword(e.remarkname||e.nick,t.searchVal))}}),i("p",{class:[1==e.grouprole||1===e.selfGrouprole?"groupUser":3==e.grouprole||3==e.selfGrouprole?"groupManage":""]})],1)})),0)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.searchshow,expression:"!searchshow"}],staticClass:"group-main-info"},[i("div",{staticClass:"search-in search-top"},[i("div",{staticClass:"search-ipt"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{attrs:{type:"text",readonly:"",placeholder:"搜索群成员"},on:{click:t.showSearchList}})])]),i("div",{class:["membercontent",t.seemorememb?"minmember":"maxmember"],attrs:{id:"membercontent"}},[i("ul",{staticClass:"memberlist"},[i("li",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole||3==t.groupUser.grouprole||1==t.groupInfo.applyflag,expression:"groupUser.grouprole==1||groupUser.grouprole==3||groupInfo.applyflag==1"}],staticClass:"memeber-col flex_column_between_Center"},[i("div",{staticClass:"groupoper",on:{click:function(e){return t.showModel("addmember")}}},[i("i",{staticClass:"iconfont iconttubiao_addpeople"})]),i("p",{staticClass:"user-name"},[t._v("添加")])]),i("li",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole||3==t.groupUser.grouprole,expression:"groupUser.grouprole==1||groupUser.grouprole==3"}],staticClass:"memeber-col flex_column_between_Center"},[i("div",{staticClass:"groupoper",on:{click:function(e){return t.showModel("delmember")}}},[i("i",{staticClass:"iconfont iconttubiao_Less"})]),i("p",{staticClass:"user-name"},[t._v("删除")])]),t._l(t.groupMember,(function(e){return i("li",{key:e.uid,staticClass:"memeber-col",attrs:{uid:e.uid}},[i("el-image",{staticClass:"user-avatar",attrs:{src:e.avatar},on:{click:function(s){return s.stopPropagation(),t.showCard(s,e.uid)},contextmenu:function(s){return s.preventDefault(),t.chatContextMenu(s,e)}}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")},on:{click:function(s){return s.stopPropagation(),t.showCard(s,e.uid)},contextmenu:function(s){return s.preventDefault(),t.chatContextMenu(s,e)}}})])]),i("p",{class:[1==e.grouprole||1===e.selfGrouprole?"groupUser":3==e.grouprole||3==e.selfGrouprole?"groupManage":""]}),i("p",{staticClass:"user-name"},[t._v(t._s(e.nick))])],1)}))],2)]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.seemorememb&&(1==t.groupUser.grouprole?t.groupInfo.joinnum>13:t.groupInfo.joinnum>14),expression:"seemorememb&&(groupUser.grouprole==1?(groupInfo.joinnum>13):(groupInfo.joinnum>14))"}],staticClass:"moredown",on:{click:function(e){return t.seeMoreMember(!1)}}},[t._v("查看更多"),i("i",{staticClass:"iconfont iconttubiao_jiantou"})]),i("p",{directives:[{name:"show",rawName:"v-show",value:!t.seemorememb,expression:"!seemorememb"}],staticClass:"moredown moreup",on:{click:function(e){return t.seeMoreMember(!0)}}},[t._v("收起"),i("i",{staticClass:"iconfont iconttubiao_shangla"})])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.tabIndex,expression:"tabIndex===2"}],staticClass:"groupcontainer"},[i("div",{staticClass:"group-main-info group_manage"},[i("p",{staticClass:"info-row"},[i("label",{staticClass:"info-label"},[t._v("群内互加好友")]),i("label",{staticClass:"tioim-switch",on:{click:function(e){return t.changeInvit("modifyFriendFlag")}}},[i("span",{class:["switch-span",1==t.groupInfo.friendflag?"checked":""]})])]),i("p",{staticClass:"info-row"},[i("label",{staticClass:"info-label"},[t._v("开启成员邀请")]),i("label",{staticClass:"tioim-switch",on:{click:function(e){return t.changeInvit("applyflag")}}},[i("span",{class:["switch-span",1==t.groupInfo.applyflag?"checked":""]})])]),i("p",{staticClass:"info-row"},[i("label",{staticClass:"info-label"},[t._v("邀请审核")]),i("label",{staticClass:"tioim-switch",on:{click:function(e){return t.changeInvit("modifyReview")}}},[i("span",{class:["switch-span",1==t.groupInfo.joinmode?"checked":""]})])]),i("div",{staticClass:"groupmanage_content"},[i("p",{staticClass:"info-row"},[i("label",{staticClass:"info-label"},[t._v("全员禁言")]),i("label",{staticClass:"tioim-switch",on:{click:t.allForbidden}},[i("span",{class:["switch-span",1==t.groupInfo.forbiddenflag?"checked":""]})])]),i("p",{staticClass:"info-row"},[i("label",{staticClass:"info-label"},[t._v("禁言名单")]),i("label",{staticClass:"tioim-switch",on:{click:t.getForbiddenList}},[i("span",[t._v(t._s(t.search.totalPage)+"人")]),i("i",{staticClass:"iconfont iconttubiao_jiantou"})])]),i("div",{staticClass:"groupmanage_groupsBtn"},[i("button",{staticClass:"cursor",on:{click:function(e){return t.showModel("outgroup")}}},[t._v("退出群")]),i("button",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole,expression:"groupUser.grouprole==1"}],staticClass:"cursor",on:{click:function(e){return t.showModel("delgroup")}}},[t._v("解散群")]),i("button",{directives:[{name:"show",rawName:"v-show",value:1==t.groupUser.grouprole,expression:"groupUser.grouprole==1"}],staticClass:"cursor",on:{click:function(e){return t.showModel("transgroup")}}},[t._v("转让群")])])])])])]),i("GroupModel",{ref:"groupmodel",attrs:{type:t.grouptype,groupInfo:t.groupInfo,groupUser:t.groupUser,removeInfo:t.removeInfo},on:{"update:type":function(e){t.grouptype=e},getGroupMembers:t.getGroupMembers}}),i("GroupName",{attrs:{show:t.editname,name:t.groupname,groupid:t.groupInfo.id},on:{"update:show":function(e){t.editname=e},"update:name":function(e){t.groupname=e},saveSuccessName:t.saveSuccessName}}),i("GroupAvatar",{attrs:{infoshow:t.infoshow,userinfo:t.groupInfo,type:t.infotype},on:{"update:infoshow":function(e){t.infoshow=e},groupAvatar:t.groupAvatar}}),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.forbiddenListShow,expression:"forbiddenListShow"}]},[i("div",{staticClass:"modelbody addfriend"},[i("div",{staticClass:"title"},[i("label",[t._v("禁言名单")]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel",on:{click:function(e){t.forbiddenListShow=!1}}})]),i("div",{staticClass:"user-search"},[i("div",{staticClass:"search-content"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"search-input",attrs:{type:"text",placeholder:"输入昵称"},domProps:{value:t.searchValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchFriend(e)},input:function(e){e.target.composing||(t.searchValue=e.target.value)}}})]),i("button",{staticClass:"primarybtn",on:{click:t.searchFriend}},[t._v("查找")])]),i("div",{staticClass:"searchUserList",attrs:{id:"searchUserList"}},[i("ul",{directives:[{name:"show",rawName:"v-show",value:t.searchResult,expression:"searchResult"}]},[0==t.searchData.length?i("li",{staticClass:"search-nouser nodata-content"},[i("img",{staticClass:"search-nodata",attrs:{src:s("1e27")}}),i("p",{staticClass:"search-nodata_tips"},[t._v("抱歉，没有找到相关信息")])]):t._l(t.searchData,(function(e){return i("li",{key:e.id,staticClass:"search-row"},[i("el-image",{staticClass:"search-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("div",{staticClass:"search-center"},[i("p",{staticClass:"search-nick",domProps:{textContent:t._s(e.nick)}}),i("p",{staticClass:"search-city"},[t._v(t._s(e.province)+" "+t._s(e.city))])]),i("span",{staticClass:"forbidden_duration cursor",on:{click:function(s){return t.removeForbidden(e)}}},[t._v(t._s(t.SecondToDate(e.forbiddenduration)))]),i("img",{staticClass:"icon_remove cursor",attrs:{src:s("4219"),alt:""},on:{click:function(s){return t.removeForbidden(e)}}})],1)}))],2)])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.forbiddenList,expression:"forbiddenList"}],staticStyle:{"z-index":"1001"}},[i("div",{staticClass:"modelbody remove-modelbody"},[i("div",{staticClass:"singletitle"},[t._v(" 确认将"+t._s(t.removeInfo.nick)+"移除禁言名单？ ")]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:function(e){t.forbiddenList=!1}}},[t._v(" 取消 ")]),i("button",{staticClass:"primarybtn",on:{click:t.remvoeForbidden}},[t._v(" 确定 ")])])])]),i("TransMsg",{attrs:{transShow:t.sendShow,transType:t.sendType,transData:t.data,setid:t.setid},on:{"update:transShow":function(e){t.sendShow=e},"update:trans-show":function(e){t.sendShow=e}}}),i("qrCode",{attrs:{infoQrCode:t.infoQrCode,codeValue:t.codeValue,user_avatar:t.user_avatar,currUser:t.groupInfo,qrmsg:t.qrmsg},on:{"update:infoQrCode":function(e){t.infoQrCode=e},"update:info-qr-code":function(e){t.infoQrCode=e},hideInfoQrCode:t.hideInfoQrCode}})],1)},a=[],r=s("35f7"),o=r["a"],n=(s("dd00"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,"7448de93",null);e["a"]=c.exports},eca5:function(t,e,s){"use strict";(function(t){s.d(e,"c",(function(){return u})),s.d(e,"b",(function(){return h})),s.d(e,"d",(function(){return p})),s.d(e,"e",(function(){return g})),s.d(e,"a",(function(){return f}));var i=s("bc3a"),a=s.n(i),r=s("a18c"),o=s("21a6");let n=a.a.create({baseURL:"/mytio"}),c=".tio_x",l=1e3,d={NOTLOGIN:1+l,TIMEOUT:2+l,KICKTED:3+l,NO_GRANT:99+l};function u(e,s){return e+=c,"object"===typeof s&&(s=t.param(s)),new Promise((t,i)=>{n.post(e,s).then(e=>{t(e.data)}).catch(t=>{info(t)})})}function h(t,e){return t+=c,new Promise((s,i)=>{n.get(t,{params:e}).then(t=>{s(t.data)}).catch(t=>{info(t)})})}function p(t,e){return t+=c,new Promise((s,i)=>{n.post(t,e,{contentType:!1,processData:!1}).then(t=>{s(t.data)}).catch(t=>{info(t)})})}function g(t,e){return new Promise((e,s)=>{n.get(t,{responseType:"arraybuffer",responseType:"blob"}).then(t=>{e(t.data)}).catch(t=>{error(t)})})}function m(t){return"application/json"!==t.type}function f(t,e){n.get(t,{params:e},{responseType:"blob"}).then(t=>{const e=m(t.data);if(e){const e=new Blob([t.data]);Object(o["saveAs"])(e,decodeURIComponent(t.headers["download-filename"]))}else console.log("res===",t)})}n.interceptors.response.use((function(t){let e=t.data.code,s=r["a"].history.current.path;if("/login"!=s&&"/"!=s&&(e!=d.NOTLOGIN&&e!=d.TIMEOUT&&e!=d.KICKTED||(location.reload(),r["a"].push("/login"))),e!=d.NO_GRANT)return t;location.replace("/2/grant/client/client.html?redirect_uri_after_grant="+encodeURIComponent(location.href))}))}).call(this,s("1157"))},ecd1:function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("453a"),r=s("4e08"),o=s("3a23"),n=s("c50e");e["a"]={data(){return{wxCallLocalVideo:wxCallLocalVideo,wxCallRemoteVideo:wxCallRemoteVideo,wxCallLocalAudio:wxCallLocalAudio,wxCallRemoteAudio:wxCallRemoteAudio}},computed:{...Object(i["d"])({curruser:t=>t.User.currUser,callShow:t=>t.Call.callShow,callInfo:t=>t.Call.callInfo,calltype:t=>t.Call.calltype,callObj:t=>t.Call.callObj,talk:t=>t.Call.talk,callRole:t=>t.Call.callRole,remoteReq:t=>t.Call.remoteReq,fullState:t=>t.Call.fullState})},mounted(){this.$nextTick(()=>{wxCallLocalVideo=document.getElementById("wxCallLocalVideo"),wxCallRemoteVideo=document.getElementById("wxCallRemoteVideo"),wxCallLocalAudio=document.getElementById("wxCallLocalAudio"),wxCallRemoteAudio=document.getElementById("wxCallRemoteAudio")})},methods:{...Object(i["c"])(["setRemoteReq","setTalkTimer","setCallShow","setFullState","listenFull","exitFullScreen"]),remoteRefuseVideo(){this.setRemoteReq({val:2,key:"result"}),Object(r["a"])(o["c"].WxCall03ReplyReq,this.remoteReq),t(".iconvoicecall").removeClass("icon_select"),t(".iconVideocall").removeClass("icon_select"),Object(n["j"])("通话结束")},remoteAgreeVideo(){Object(a["j"])(),this.setRemoteReq({val:1,key:"result"}),Object(r["a"])(o["c"].WxCall03ReplyReq,this.remoteReq),this.setTalkTimer()},localCancleCall(){Object(r["a"])(o["c"].WxCall02_1CancelReq,{})},videoHangUp(){this.talk.timer&&(this.talk.time="00:00",clearInterval(this.talk.timer)),this.setCallShow(!1),t(".iconvoicecall").removeClass("icon_select"),t(".iconVideocall").removeClass("icon_select"),Object(n["j"])("通话结束"),Object(a["i"])(!0,1)},changeFrame(e){let s=t(e.currentTarget),i=s.hasClass("left-big-content"),a=s.hasClass("right-sml-content");i&&(s.removeClass("left-big-content").addClass("right-sml-content"),s.siblings().removeClass("right-sml-content").addClass("left-big-content")),a&&(s.removeClass("right-sml-content").addClass("left-big-content"),s.siblings().removeClass("left-big-content").addClass("right-sml-content"))},setFullScreen(){this.setFullState(!0);let t=document.body;t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.requestFullScreen?t.requestFullscreen():this.setFullState(!1),this.listenFull()},exitFullscreen(){this.exitFullScreen()}}}}).call(this,s("1157"))},eed2:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return a}));const i={emojiList:[{url:"1f642.png",alt:"[微笑]"},{url:"1f643.png",alt:"[微笑倒]"},{url:"12639.png",alt:"[不开心]"},{url:"1f602.png",alt:"[笑哭]"},{url:"1f633.png",alt:"[发呆]"},{url:"1f60e.png",alt:"[墨镜]"},{url:"1f62d.png",alt:"[大哭]"},{url:"1f60a.png",alt:"[可爱]"},{url:"1f910.png",alt:"[哑]"},{url:"1f634.png",alt:"[睡]"},{url:"1f622.png",alt:"[哭]"},{url:"1f605.png",alt:"[囧]"},{url:"1f621.png",alt:"[怒]"},{url:"1f61c.png",alt:"[调皮]"},{url:"1f604.png",alt:"[笑]"},{url:"1f631.png",alt:"[惊讶]"},{url:"1f641.png",alt:"[难过]"},{url:"1f913.png",alt:"[酷]"},{url:"1f625.png",alt:"[汗]"},{url:"1f62b.png",alt:"[抓狂]"},{url:"1f92e.png",alt:"[吐]"},{url:"1f606.png",alt:"[大笑]"},{url:"1f601.png",alt:"[快乐]"},{url:"1f60f.png",alt:"[得意]"},{url:"1f60b.png",alt:"[饿]"},{url:"1f635.png",alt:"[累]"},{url:"1f628.png",alt:"[吓]"},{url:"1f613.png",alt:"[汗]"},{url:"1f61d.png",alt:"[高兴]"},{url:"1f611.png",alt:"[闲]"},{url:"1f920.png",alt:"[努力]"},{url:"1f92c.png",alt:"[骂]"},{url:"1f914.png",alt:"[疑问]"},{url:"1f92b.png",alt:"[秘密]"},{url:"1f92f.png",alt:"[乱]"},{url:"1f624.png",alt:"[疯]"},{url:"1f623.png",alt:"[哀]"},{url:"1f608.png",alt:"[坏笑]"},{url:"1f923.png",alt:"[笑歪]"},{url:"1f917.png",alt:"[bye]"},{url:"1f924.png",alt:"[饥饿]"},{url:"1f644.png",alt:"[白眼]"},{url:"1f60d.png",alt:"[色]"},{url:"1f616.png",alt:"[糟糕]"},{url:"1f612.png",alt:"[嫌弃]"},{url:"1f61a.png",alt:"[亲亲]"},{url:"1f609.png",alt:"[wink]"},{url:"1f629.png",alt:"[累]"},{url:"1f615.png",alt:"[看]"},{url:"1f61f.png",alt:"[哀]"},{url:"1f61e.png",alt:"[失落]"},{url:"1f47f.png",alt:"[坏]"},{url:"1f618.png",alt:"[飞吻]"},{url:"1f630.png",alt:"[冷汗]"},{url:"1f97a.png",alt:"[可怜]"},{url:"1f60c.png",alt:"[惬意]"},{url:"1f61b.png",alt:"[吐舌]"},{url:"1f92a.png",alt:"[鬼脸]"},{url:"1f92d.png",alt:"[捂嘴]"},{url:"1f614.png",alt:"[失落]"},{url:"1f9d0.png",alt:"[傲]"},{url:"1f62c.png",alt:"[龇牙]"},{url:"1f620.png",alt:"[皱眉]"},{url:"1f62a.png",alt:"[鼻涕]"},{url:"1f62e.png",alt:"[哦]"},{url:"1f632.png",alt:"[噢]"},{url:"1f637.png",alt:"[感冒]"},{url:"1f912.png",alt:"[发烧]"},{url:"1f927.png",alt:"[伤风]"},{url:"1f627.png",alt:"[啊]"},{url:"1f607.png",alt:"[升天]"},{url:"1f911.png",alt:"[吐钱]"},{url:"1f915.png",alt:"[头疼]"},{url:"1f922.png",alt:"[恶心]"},{url:"1f925.png",alt:"[说谎]"},{url:"1f928.png",alt:"[疑惑]"},{url:"1f929.png",alt:"[眼冒金星]"},{url:"1263a.png",alt:"[舒服]"},{url:"1f975.png",alt:"[热]"},{url:"1f970.png",alt:"[温暖]"},{url:"1f973.png",alt:"[庆祝]"},{url:"1f974.png",alt:"[歪嘴]"},{url:"1f976.png",alt:"[冻僵]"},{url:"1f4a9.png",alt:"[翔]"},{url:"1f47b.png",alt:"[幽灵]"},{url:"1f47d.png",alt:"[外星人]"},{url:"1f63a.png",alt:"[猫笑]"},{url:"1f63b.png",alt:"[猫色]"},{url:"1f63c.png",alt:"[猫得意]"},{url:"1f63d.png",alt:"[猫亲亲]"},{url:"1f63e.png",alt:"[猫难过]"},{url:"1f63f.png",alt:"[猫冷汗]"},{url:"1f638.png",alt:"[猫大笑]"},{url:"1f639.png",alt:"[猫笑哭]"},{url:"1f640.png",alt:"[猫惊吓]"},{url:"1f47e.png",alt:"[怪物]"},{url:"1f64a.png",alt:"[不问]"},{url:"1f648.png",alt:"[不看]"},{url:"1f649.png",alt:"[不听]"},{url:"1f47a.png",alt:"[面具]"},{url:"1f479.png",alt:"[狮子]"},{url:"1f480.png",alt:"[骷髅]"},{url:"1f916.png",alt:"[机器人]"},{url:"1f921.png",alt:"[小丑]"},{url:"2620.png",alt:"[海盗]"},{url:"embrace.png",alt:"[抱抱]"},{url:"boxing.png",alt:"[抱拳]"},{url:"handshake.png",alt:"[握手]"},{url:"1f44c.png",alt:"[OK]"},{url:"1f44d.png",alt:"[点赞]"},{url:"1f44e.png",alt:"[倒彩]"},{url:"1f44b.png",alt:"[挥手]"},{url:"1f44a.png",alt:"[拳头]"},{url:"1f91a.png",alt:"[手掌]"},{url:"1f91b.png",alt:"[出拳]"},{url:"270c.png",alt:"[剪刀手]"},{url:"1f446.png",alt:"[向上]"},{url:"1f447.png",alt:"[向下]"},{url:"1f448.png",alt:"[向左]"},{url:"1f449.png",alt:"[向右]"},{url:"1f595.png",alt:"[鄙视]"},{url:"261d.png",alt:"[食指]"},{url:"1f919.png",alt:"[666]"},{url:"270a.png",alt:"[十]"},{url:"1f91e.png",alt:"[九]"},{url:"1f596.png",alt:"[八]"},{url:"1f91f.png",alt:"[七]"},{url:"1f918.png",alt:"[六]"},{url:"1f590.png",alt:"[五]"},{url:"1f4a3.png",alt:"[炸弹]"},{url:"1f4a2.png",alt:"[愤怒]"},{url:"1f4a4.png",alt:"[zzz]"},{url:"1f4a5.png",alt:"[火花]"},{url:"1f4a6.png",alt:"[水滴]"},{url:"1f4a8.png",alt:"[尾气]"},{url:"1f4ab.png",alt:"[星星]"},{url:"1f4af.png",alt:"[100分]"},{url:"1f5a4.png",alt:"[黑心]"},{url:"1f9e1.png",alt:"[橙心]"},{url:"1f49a.png",alt:"[绿心]"},{url:"1f49b.png",alt:"[黄心]"},{url:"1f49c.png",alt:"[紫心]"},{url:"1f499.png",alt:"[蓝心]"},{url:"2764.png",alt:"[红心]"},{url:"1f494.png",alt:"[心碎]"},{url:"1f493.png",alt:"[心动]"},{url:"1f497.png",alt:"[心跳]"},{url:"1f49e.png",alt:"[心转]"},{url:"1f49d.png",alt:"[心结]"},{url:"1f495.png",alt:"[两心]"},{url:"1f496.png",alt:"[动心]"},{url:"1f498.png",alt:"[一见钟情]"},{url:"1f49f.png",alt:"[心标]"},{url:"2763.png",alt:"[感叹]"},{url:"1f48b.png",alt:"[唇印]"},{url:"1f573.png",alt:"[洞]"},{url:"1f4ac.png",alt:"[消息]"},{url:"1f4ad.png",alt:"[想法]"},{url:"1f5ef.png",alt:"[对话框]"},{url:"1f48c.png",alt:"[情书]"}]};function a(t){let e=t.replace(/\[([^(\]|\[)]*)\]/g,(t,e)=>{let s;for(let a=0;a<i.emojiList.length;a++){let e=i.emojiList[a];e.alt==t&&(s=`<img src="/static/emoji/emoji/${e.url}" style="width:18px;height:18px;vertical-align: middle;" alt="${t}">`)}return s||t});return e}},efa8:function(t,e,s){"use strict";(function(t){var i=s("a7fe"),a=s("c50e"),r=s("2f62"),o=s("4e08"),n=s("3a23"),c=s("b99e");e["a"]={props:["pcarshow","gcarshow"],data(){return{tocardshow:!1,cardInfo:{},orgMyGroupList:[],groupCardFilter:[],gcardsearch:"",sharetype:1,loading:!1,friendscrollid:"friendListCard"}},computed:{...Object(r["d"])({chatOn:t=>t.Ws.chatOn,chatinfo:t=>t.Ws.chatInfo,isGroup:t=>t.Ws.isGroup})},mixins:[c["a"]],watch:{pcarshow(e){e?(this.initFriend(),this.getMyFriendList()):t(".iconIMweb_grcard").removeClass("icon_select")},gcarshow(e){e?(this.initGroupList(),this.getGroup()):t(".iconIMweb_qcard").removeClass("icon_select")}},methods:{initGroupList(){let t={tocardshow:!1,cardInfo:{},orgMyGroupList:[],groupCardFilter:[],gcardsearch:"",sharetype:1,loading:!1,friendscrollid:"friendListCard"};Object.assign(this.$data,t)},stopProp(){},closeDialog(){this.$emit("update:pcarshow",!1),this.$emit("update:gcarshow",!1)},showCard(t,e){this.sharetype=e,this.cardInfo={name:t.name||t.nick,toavatar:Object(i["l"])(t.avatar),uid:t.uid,groupid:t.groupid},this.tocardshow=!0},cancleToShare(){this.tocardshow=!1},sureSendCard(){this.loading=!0;let t={};t=1==this.sharetype?{chatlinkid:this.chatOn,cardid:this.cardInfo.uid,cardtype:1}:{chatlinkid:this.chatOn,cardid:this.cardInfo.groupid,cardtype:2},this.isGroup?Object(o["a"])(n["c"].WxGroupChatReq,t):Object(o["a"])(n["c"].WxFriendChatReq,t),this.tocardshow=!1,this.loading=!1,document.documentElement.click()},async getGroup(){this.orgMyGroupList=await this.getMyGroupList(),this.groupCardFilter=[...this.orgMyGroupList],this.$nextTick(()=>{Object(i["d"])(t("#groupListCard"))})},async getMyGroupList(){let t={mode:2},e=[],s=await a["b"].chatMailList(t);if(!s.ok)return void Object(a["j"])(s.msg);let r=s.data;return r&&(e=r.group,e.map(t=>{t.avatar=Object(i["l"])(t.avatar)})),e},groupQuerylist(){let t=new RegExp(""+this.gcardsearch,"gi"),e=[],s=[...this.orgMyGroupList];s.forEach((function(s){t.lastIndex=0,t.test(s.name)&&e.push(s)})),this.groupCardFilter=e}}}}).call(this,s("1157"))},f094:function(t,e,s){"use strict";(function(t){var i=s("2f62"),a=s("fb19"),r=s("7af6"),o=s("c50e"),n=s("a7fe"),c=s("20ff");e["a"]={props:["groupid"],data(){return{groupSet:!1,hasGroup:!1,showEditName:!1,userName:"",searchValue:"",searchResult:!1,search:{pagenum:1,totalPage:0},searchData:[],forbiddenList:!1,forbiddenListShow:!1,removeInfo:{},infoQrCode:!1,codeValue:"",user_avatar:"",qrmsg:"扫码加入群聊"}},watch:{async groupid(t){t?(await this.getGroupInfo(),this.getGroupMembers(),this.hasGroup=!0):this.hasGroup=!1},groupSet(t){t&&1==this.groupUser.grouprole&&this.searchList()}},computed:{...Object(i["d"])({applyThis:t=>t.Ws.applyThis})},components:{GroupModel:a["a"],qrCode:c["a"]},mixins:[r["a"]],methods:{...Object(i["c"])(["setGroupMore"]),showGroupSet(){document.documentElement.click(),this.groupSet=!0},sendMessage(t){this.$emit("sendMsg",t),this.setGroupMore(!1)},sendCard(){let t={...this.groupUser,...this.groupInfo};this.$emit("sendCard",t)},afterDelGroup(t){let e=this.groupMember.findIndex(e=>e.uid==t);this.groupMember.splice(e,1),this.groupInfo.joinnum--,this.applyThis.$refs.grouplist.groupList.find(t=>t.groupid==this.groupid).joinnum=this.groupInfo.joinnum},showEditIpt(){this.userName=this.groupInfo.name,this.showEditName=!0},stopProp(){},sureSaveRemark(){this.loading=!0;let t={groupid:this.groupid,name:this.userName};""!=this.userName?o["g"].modifyName(t).then(t=>{t.ok?(Object(o["j"])("保存成功"),this.groupInfo.name=this.userName,this.showEditName=!1):Object(o["j"])(t.msg),this.loading=!1}):this.showEditName=!1},changeInvit(t){"modifyApply"==t?1==this.groupInfo.applyflag?this.showModel("closeinvit"):this.openInvit():"modifyReview"==t?1==this.groupInfo.joinmode?this.modifyReview(2):this.modifyReview(1):"modifyFriendFlag"==t&&(1==this.groupInfo.friendflag?this.modifyFriendFlag(2):this.modifyFriendFlag(1))},allForbidden(){1==this.groupInfo.forbiddenflag?this.showModel("relieveProhibit"):this.showModel("prohibit")},getForbiddenList(){this.forbiddenListShow=!0,this.groupSet=!1},searchFriend(){this.search.pagenum=1,this.searchList()},initSearchUser(){let t={searchValue:"",searchResult:!1,search:{pagenum:1,totalPage:0},searchData:[]};Object.assign(this.$data,t)},SecondToDate:function(t){var e=t;return 0==e?e="长期禁言":e>60&&e<3600?e=parseInt(e/60)+"分钟":e>=3600&&e<=86400&&(e=parseInt(e/3600)+"小时"),e},searchList(){let e={pageNumber:this.search.pagenum,searchkey:this.searchValue,groupid:this.groupid};o["g"].forbiddenUserList(e).then(e=>{if(e.ok){let s=e.data;if(1==this.search.pagenum&&(this.searchData=[]),!s)return void(this.searchResult=!1);this.search.totalPage=s.totalRow,this.searchResult=!0;let i=s.list;if(i.map(t=>{t.avatar=Object(n["l"])(t.avatar)}),this.searchData=Object.assign([],this.searchData,this.searchData.concat(i)),1==this.search.pagenum){let e=this;this.$nextTick(()=>{Object(n["d"])(t("#searchUserList"),"",{whileScrolling:function(){95==this.mcs.topPct&&e.search.pagenum<e.search.totalPage&&(e.search.pagenum++,e.searchList())}})})}}else Object(o["j"])(e.msg)})},removeForbidden(t){this.removeInfo=t,this.forbiddenList=!0},remvoeForbidden(){let t={};this.groupInfo.id;t.groupid=this.groupInfo.id,t.uid=this.removeInfo.uid,t.oper=2,t.duration=this.removeInfo.forbiddenduration,t.mode=this.removeInfo.forbiddenflag,o["g"].chatForbidden(t).then(t=>{t.ok?(Object(o["j"])("移除禁言名单成功"),this.forbiddenList=!1,this.searchList()):Object(o["j"])(t.msg)})},showQrCode(){this.infoQrCode=!0,this.user_avatar=Object(n["l"])(this.groupInfo.avatar),this.codeValue=`https://a.app.qq.com/o/simple.jsp?pkgname=com.tiocloud.chat&g=${this.groupInfo.id}&applyuid=${this.groupInfo.uid}`},hideInfoQrCode(){this.infoQrCode=!1}}}}).call(this,s("1157"))},fa5e:function(t,e,s){"use strict";s("e625")},fb19:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"groupmodel"},[i("Dialog",{directives:[{name:"show",rawName:"v-show",value:"outgroup"==t.type,expression:"type == 'outgroup'"}]},[i("div",{staticClass:"modelbody"},[i("div",{staticClass:"maintitle"},[i("p",[t._v("确定退出当前群聊？")]),i("p",{staticClass:"smtitle"},[t._v("退出后将不再接收此群消息")])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleModel}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:function(e){return t.sureOutGroup(t.groupInfo.id)}}},[t._v(" 确定 ")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:"delgroup"==t.type,expression:"type == 'delgroup'"}]},[i("div",{staticClass:"modelbody"},[i("div",{staticClass:"maintitle"},[i("p",[t._v("确定解散群聊吗？")]),i("p",{staticClass:"smtitle"},[t._v("解散后，所有与群有关的记录都将被删除")])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleModel}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading||t.deltime>0},on:{click:t.sureDelGroup}},[t._v(" 确认解散"+t._s(0==t.deltime?"":"("+t.deltime+")")+" ")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:"groupnotice"==t.type,expression:"type == 'groupnotice'"}]},[i("div",{staticClass:"modelbody groupnotice"},[i("div",{staticClass:"title"},[i("label",[t._v("群公告")]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel",on:{click:t.cancleModel}})]),i("div",{staticClass:"notice-content"},[i("p",{staticClass:"notice-time"},[t._v(" "+t._s(t.groupInfo.noticetime?"("+t.groupInfo.noticetime+")":"")+" ")]),i("div",{staticClass:"info-notice"},[t._v(t._s(t.groupInfo.notice||"暂无群公告"))])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:"groupintro"==t.type,expression:"type == 'groupintro'"}]},[i("div",{staticClass:"modelbody groupnotice"},[i("div",{staticClass:"title"},[i("label",[t._v("群简介")]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel",on:{click:t.cancleModel}})]),i("div",{staticClass:"notice-content"},[i("div",{staticClass:"info-notice"},[t._v(t._s(t.groupInfo.intro||"暂无群简介"))])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:"editnotice"==t.type,expression:"type == 'editnotice'"}]},[i("div",{staticClass:"modelbody groupnotice"},[i("div",{staticClass:"title"},[t._v(" 群公告 ")]),i("div",{staticClass:"areacontainer"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notice,expression:"notice"}],attrs:{maxlength:"500",placeholder:"请填写群公告"},domProps:{value:t.notice},on:{input:function(e){e.target.composing||(t.notice=e.target.value)}}}),i("p",{staticClass:"num-count"},[t._v(t._s(t.notice.length)+"/500")])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleModel}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.updateNotice}},[t._v(" 保存 ")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:"editintro"==t.type,expression:"type == 'editintro'"}]},[i("div",{staticClass:"modelbody groupnotice"},[i("div",{staticClass:"title"},[t._v(" 群简介 ")]),i("div",{staticClass:"areacontainer"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.intro,expression:"intro"}],attrs:{maxlength:"500",placeholder:"请填写群简介"},domProps:{value:t.intro},on:{input:function(e){e.target.composing||(t.intro=e.target.value)}}}),i("p",{staticClass:"num-count"},[t._v(t._s(t.intro.length)+"/500")])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleModel}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.updateIntro}},[t._v(" 保存 ")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:"editnick"==t.type,expression:"type == 'editnick'"}]},[i("div",{staticClass:"modelbody editnick"},[i("p",{staticClass:"title"},[t._v("我的群昵称")]),i("div",{staticClass:"groupipt"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.nick,expression:"nick"}],attrs:{maxlength:"30",placeholder:"我的群昵称"},domProps:{value:t.nick},on:{input:function(e){e.target.composing||(t.nick=e.target.value)}}}),i("p",{staticClass:"num-count"},[t._v(t._s(t.nick?t.nick.length:0)+"/30")])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleModel}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.updateGroupNick}},[t._v(" 保存 ")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:"closeinvit"==t.type,expression:"type == 'closeinvit'"}]},[i("div",{staticClass:"modelbody"},[i("div",{staticClass:"maintitle"},[i("p",[t._v("确定关闭成员邀请吗？")]),i("p",{staticClass:"smtitle"},[t._v("关闭后成员将不能邀请其他人加入群聊")])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleModel}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.sureCloseInvit}},[t._v(" 确定 ")])])])]),i("ContextMenu",{attrs:{show:t.contextmenushow,contextmenu:t.contextmenu,groupInfo:t.groupInfo,cmenutype:t.cmenutype,isFriend:t.isFriend,isforbidden:t.isforbidden},on:{userApply:t.userApply}}),i("UserCard",{ref:"usercard",attrs:{show:t.cardshow,userCard:t.userCard},on:{"update:show":function(e){t.cardshow=e}}}),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:"transgroup"==t.type,expression:"type == 'transgroup'"}]},[i("div",{staticClass:"modelbody transContent"},[i("p",{staticClass:"trans-title"},[i("span",[t._v("选择新群主")]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel closeicon",on:{click:t.cancleModel}})]),i("p",{staticClass:"tm-search-friend"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.transval,expression:"transval"}],staticClass:"tm-search-input",attrs:{type:"text",autocomplete:"off",placeholder:"请输入昵称"},domProps:{value:t.transval},on:{input:[function(e){e.target.composing||(t.transval=e.target.value)},t.memberQuerylist]}})]),i("div",{staticClass:"transbody",attrs:{id:"transOwnerList"}},[i("ul",{staticClass:"transmemebers card-content"},[t.shownodata&&0==t.filterMemberList.length?i("div",{staticClass:"nodata-content"},[i("img",{staticClass:"search-nodata",attrs:{src:s("1e27")}}),i("p",{staticClass:"search-nodata_tips"},[t._v("抱歉，没有找到相关信息")])]):t._e(),t._l(t.filterMemberList,(function(e){return i("li",{key:e.uid,staticClass:"trans-col flexbox cursor",on:{click:function(s){return t.transRowClick(e)}}},[i("el-image",{staticClass:"trans-col_img",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{domProps:{innerHTML:t._s(t.brightenKeyword(e.nick,t.transval))}})],1)}))],2)])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.trans.show,expression:"trans.show"}]},[i("div",{staticClass:"modelbody"},[i("div",{staticClass:"maintitle"},[i("p",[t._v(" 确定选择"),i("span",{staticClass:"trans-user"},[t._v('"'+t._s(t.trans.data.nick)+'"')]),t._v("为新群主？ ")]),i("p",{staticClass:"smtitle"},[t._v("您将自动转为普通成员")])]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleTrans}},[t._v("取消")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.sureTransGroup}},[t._v(" 确定 ")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:"delmember"==t.type||"addmember"==t.type,expression:"type == 'delmember' || type == 'addmember'"}]},[i("div",{staticClass:"modelbody transcontainer"},[i("p",{staticClass:"title"},[i("label",{staticClass:"trans-title"},[t._v(t._s("addmember"==t.type?"添加好友":"删除好友"))]),i("i",{staticClass:"iconfont iconIMweb_cancel_cancel",on:{click:t.cancleModel}})]),i("div",{staticClass:"trans-body"},[i("div",{staticClass:"trans-left"},["addmember"==t.type?i("div",{staticClass:"fillheight"},[i("div",{staticClass:"search-content"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.applyval,expression:"applyval"}],staticClass:"search-input",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.applyval},on:{input:[function(e){e.target.composing||(t.applyval=e.target.value)},function(e){return t.searchApply(t.applyval)}]}})]),i("div",{staticClass:"trans-list",attrs:{id:"addMemberlist"}},[i("div",[i("ul",[t.shownodata&&0==t.addFriendList.length?i("div",{staticClass:"nodata-content"},[i("img",{staticClass:"search-nodata",attrs:{src:s("1e27")}}),i("p",{staticClass:"search-nodata_tips"},[t._v("抱歉，没有找到相关信息")])]):t._e(),t._l(t.addFriendList,(function(e){return i("div",{key:e.index},[i("p",{staticClass:"letter-index"},[t._v(t._s(e.index))]),i("div",t._l(e.data,(function(e){return i("li",{key:e.uid,staticClass:"trans-row",on:{click:function(s){return t.delMemberClick(e.uid)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("span",{staticClass:"row-name",domProps:{innerHTML:t._s(t.brightenKeyword(e.remarkname||e.nick,t.membval))}}),i("span",{staticClass:"tm-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.delArr,expression:"delArr"}],attrs:{type:"checkbox"},domProps:{value:e.uid,checked:Array.isArray(t.delArr)?t._i(t.delArr,e.uid)>-1:t.delArr},on:{change:function(s){var i=t.delArr,a=s.target,r=!!a.checked;if(Array.isArray(i)){var o=e.uid,n=t._i(i,o);a.checked?n<0&&(t.delArr=i.concat([o])):n>-1&&(t.delArr=i.slice(0,n).concat(i.slice(n+1)))}else t.delArr=r}}})])],1)})),0)])}))],2)])])]):t._e(),"delmember"==t.type?i("div",{staticClass:"fillheight"},[i("div",{staticClass:"search-content"},[i("i",{staticClass:"iconfont iconIMweb_search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.membval,expression:"membval"}],staticClass:"search-input",attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.membval},on:{input:[function(e){e.target.composing||(t.membval=e.target.value)},t.memberQuerylist]}})]),i("div",{staticClass:"trans-list",attrs:{id:"group-member-list"}},[i("div",[i("ul",[t.shownodata&&0==t.filterMemberList.length?i("div",{staticClass:"nodata-content"},[i("img",{staticClass:"search-nodata",attrs:{src:s("1e27")}}),i("p",{staticClass:"search-nodata_tips"},[t._v("抱歉，没有找到相关信息")])]):t._e(),t._l(t.filterMemberList,(function(e){return i("li",{key:e.uid,staticClass:"trans-row",on:{click:function(s){2==e.grouprole&&t.delMemberClick(e.uid)}}},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"row-name",domProps:{innerHTML:t._s(t.brightenKeyword(e.nick,t.membval))}}),i("span",{staticClass:"tm-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.delArr,expression:"delArr"},{name:"show",rawName:"v-show",value:2==e.grouprole,expression:"item.grouprole==2"}],attrs:{type:"checkbox"},domProps:{value:e.uid,checked:Array.isArray(t.delArr)?t._i(t.delArr,e.uid)>-1:t.delArr},on:{change:function(s){var i=t.delArr,a=s.target,r=!!a.checked;if(Array.isArray(i)){var o=e.uid,n=t._i(i,o);a.checked?n<0&&(t.delArr=i.concat([o])):n>-1&&(t.delArr=i.slice(0,n).concat(i.slice(n+1)))}else t.delArr=r}}})])],1)}))],2)])])]):t._e()]),i("div",{staticClass:"trans-right-list"},[i("p",{staticClass:"choose-title clearfloat"},[i("span",[t._v("请勾选要"+t._s("addmember"==t.type?"添加":"删除")+"的联系人"+t._s(t.delArr.length>0?"("+t.delArr.length+")":""))]),"delmember"==t.type?i("button",{staticClass:"primarybtn",attrs:{disabled:!(t.delArr.length>0)},on:{click:t.sureDelMember}},[t._v(" 删除 ")]):t._e(),"addmember"==t.type?i("button",{staticClass:"primarybtn",attrs:{disabled:!(t.delArr.length>0)},on:{click:t.sureAddMember}},[t._v(" 增加 ")]):t._e()]),i("div",{staticClass:"trans-choosed-list",attrs:{id:"del-choosed-list"}},[i("ul",t._l(t.delChoosedList,(function(e){return i("li",{key:e.uid,staticClass:"trans-row"},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"row-name"},[t._v(t._s(e.nick))]),i("i",{staticClass:"iconfont iconttubiao_cha",on:{click:function(s){return t.cancleDelCoosed(e.uid)}}})],1)})),0)])])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.delmembershow,expression:"delmembershow"}]},[i("div",{staticClass:"modelbody"},[i("div",{staticClass:"singletitle"},[t._v(" 确定要删除已选的"+t._s(t.delArr.length)+"位成员？ ")]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleDelMemb}},[t._v(" 取消 ")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:t.delChoosedMember}},[t._v(" 确定 ")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:"relieveProhibit"==t.type||"prohibit"==t.type,expression:"type == 'relieveProhibit' || type=='prohibit'"}]},[i("div",{staticClass:"modelbody"},[i("div",{staticClass:"singletitle"},[t._v(" 确定要"+t._s("prohibit"==t.type?"全体":"解除")+"禁言吗？ ")]),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:t.cancleModel}},[t._v(" 取消 ")]),i("button",{staticClass:"primarybtn",attrs:{disabled:t.loading},on:{click:function(e){"prohibit"==t.type?t.sureForbidden():t.surerRelieveForbidden()}}},[t._v(" 确定 ")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.modifyReviewShow,expression:"modifyReviewShow"}]},[i("div",{staticClass:"modelbody modifyReview-modelbody"},[i("div",{staticClass:"reviewTips"},[t._v(" 群主已开启邀请审核，邀请好友进群可说明邀请理由 ")]),i("div",{staticClass:"content"},[i("el-input",{staticClass:"inviteReason",attrs:{placeholder:"邀请理由",maxlength:"10"},model:{value:t.inviteReason,callback:function(e){t.inviteReason=e},expression:"inviteReason"}}),i("span",{staticClass:"wordLimit"},[t._v(t._s(t.inviteReason.length)+"/10")])],1),i("div",{staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:function(e){t.modifyReviewShow=!1,t.inviteReason=""}}},[t._v(" 取消 ")]),i("button",{staticClass:"primarybtn",on:{click:t.inviteReasonClick}},[t._v(" 确定 ")])])])]),i("Dialog",{directives:[{name:"show",rawName:"v-show",value:t.auditProcessing,expression:"auditProcessing"}]},[i("div",{staticClass:"modelbody auditProcessing-modelbody"},[i("i",{staticClass:"iconfont iconIMweb_cancel_cancel cursor",on:{click:function(e){t.auditProcessing=!1}}}),i("div",{staticClass:"header"},[i("el-image",{staticClass:"invitees_avatar",attrs:{src:t.groupApplyObj.apply.groupavator}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])]),i("p",{staticClass:"invitees_nick"},[t._v(t._s(t.groupApplyObj.apply.srcnick))]),i("p",[t._v("邀请"+t._s(t.groupApplyObj.items.length)+"位朋友进群")]),i("p",{staticClass:"invitees_reasons"},[t._v(t._s(t.groupApplyObj.apply.applymsg))])],1),i("div",{class:["content",t.groupApplyObj.items.length<=6?"flexCenter":"flexStart"]},t._l(t.groupApplyObj.items,(function(e,a){return i("div",{key:a,staticClass:"user_item"},[i("div",{staticClass:"row-avatar"},[i("el-image",{staticClass:"row-avatar",attrs:{src:e.avatar}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("img",{staticClass:"error-img",attrs:{src:s("bf50")}})])])],1),i("p",[t._v(t._s(e.nick))])])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.groupApplyObj.groupApply.apply.status,expression:"groupApplyObj.groupApply.apply.status==2"}],staticClass:"button-group"},[i("button",{staticClass:"primarybtn default",on:{click:function(e){t.auditProcessing=!1}}},[t._v(" 忽略 ")]),i("button",{staticClass:"primarybtn",on:{click:function(e){return t.agreeToAudit(t.groupApplyObj.groupApply)}}},[t._v(" 同意邀请 ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.groupApplyObj.groupApply.apply.status,expression:"groupApplyObj.groupApply.apply.status==1"}],staticClass:"button-group"},[i("button",{staticClass:"primarybtn",attrs:{disabled:!0},on:{click:t.agreeToAudit}},[t._v(" 已同意 ")])])])])],1)},a=[],r=s("d785"),o=r["a"],n=(s("482f"),s("2877")),c=Object(n["a"])(o,i,a,!1,null,"f4808f4c",null);e["a"]=c.exports},fc8e:function(t,e,s){"use strict";(function(t){var i=s("4e08"),a=s("3a23"),r=(s("a7fe"),s("093b")),o=s("c50e"),n=s("2f62"),c=s("eed2");e["a"]={props:["showmediaform"],data(){return{showEmoji:!1,dialogImageUrl:"",dialogVisible:!1,msgdata:"",uploadurl:"/mytio/upload/uploadMedia",fileList:[],emojiList:c["a"].emojiList,staticUrl:""}},mixins:[r["a"]],watch:{showEmoji(e){e||t(".iconIMweb_expression").removeClass("icon_select")},remindshow(e){e||t(".iconIMweb_").removeClass("icon_select")}},mounted(){this.staticUrl="/",this.$nextTick(()=>{this.$msgcontainer=t("#msgcontainer"),this.$chatInput=t("#chat-input"),this.setChatInput(this.$chatInput),this.setChatSofftop(t("#chat-bottom").offset().top-88)})},methods:{closeEmojiDialog(){this.showEmoji=!1},appendMessages(e){let s=t(e.currentTarget).attr("alt");this.$chatInput.focus(),this.lastSelection.range||this.getSelecRange(),this.msgdata+=s,t(".iconIMweb_expression").removeClass("icon_select")},handleChange(t){console.log("file===",t),console.log("change up")},beforeUploadFn(t){console.log("before up")},handleUpload(t){console.log("出发了"),console.log(t);let e=new FormData;e.append("uploadFile",t.file,t.name),Object(o["k"])("/upload/uploadMedia",e).then(t=>{console.log("upres===",t),console.log("files==",this.fileList),1==t.ok&&this.fileList.push(t.data)})},handleRemove(t,e){for(let s in e)t.id===e[s].id&&e.delete(s);this.fileList=e,console.log("file==",t),console.log("filelist==",e)},handlePictureCardPreview(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},stopProp(){},submitMediaForm(){let t=this;if(null==this.msgdata||void 0==this.msgdata||""==this.msgdata)return Object(o["j"])("聊天内容不能为空！"),!1;if(null==this.fileList||this.fileList.length<=0)return Object(o["j"])("请至少上传一张图片或者一个视频"),!1;if(null!=this.fileList&&this.fileList.length>9)return Object(o["j"])("请不要长传超过9张图片或者视频"),!1;const e={msg:this.msgdata,files:JSON.stringify(this.fileList),chatlinkid:this.chatOn};console.log("提交数据",e),o["g"].addMediaGroupChat(e).then(s=>{s.ok?(console.log("res==",s),Object(o["j"])(s.data),this.chatOn<0?Object(i["a"])(a["c"].WxGroupMsgReq,e):Object(i["a"])(a["c"].WxFriendMsgReq,e),t.closeDialog()):Object(o["j"])("提交失败")})},closeDialog(){this.$emit("update:showmediaform",!1),this.fileList=[],this.msgdata=""}},computed:{...Object(n["d"])({curruid:t=>t.User.currUid,chatinfo:t=>t.Ws.chatInfo,chatOn:t=>t.Ws.chatOn,bizId:t=>t.Ws.bizId,MessageList:t=>t.Ws.MessageList,imgList:t=>t.Ws.imgList,isGroup:t=>t.Ws.isGroup,applyThis:t=>t.Ws.applyThis,commGroupInfo:t=>t.CommonInfo.groupUserInfo})}}}).call(this,s("1157"))}});